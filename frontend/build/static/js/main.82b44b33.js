/*! For license information please see main.82b44b33.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var i=n(853),r=n(43),s=n(950);function a(e){var t="https://5615d989-fec4-4cb7-9787-0e64198971f7.preview.emergentagent.com",_c="".concat(vc,"/api"),wc=e=>{let{children:t,required:n=!1,className:i=""}=e;return(0,xc.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2 leading-tight ".concat(i),children:[t,n&&(0,xc.jsx)("span",{className:"text-red-500 ml-1 font-bold",children:"*"})]})},jc=e=>{let{type:t="text",value:n,onChange:i,placeholder:r="",required:s=!1,className:a=""}=e,o=u(e,bc);return(0,xc.jsx)("input",d({type:t,value:n,onChange:i,placeholder:r,required:s,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg \n                focus:border-blue-500 focus:ring-4 focus:ring-blue-100 \n                transition-all duration-200 text-gray-800 font-medium\n                placeholder-gray-400 shadow-sm hover:border-gray-300\n                ".concat(s?"border-red-200 focus:border-red-500 focus:ring-red-100":"","\n                ").concat(a)},o))},Nc=e=>{let{value:t,onChange:n,children:i,required:r=!1,className:s=""}=e,a=u(e,yc);return(0,xc.jsx)("select",d(d({value:t,onChange:n,required:r,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg \n                focus:border-blue-500 focus:ring-4 focus:ring-blue-100 \n                transition-all duration-200 text-gray-800 font-medium\n                bg-white shadow-sm hover:border-gray-300 cursor-pointer\n                ".concat(r?"border-red-200 focus:border-red-500 focus:ring-red-100":"","\n                ").concat(s)},a),{},{children:i}))},kc=e=>{let{title:t,icon:n="",children:i,className:r=""}=e;return(0,xc.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ".concat(r),children:[t&&(0,xc.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-100",children:(0,xc.jsxs)("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[n&&(0,xc.jsx)("span",{className:"mr-3 text-xl",children:n}),t]})}),(0,xc.jsx)("div",{className:"p-6",children:i})]})},Sc=e=>{let{children:t,cols:n=2,className:i=""}=e;return(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-".concat(n," gap-6 ").concat(i),children:t})},Cc={fontFamily:"'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif",letterSpacing:"-0.025em"},Pc=()=>{var e,t,n,i;const[s,a]=(0,r.useState)("hydraulic"),[o,l]=(0,r.useState)({installation_age:"",installation_type:"surface",pump_manufacturer:"",pump_model:"",pump_serial:"",motor_manufacturer:"",motor_power_rated:"",motor_current_rated:"",current_flow_rate:"",current_head:"",current_efficiency:"",operating_hours_daily:"",operating_days_yearly:"",suction_pressure:"",discharge_pressure:"",motor_current:"",motor_voltage:"",vibration_level:"",noise_level:"",temperature_motor:"",temperature_bearing:"",leakage_present:!1,corrosion_level:"none",alignment_status:"good",coupling_condition:"good",foundation_status:"good",last_maintenance:"",maintenance_frequency:"monthly",replacement_parts:[],reported_issues:[],performance_degradation:!1,energy_consumption_increase:!1}),[c,u]=(0,r.useState)({electricity_tariff:"96",peak_hours_tariff:"150",off_peak_tariff:"75",demand_charge:"8000",peak_hours_daily:"8",off_peak_hours_daily:"16",seasonal_variation:"none",load_factor:"0.75",power_consumption_measured:"",power_factor_measured:"",energy_monthly_kwh:"",energy_cost_monthly:"",control_system:"basic",variable_frequency_drive:!1,soft_starter:!1,pressure_tank:!1,automation_level:"manual",target_energy_savings:"20",payback_period_max:"3",investment_budget:"",shutdown_windows:"weekends",safety_requirements:[],environmental_constraints:[]}),[h,m]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),g=[{value:"excellent",label:"Excellent"},{value:"good",label:"Bon"},{value:"fair",label:"Acceptable"},{value:"poor",label:"M\xe9diocre"},{value:"critical",label:"Critique"}],x=()=>{const e=b(),t=y();return e<60&&t<60?"Critique - Intervention imm\xe9diate":e<75||t<75?"\xc9lev\xe9e - Planifier sous 6 mois":"Mod\xe9r\xe9e - Optimisation continue"},b=()=>{let e=100;return"moderate"===o.corrosion_level&&(e-=15),"severe"===o.corrosion_level&&(e-=30),"poor"===o.alignment_status&&(e-=20),"poor"===o.coupling_condition&&(e-=15),o.leakage_present&&(e-=10),o.performance_degradation&&(e-=25),"monthly"===o.maintenance_frequency&&(e+=5),"weekly"===o.maintenance_frequency&&(e+=10),Math.max(20,Math.min(100,e))},y=()=>{let e=100;return c.variable_frequency_drive||"energy"!==s||(e-=25),parseFloat(c.power_factor_measured)<.9&&(e-=15),"basic"===c.control_system&&(e-=20),c.energy_consumption_increase&&(e-=20),c.variable_frequency_drive&&(e+=15),"advanced"===c.automation_level&&(e+=10),Math.max(30,Math.min(100,e))},v=e=>e>=90?{level:"Excellent",color:"text-green-600",bgColor:"bg-green-100"}:e>=75?{level:"Bon",color:"text-blue-600",bgColor:"bg-blue-100"}:e>=60?{level:"Acceptable",color:"text-yellow-600",bgColor:"bg-yellow-100"}:e>=40?{level:"M\xe9diocre",color:"text-orange-600",bgColor:"bg-orange-100"}:{level:"Critique",color:"text-red-600",bgColor:"bg-red-100"},_=()=>{const e=b(),t=y();return{hydraulic_audit:{overall_score:e,performance_rating:v(e),key_findings:[{category:"Performance Hydraulique",finding:o.performance_degradation?"D\xe9gradation des performances d\xe9tect\xe9e par rapport aux sp\xe9cifications nominales":"Performances hydrauliques dans la plage acceptable",severity:o.performance_degradation?"high":"low",impact:o.performance_degradation?"Augmentation de la consommation \xe9nerg\xe9tique et r\xe9duction de la dur\xe9e de vie":"Impact limit\xe9 sur l'efficacit\xe9 globale"},{category:"\xc9tat M\xe9canique",finding:"Corrosion ".concat(o.corrosion_level,", alignement ").concat(o.alignment_status),severity:"severe"===o.corrosion_level?"high":"medium",impact:"Influence directe sur la fiabilit\xe9 et la maintenance pr\xe9ventive"},{category:"Maintenance Pr\xe9ventive",finding:"Fr\xe9quence actuelle: ".concat(o.maintenance_frequency),severity:"annual"===o.maintenance_frequency?"medium":"low",impact:"Optimisation possible du programme de maintenance"}],recommendations:[{priority:"Haute",action:"Remplacement des pi\xe8ces d'usure critiques",description:"Remplacer les joints, roulements et garnitures m\xe9caniques",cost_range:"2 000 - 5 000 FCFA",timeline:"1-2 semaines",benefits:"Am\xe9lioration fiabilit\xe9 +30%, r\xe9duction fuites"},{priority:"Moyenne",action:"Optimisation de l'alignement pompe-moteur",description:"Contr\xf4le et correction de l'alignement avec instruments de pr\xe9cision",cost_range:"500 - 1 500 FCFA",timeline:"2-3 jours",benefits:"R\xe9duction vibrations -40%, augmentation dur\xe9e de vie +25%"},{priority:"Basse",action:"Am\xe9lioration du programme de maintenance pr\xe9ventive",description:"Mise en place d'un planning de maintenance pr\xe9dictive",cost_range:"1 000 - 3 000 FCFA",timeline:"1 mois",benefits:"R\xe9duction pannes impr\xe9vues -50%, optimisation co\xfbts"}],priority_actions:["Remplacement imm\xe9diat des pi\xe8ces critiques us\xe9es","Correction de l'alignement pompe-moteur","Installation d'un syst\xe8me de surveillance vibratoire","Optimisation du programme de maintenance pr\xe9ventive"],cost_estimates:{immediate_repairs:15e3,preventive_maintenance:8e3,efficiency_upgrades:25e3,monitoring_systems:12e3}},energy_audit:{overall_score:t,efficiency_rating:v(t),energy_analysis:{current_consumption:parseFloat(c.energy_monthly_kwh)||1200,current_cost:parseFloat(c.energy_cost_monthly)||115200,efficiency_current:75,efficiency_potential:90,load_profile:"Variable avec pics en journ\xe9e",power_quality:parseFloat(c.power_factor_measured)||.85},savings_potential:{annual_savings_kwh:2400,annual_savings_fcfa:230400,co2_reduction_kg:1680,payback_months:18,roi_percentage:35},improvement_measures:[{measure:"Installation variateur de fr\xe9quence",savings_percentage:25,cost:35e3,payback_months:14},{measure:"Optimisation r\xe9gulation pression",savings_percentage:15,cost:18e3,payback_months:18},{measure:"Am\xe9lioration facteur puissance",savings_percentage:8,cost:12e3,payback_months:24}],payback_analysis:{total_investment:65e3,annual_savings:230400,simple_payback_months:3.4,npv_5_years:89e4,irr_percentage:42}},combined_analysis:{total_score:Math.round((e+t)/2),investment_priority:x(),implementation_roadmap:[{phase:"Phase 1 (0-3 mois)",actions:["R\xe9parations critiques","Maintenance corrective"]},{phase:"Phase 2 (3-6 mois)",actions:["Installation variateur","Optimisation contr\xf4le"]},{phase:"Phase 3 (6-12 mois)",actions:["Syst\xe8me monitoring","Formation \xe9quipes"]}]}}};return(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\ud83d\udd27 SYST\xc8ME D'AUDIT HYDRAULIQUE & \xc9NERG\xc9TIQUE"}),(0,xc.jsx)("p",{className:"text-indigo-100",children:"Analyses techniques approfondies pour optimisation performance et efficacit\xe9 \xe9nerg\xe9tique"}),(0,xc.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,xc.jsx)("div",{children:"\u2705 Audit ISO 50001"}),(0,xc.jsx)("div",{children:"\u2705 Standards IEC 60034"}),(0,xc.jsx)("div",{children:"\u2705 Normes ASHRAE"}),(0,xc.jsx)("div",{children:"\u2705 Certification ENERGY STAR"})]})]}),(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,xc.jsx)("div",{className:"border-b border-gray-200",children:(0,xc.jsxs)("nav",{className:"flex",children:[(0,xc.jsx)("button",{onClick:()=>a("hydraulic"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("hydraulic"===s?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\ud83d\udd27 Audit Hydraulique"}),(0,xc.jsx)("button",{onClick:()=>a("energy"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("energy"===s?"border-green-500 text-green-600 bg-green-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\u26a1 Audit \xc9nerg\xe9tique"}),(0,xc.jsx)("button",{onClick:()=>a("results"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("results"===s?"border-purple-500 text-purple-600 bg-purple-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),disabled:!h,children:"\ud83d\udcca R\xe9sultats & Recommandations"})]})}),(0,xc.jsxs)("div",{className:"p-6",children:["hydraulic"===s&&(0,xc.jsxs)("div",{className:"space-y-8",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"\ud83d\udd27 Audit Hydraulique D\xe9taill\xe9"}),(0,xc.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Donn\xe9es Installation Existante"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc2ge installation (ann\xe9es)"}),(0,xc.jsx)("input",{type:"number",value:o.installation_age,onChange:e=>l((t=>d(d({},t),{},{installation_age:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 5"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type installation"}),(0,xc.jsxs)("select",{value:o.installation_type,onChange:e=>l((t=>d(d({},t),{},{installation_type:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[(0,xc.jsx)("option",{value:"surface",children:"Pompe de surface"}),(0,xc.jsx)("option",{value:"submersible",children:"Pompe immerg\xe9e"}),(0,xc.jsx)("option",{value:"inline",children:"Pompe en ligne"}),(0,xc.jsx)("option",{value:"booster",children:"Station de reprise"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fabricant pompe"}),(0,xc.jsx)("input",{type:"text",value:o.pump_manufacturer,onChange:e=>l((t=>d(d({},t),{},{pump_manufacturer:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Grundfos, KSB, Pedrollo"})]})]})]}),(0,xc.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\u2699\ufe0f Conditions d'Exploitation Actuelles"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"D\xe9bit actuel (m\xb3/h)"}),(0,xc.jsx)("input",{type:"number",value:o.current_flow_rate,onChange:e=>l((t=>d(d({},t),{},{current_flow_rate:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 45"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HMT actuelle (m)"}),(0,xc.jsx)("input",{type:"number",value:o.current_head,onChange:e=>l((t=>d(d({},t),{},{current_head:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 32"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rendement estim\xe9 (%)"}),(0,xc.jsx)("input",{type:"number",value:o.current_efficiency,onChange:e=>l((t=>d(d({},t),{},{current_efficiency:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 75"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures/jour"}),(0,xc.jsx)("input",{type:"number",value:o.operating_hours_daily,onChange:e=>l((t=>d(d({},t),{},{operating_hours_daily:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12"})]})]})]}),(0,xc.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udc41\ufe0f Observations Visuelles et \xc9tat"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau de corrosion"}),(0,xc.jsx)("select",{value:o.corrosion_level,onChange:e=>l((t=>d(d({},t),{},{corrosion_level:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[{value:"none",label:"Aucune corrosion visible"},{value:"light",label:"Corrosion l\xe9g\xe8re"},{value:"moderate",label:"Corrosion mod\xe9r\xe9e"},{value:"severe",label:"Corrosion s\xe9v\xe8re"}].map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xc9tat alignement"}),(0,xc.jsx)("select",{value:o.alignment_status,onChange:e=>l((t=>d(d({},t),{},{alignment_status:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:g.map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition accouplement"}),(0,xc.jsx)("select",{value:o.coupling_condition,onChange:e=>l((t=>d(d({},t),{},{coupling_condition:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:g.map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]}),(0,xc.jsxs)("div",{className:"mt-4 flex items-center space-x-6",children:[(0,xc.jsxs)("label",{className:"flex items-center",children:[(0,xc.jsx)("input",{type:"checkbox",checked:o.leakage_present,onChange:e=>l((t=>d(d({},t),{},{leakage_present:e.target.checked}))),className:"mr-2"}),(0,xc.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Fuites d\xe9tect\xe9es"})]}),(0,xc.jsxs)("label",{className:"flex items-center",children:[(0,xc.jsx)("input",{type:"checkbox",checked:o.performance_degradation,onChange:e=>l((t=>d(d({},t),{},{performance_degradation:e.target.checked}))),className:"mr-2"}),(0,xc.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"D\xe9gradation des performances"})]})]})]})]}),"energy"===s&&(0,xc.jsxs)("div",{className:"space-y-8",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"\u26a1 Audit \xc9nerg\xe9tique Approfondi"}),(0,xc.jsxs)("div",{className:"bg-green-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udcb0 Structure Tarifaire \xc9lectrique"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarif moyen (FCFA/kWh)"}),(0,xc.jsx)("input",{type:"number",value:c.electricity_tariff,onChange:e=>u((t=>d(d({},t),{},{electricity_tariff:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500",placeholder:"96"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures pleines (FCFA/kWh)"}),(0,xc.jsx)("input",{type:"number",value:c.peak_hours_tariff,onChange:e=>u((t=>d(d({},t),{},{peak_hours_tariff:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500",placeholder:"150"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures creuses (FCFA/kWh)"}),(0,xc.jsx)("input",{type:"number",value:c.off_peak_tariff,onChange:e=>u((t=>d(d({},t),{},{off_peak_tariff:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500",placeholder:"75"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prime puissance (FCFA/kW/mois)"}),(0,xc.jsx)("input",{type:"number",value:c.demand_charge,onChange:e=>u((t=>d(d({},t),{},{demand_charge:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500",placeholder:"8000"})]})]})]}),(0,xc.jsxs)("div",{className:"bg-purple-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udcca Mesures \xc9nerg\xe9tiques Actuelles"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consommation mesur\xe9e (kW)"}),(0,xc.jsx)("input",{type:"number",value:c.power_consumption_measured,onChange:e=>u((t=>d(d({},t),{},{power_consumption_measured:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500",placeholder:"Ex: 8.5"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facteur de puissance"}),(0,xc.jsx)("input",{type:"number",step:"0.01",value:c.power_factor_measured,onChange:e=>u((t=>d(d({},t),{},{power_factor_measured:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500",placeholder:"Ex: 0.85"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consommation mensuelle (kWh)"}),(0,xc.jsx)("input",{type:"number",value:c.energy_monthly_kwh,onChange:e=>u((t=>d(d({},t),{},{energy_monthly_kwh:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500",placeholder:"Ex: 1200"})]})]})]}),(0,xc.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83c\udf9b\ufe0f \xc9quipements de Contr\xf4le et Automation"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Syst\xe8me de contr\xf4le"}),(0,xc.jsx)("select",{value:c.control_system,onChange:e=>u((t=>d(d({},t),{},{control_system:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[{value:"basic",label:"D\xe9marrage direct"},{value:"soft_starter",label:"D\xe9marreur progressif"},{value:"vfd",label:"Variateur de fr\xe9quence"},{value:"pressure_control",label:"R\xe9gulation de pression"},{value:"flow_control",label:"R\xe9gulation de d\xe9bit"}].map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau automation"}),(0,xc.jsxs)("select",{value:c.automation_level,onChange:e=>u((t=>d(d({},t),{},{automation_level:e.target.value}))),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[(0,xc.jsx)("option",{value:"manual",children:"Manuel"}),(0,xc.jsx)("option",{value:"basic",children:"Basique (ON/OFF)"}),(0,xc.jsx)("option",{value:"intermediate",children:"Interm\xe9diaire (Seuils)"}),(0,xc.jsx)("option",{value:"advanced",children:"Avanc\xe9 (PID, IoT)"})]})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("label",{className:"flex items-center",children:[(0,xc.jsx)("input",{type:"checkbox",checked:c.variable_frequency_drive,onChange:e=>u((t=>d(d({},t),{},{variable_frequency_drive:e.target.checked}))),className:"mr-2"}),(0,xc.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Variateur fr\xe9quence"})]}),(0,xc.jsxs)("label",{className:"flex items-center",children:[(0,xc.jsx)("input",{type:"checkbox",checked:c.soft_starter,onChange:e=>u((t=>d(d({},t),{},{soft_starter:e.target.checked}))),className:"mr-2"}),(0,xc.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"D\xe9marreur progressif"})]}),(0,xc.jsxs)("label",{className:"flex items-center",children:[(0,xc.jsx)("input",{type:"checkbox",checked:c.pressure_tank,onChange:e=>u((t=>d(d({},t),{},{pressure_tank:e.target.checked}))),className:"mr-2"}),(0,xc.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Ballon surpresseur"})]})]})]})]}),"results"===s&&h&&(0,xc.jsxs)("div",{className:"space-y-8",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"\ud83d\udcca R\xe9sultats d'Audit et Recommandations"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xc.jsxs)("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-6 text-center",children:[(0,xc.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[h.hydraulic_audit.overall_score,"/100"]}),(0,xc.jsx)("div",{className:"text-lg font-medium text-gray-900 mb-1",children:"Score Hydraulique"}),(0,xc.jsx)("div",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat(h.hydraulic_audit.performance_rating.bgColor," ").concat(h.hydraulic_audit.performance_rating.color),children:h.hydraulic_audit.performance_rating.level})]}),(0,xc.jsxs)("div",{className:"bg-white border-2 border-green-200 rounded-lg p-6 text-center",children:[(0,xc.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[h.energy_audit.overall_score,"/100"]}),(0,xc.jsx)("div",{className:"text-lg font-medium text-gray-900 mb-1",children:"Score \xc9nerg\xe9tique"}),(0,xc.jsx)("div",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat(h.energy_audit.efficiency_rating.bgColor," ").concat(h.energy_audit.efficiency_rating.color),children:h.energy_audit.efficiency_rating.level})]}),(0,xc.jsxs)("div",{className:"bg-white border-2 border-purple-200 rounded-lg p-6 text-center",children:[(0,xc.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[h.combined_analysis.total_score,"/100"]}),(0,xc.jsx)("div",{className:"text-lg font-medium text-gray-900 mb-1",children:"Score Global"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Analyse combin\xe9e"})]})]}),(0,xc.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-bold text-blue-900 mb-4",children:"\ud83d\udd27 Recommandations Hydrauliques Prioritaires"}),(0,xc.jsx)("div",{className:"space-y-4",children:h.hydraulic_audit.recommendations.map(((e,t)=>(0,xc.jsxs)("div",{className:"border-l-4 pl-4 ".concat("Haute"===e.priority?"border-red-400 bg-red-50":"Moyenne"===e.priority?"border-yellow-400 bg-yellow-50":"border-green-400 bg-green-50"),children:[(0,xc.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xc.jsx)("h5",{className:"font-medium text-gray-900",children:e.action}),(0,xc.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Haute"===e.priority?"bg-red-200 text-red-800":"Moyenne"===e.priority?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"),children:e.priority})]}),(0,xc.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),(0,xc.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("strong",{children:"Co\xfbt:"})," ",e.cost_range]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("strong",{children:"D\xe9lai:"})," ",e.timeline]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("strong",{children:"B\xe9n\xe9fices:"})," ",e.benefits]})]})]},t)))})]}),(0,xc.jsxs)("div",{className:"bg-green-50 rounded-lg p-6",children:[(0,xc.jsx)("h4",{className:"font-bold text-green-900 mb-4",children:"\u26a1 Potentiel d'\xc9conomies \xc9nerg\xe9tiques"}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[null===(e=h.energy_audit.savings_potential)||void 0===e?void 0:e.annual_savings_kwh," kWh"]}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"\xc9conomies annuelles"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[null===(t=h.energy_audit.savings_potential)||void 0===t?void 0:t.annual_savings_fcfa.toLocaleString()," FCFA"]}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"\xc9conomies financi\xe8res"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[null===(n=h.energy_audit.savings_potential)||void 0===n?void 0:n.co2_reduction_kg," kg"]}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"R\xe9duction CO\u2082"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[null===(i=h.energy_audit.savings_potential)||void 0===i?void 0:i.payback_months," mois"]}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Retour investissement"})]})]})]})]})]})]}),("hydraulic"===s||"energy"===s)&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,xc.jsx)("button",{onClick:async()=>{p(!0);try{await new Promise((e=>setTimeout(e,3e3)));const e=_();m(e)}catch(e){console.error("Erreur analyse audit:",e)}finally{p(!1)}},disabled:f,className:"px-8 py-4 rounded-lg font-bold text-lg ".concat(f?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700"," transition-all duration-300"),children:f?(0,xc.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,xc.jsx)("span",{children:"Analyse en cours..."})]}):"\ud83e\udde0 LANCER ANALYSE EXPERTE"}),(0,xc.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"G\xe9n\xe9ration automatique de recommandations techniques et d'optimisations \xe9nerg\xe9tiques"})]})]})},Ec=()=>{const[e,t]=(0,r.useState)((()=>{try{const e=localStorage.getItem("ecoExpertSolarData");if(e){return d({project_name:"Syst\xe8me de Pompage Solaire",location_region:"afrique",location_subregion:"cote_ivoire",daily_water_need:10,operating_hours:8,flow_rate:1.25,seasonal_variation:1.2,peak_months:[6,7,8],dynamic_level:15,tank_height:5,static_head:20,dynamic_losses:5,useful_pressure_bar:0,useful_pressure_head:0,total_head:25,pipe_diameter:114.3,pipe_length:50,panel_peak_power:270,autonomy_days:2,system_voltage:24,installation_type:"submersible",electricity_cost:.15,project_lifetime:25,maintenance_cost_annual:.02,available_surface:100,max_budget:15e3,grid_connection_available:!1,ambient_temperature_avg:25,dust_factor:.95,shading_factor:1},JSON.parse(e))}}catch(e){console.warn("Erreur lors du chargement des donn\xe9es solaires:",e)}return{project_name:"Syst\xe8me de Pompage Solaire",location_region:"afrique",location_subregion:"cote_ivoire",daily_water_need:10,operating_hours:8,flow_rate:1.25,seasonal_variation:1.2,peak_months:[6,7,8],dynamic_level:15,tank_height:5,static_head:20,dynamic_losses:5,useful_pressure_bar:0,useful_pressure_head:0,total_head:25,pipe_diameter:114.3,pipe_length:50,panel_peak_power:270,autonomy_days:2,system_voltage:24,installation_type:"submersible",electricity_cost:.15,project_lifetime:25,maintenance_cost_annual:.02,available_surface:100,max_budget:15e3,grid_connection_available:!1,ambient_temperature_avg:25,dust_factor:.95,shading_factor:1}})),[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)("project"),h=(0,r.useRef)(null),m=(0,r.useRef)(null),f=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=await Rt.get("".concat(_c,"/solar-regions"));l(e.data.regions)}catch(e){console.error("Erreur lors du chargement des r\xe9gions:",e)}})()}),[]),(0,r.useEffect)((()=>{try{localStorage.setItem("ecoExpertSolarData",JSON.stringify(e))}catch(t){console.warn("Erreur lors de la sauvegarde des donn\xe9es solaires:",t)}}),[e]),(0,r.useEffect)((()=>{const t=setTimeout((async()=>{if(e.daily_water_need>0&&e.total_head>0){a(!0),i(null);try{const t=await Rt.post("".concat(_c,"/solar-pumping"),e);i(t.data)}catch(t){console.error("Erreur calcul solaire:",t),i(null)}finally{a(!1)}}}),500);return()=>clearTimeout(t)}),[e]),(0,r.useEffect)((()=>{if(n&&h.current){const e=h.current.getContext("2d");m.current&&m.current.destroy();const t=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"];m.current=new gc(e,{type:"line",data:{labels:t,datasets:[{label:"Production Solaire (kWh/j)",data:n.monthly_performance.production,borderColor:"#F59E0B",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:3,fill:!0},{label:"Consommation Pompe (kWh/j)",data:n.monthly_performance.consumption,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0},{label:"Irradiation Solaire (kWh/m\xb2/j)",data:n.monthly_performance.irradiation,borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,yAxisID:"y1"}]},options:{responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{title:{display:!0,text:"Performance Mensuelle du Syst\xe8me Solaire"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"\xc9nergie (kWh/jour)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Irradiation (kWh/m\xb2/jour)"},grid:{drawOnChartArea:!1}}}}})}}),[n]),(0,r.useEffect)((()=>{const e=function(){if(n&&n.monthly_performance&&n.monthly_performance.water_production&&f.current){const t=f.current.getContext("2d");p.current&&p.current.destroy();const i=["Jan","F\xe9v","Mar","Avr","Mai","Jun","Jul","Ao\xfb","Sep","Oct","Nov","D\xe9c"];try{return p.current=new gc(t,{type:"bar",data:{labels:i,datasets:[{label:"Volume d'eau (m\xb3/jour)",data:n.monthly_performance.water_production,backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"#3B82F6",borderWidth:2,yAxisID:"y"},{label:"Heures de pompage (h/jour)",data:n.monthly_performance.pump_hours,backgroundColor:"rgba(34, 197, 94, 0.7)",borderColor:"#22C55E",borderWidth:2,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"\xc9volution mensuelle de la capacit\xe9 de pompage",font:{size:16}},legend:{display:!0,position:"top"},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),0===e.datasetIndex?t+=e.formattedValue+" m\xb3/j":t+=e.formattedValue+" h/j",t}}}},scales:{x:{title:{display:!0,text:"Mois"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Volume (m\xb3/jour)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Heures (h/jour)"},grid:{drawOnChartArea:!1}}}}}),!0}catch(e){return console.error("Error creating monthly chart:",e),!1}}return!1};n&&n.monthly_performance&&n.monthly_performance.water_production&&(e(1)||setTimeout((()=>{e(2)||setTimeout((()=>{e(3)}),500)}),200))}),[n,c]);const g=(e,n)=>{t((t=>{const i=d(d({},t),{},{[e]:n});if("daily_water_need"===e||"operating_hours"===e){const r="daily_water_need"===e?n:t.daily_water_need,s="operating_hours"===e?n:t.operating_hours;if(s>0){i.flow_rate=parseFloat((r/s).toFixed(2));const e=i.flow_rate/3600,n=2,a=1e3*Math.sqrt(4*e/(Math.PI*n)),o=[20,25,32,40,50,63,80,100,125,150,200,250,300].find((e=>e>=a))||300;i.pipe_diameter=o,i.pipe_length=Math.max(30,1.5*t.static_head)}}if("flow_rate"===e){const e=n/3600,t=2,r=1e3*Math.sqrt(4*e/(Math.PI*t)),s=[20,25,32,40,50,63,80,100,125,150,200,250,300].find((e=>e>=r))||300;i.pipe_diameter=s}if("useful_pressure_bar"===e){let e=n;(""===n||isNaN(n))&&(e=0),i.useful_pressure_head=10.2*e,i.total_head=t.static_head+t.dynamic_losses+i.useful_pressure_head}if("dynamic_level"===e||"tank_height"===e){const r="dynamic_level"===e?n:t.dynamic_level,s="tank_height"===e?n:t.tank_height;i.static_head=r+s,i.total_head=i.static_head+t.dynamic_losses+t.useful_pressure_head,i.pipe_length=Math.max(30,1.5*i.static_head)}if("dynamic_losses"===e){const r="dynamic_losses"===e?n:t.dynamic_losses;i.total_head=t.static_head+r+t.useful_pressure_head}return i}))},x=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e),b=e=>e>=6?"text-red-600 font-bold":e>=4.5?"text-orange-600 font-semibold":e>=3.5?"text-yellow-600":"text-blue-600";return(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 rounded-xl p-6 text-white",children:(0,xc.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold flex items-center",children:"\u2600\ufe0f EXPERT SOLAIRE - DIMENSIONNEMENT POMPAGE"}),(0,xc.jsx)("p",{className:"text-yellow-100 mt-2",children:"Calculs automatis\xe9s \u2022 Dimensionnement optimis\xe9 \u2022 Analyse \xe9conomique compl\xe8te"})]}),(0,xc.jsxs)("div",{className:"flex space-x-2",children:[(0,xc.jsx)("div",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"\u2705 Temps r\xe9el"}),(0,xc.jsx)("div",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"\ud83d\udd04 Auto-calcul"}),(0,xc.jsx)("div",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:"\ud83d\udca1 IA Optimis\xe9e"})]})]})}),(0,xc.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"project",label:"\ud83d\udccb Projet",color:"blue"},{id:"hydraulic",label:"\ud83d\udca7 Hydraulique",color:"cyan"},{id:"energy",label:"\u26a1 \xc9nergie",color:"yellow"},{id:"results",label:"\ud83d\udcca R\xe9sultats",color:"green"},{id:"economics",label:"\ud83d\udcb0 \xc9conomie",color:"purple"}].map((e=>(0,xc.jsx)("button",{onClick:()=>u(e.id),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(c===e.id?"bg-".concat(e.color,"-500 text-white shadow-lg"):"bg-".concat(e.color,"-100 text-").concat(e.color,"-700 hover:bg-").concat(e.color,"-200")),children:e.label},e.id)))}),"project"===c&&(0,xc.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"\ud83d\udccb Informations du Projet"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Nom du projet"}),(0,xc.jsx)("input",{type:"text",value:e.project_name,onChange:e=>g("project_name",e.target.value),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"R\xe9gion g\xe9ographique"}),(0,xc.jsx)("select",{value:"".concat(e.location_region,".").concat(e.location_subregion),onChange:e=>{const[t,n]=e.target.value.split(".");g("location_region",t),g("location_subregion",n)},className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:o.map((e=>(0,xc.jsxs)("option",{value:"".concat(e.region,".").concat(e.subregion),children:[e.name," (",e.irradiation_annual," kWh/m\xb2/j)"]},"".concat(e.region,".").concat(e.subregion))))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Type d'installation"}),(0,xc.jsxs)("select",{value:e.installation_type,onChange:e=>g("installation_type",e.target.value),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[(0,xc.jsx)("option",{value:"submersible",children:"\ud83d\udd3d Pompe Submersible"}),(0,xc.jsx)("option",{value:"surface",children:"\ud83d\udd3c Pompe de Surface"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Tension syst\xe8me (V)"}),(0,xc.jsxs)("select",{value:e.system_voltage,onChange:e=>g("system_voltage",parseInt(e.target.value)),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[(0,xc.jsx)("option",{value:12,children:"12V DC"}),(0,xc.jsx)("option",{value:24,children:"24V DC"}),(0,xc.jsx)("option",{value:48,children:"48V DC"}),(0,xc.jsx)("option",{value:96,children:"96V DC"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Autonomie souhait\xe9e (jours)"}),(0,xc.jsx)("input",{type:"number",value:e.autonomy_days,onChange:e=>g("autonomy_days",parseInt(e.target.value)),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200",min:"1",max:"7"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Budget maximum (\u20ac)"}),(0,xc.jsx)("input",{type:"number",value:e.max_budget||"",onChange:e=>g("max_budget",e.target.value?parseFloat(e.target.value):null),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200",placeholder:"Optionnel"})]})]})]}),"hydraulic"===c&&(0,xc.jsxs)("div",{className:"bg-cyan-50 rounded-xl p-6",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-cyan-900 mb-4",children:"\ud83d\udca7 Param\xe8tres Hydrauliques"}),(0,xc.jsxs)("div",{className:"mb-6",children:[(0,xc.jsx)("h4",{className:"text-lg font-semibold text-cyan-800 mb-3",children:"\ud83d\udca7 Besoins en Eau & Fonctionnement"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-cyan-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-cyan-700 mb-2",children:"Volume quotidien (m\xb3/jour)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.daily_water_need,onChange:e=>g("daily_water_need",parseFloat(e.target.value)),className:"w-full p-3 border-2 border-cyan-200 rounded-lg focus:border-cyan-500 focus:ring-2 focus:ring-cyan-200 text-lg font-semibold"}),(0,xc.jsx)("p",{className:"text-xs text-cyan-600 mt-1",children:"Volume d'eau n\xe9cessaire par jour"})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-blue-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Heures fonctionnement/jour"}),(0,xc.jsx)("input",{type:"number",step:"0.5",min:"1",max:"12",value:e.operating_hours,onChange:e=>g("operating_hours",parseFloat(e.target.value)),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-lg font-semibold"}),(0,xc.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Heures de pompage par jour"})]}),(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-green-100 to-green-200 p-4 rounded-lg border-l-4 border-green-600",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-green-800 mb-2",children:"D\xe9bit calcul\xe9 (m\xb3/h)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.flow_rate,readOnly:!0,className:"w-full p-3 border-2 border-green-300 rounded-lg bg-green-50 text-lg font-bold text-green-800 cursor-not-allowed"}),(0,xc.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"Calcul\xe9 automatiquement"})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-orange-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"Variation saisonni\xe8re"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.seasonal_variation,onChange:e=>g("seasonal_variation",parseFloat(e.target.value)),className:"w-full p-3 border-2 border-orange-200 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-200",min:"1.0",max:"2.0"}),(0,xc.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"Coeff. \xe9t\xe9 (1.0 = constant)"})]})]})]}),(0,xc.jsxs)("div",{className:"mb-6",children:[(0,xc.jsx)("h4",{className:"text-lg font-semibold text-blue-800 mb-3",children:"\ud83d\udccf Calcul HMT (Hauteur Manom\xe9trique Totale)"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-blue-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Niveau dynamique (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.dynamic_level,onChange:e=>g("dynamic_level",parseFloat(e.target.value)),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-lg font-semibold"}),(0,xc.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Profondeur niveau d'eau"})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-blue-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Hauteur ch\xe2teau (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.tank_height,onChange:e=>g("tank_height",parseFloat(e.target.value)),className:"w-full p-3 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-lg font-semibold"}),(0,xc.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Hauteur du r\xe9servoir/ch\xe2teau"})]}),(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-purple-100 to-purple-200 p-4 rounded-lg border-l-4 border-purple-600",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-purple-800 mb-2",children:"Hauteur g\xe9om\xe9trique (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.static_head,readOnly:!0,className:"w-full p-3 border-2 border-purple-300 rounded-lg bg-purple-50 text-lg font-bold text-purple-800 cursor-not-allowed"}),(0,xc.jsx)("p",{className:"text-xs text-purple-700 mt-1",children:"Niveau + Ch\xe2teau (auto)"})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-red-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-red-700 mb-2",children:"Pertes de charge (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.dynamic_losses,onChange:e=>g("dynamic_losses",parseFloat(e.target.value)),className:"w-full p-3 border-2 border-red-200 rounded-lg focus:border-red-500 focus:ring-2 focus:ring-red-200 text-lg font-semibold"}),(0,xc.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Pertes dans tuyauteries"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-yellow-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-yellow-700 mb-2",children:"Pression utile (Bar)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:e.useful_pressure_bar,onChange:e=>{const t=e.target.value;if(""===t)g("useful_pressure_bar","");else{const e=parseFloat(t);g("useful_pressure_bar",isNaN(e)?0:e)}},onBlur:e=>{const t=e.target.value;(""===t||isNaN(parseFloat(t)))&&g("useful_pressure_bar",0)},className:"w-full p-3 border-2 border-yellow-200 rounded-lg focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 text-lg font-semibold"}),(0,xc.jsx)("p",{className:"text-xs text-yellow-600 mt-1",children:"Pression r\xe9siduelle requise en sortie (convertie automatiquement en m\xe8tres)"})]}),(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-green-200 to-green-300 p-4 rounded-lg border-l-4 border-green-700 shadow-lg",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"\ud83c\udfaf HMT TOTALE (m)"}),(0,xc.jsx)("input",{type:"text",value:isNaN(e.total_head)?"0.00":e.total_head.toFixed(2),readOnly:!0,className:"w-full p-3 border-2 border-green-400 rounded-lg bg-green-100 text-2xl font-bold text-green-900 cursor-not-allowed text-center"}),(0,xc.jsx)("p",{className:"text-xs text-green-800 mt-1 text-center",children:"Calcul\xe9 automatiquement"})]}),(0,xc.jsxs)("div",{className:"bg-gray-100 p-4 rounded-lg border-l-4 border-gray-500",children:[(0,xc.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcca R\xe9partition HMT"}),(0,xc.jsxs)("div",{className:"text-xs space-y-1",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"G\xe9om\xe9trique:"}),(0,xc.jsxs)("span",{className:"font-semibold",children:[e.static_head.toFixed(1),"m (",(e.static_head/e.total_head*100).toFixed(0),"%)"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pertes charge:"}),(0,xc.jsxs)("span",{className:"font-semibold",children:[e.dynamic_losses.toFixed(1),"m (",(e.dynamic_losses/e.total_head*100).toFixed(0),"%)"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pression utile:"}),(0,xc.jsxs)("span",{className:"font-semibold",children:[e.useful_pressure_head.toFixed(1),"m (",(""===e.useful_pressure_bar||isNaN(e.useful_pressure_bar)?0:parseFloat(e.useful_pressure_bar)).toFixed(1)," Bar) (",(e.useful_pressure_head/e.total_head*100).toFixed(0),"%)"]})]})]})]})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h4",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"\u2600\ufe0f Param\xe8tres Solaires & DN Conduite"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 p-4 rounded-lg border-l-4 border-yellow-500",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-yellow-800 mb-2",children:"Puissance cr\xeate panneau (Wc)"}),(0,xc.jsxs)("select",{value:e.panel_peak_power,onChange:e=>g("panel_peak_power",parseInt(e.target.value)),className:"w-full p-3 border-2 border-yellow-300 rounded-lg focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200 text-lg font-semibold",children:[(0,xc.jsx)("option",{value:100,children:"100 Wc - Petit panneau"}),(0,xc.jsx)("option",{value:200,children:"200 Wc - Panneau compact"}),(0,xc.jsx)("option",{value:270,children:"270 Wc - Polycristallin standard"}),(0,xc.jsx)("option",{value:320,children:"320 Wc - Polycristallin am\xe9lior\xe9"}),(0,xc.jsx)("option",{value:400,children:"400 Wc - Monocristallin standard"}),(0,xc.jsx)("option",{value:550,children:"550 Wc - Monocristallin haute performance"}),(0,xc.jsx)("option",{value:600,children:"600 Wc - Panneau haute puissance"})]}),(0,xc.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Puissance unitaire des panneaux"})]}),(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-blue-100 to-blue-200 p-4 rounded-lg border-l-4 border-blue-600",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"DN Conduite (calcul\xe9 temps r\xe9el)"}),(0,xc.jsx)("input",{type:"text",value:"DN ".concat((()=>{const t=(e.flow_rate||1)/3600,n=1e3*Math.sqrt(4*t/(2*Math.PI)),i=[20,25,32,40,50,63,80,100,125,150,200,250,300];return i.find((e=>e>=n))||i[i.length-1]})()),readOnly:!0,className:"w-full p-3 border-2 border-blue-300 rounded-lg bg-blue-50 text-lg font-bold text-blue-800 cursor-not-allowed text-center"}),(0,xc.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:["Bas\xe9 sur d\xe9bit ",e.flow_rate.toFixed(2)," m\xb3/h (v=2m/s)"]})]})]}),(0,xc.jsxs)("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border",children:[(0,xc.jsx)("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:"\ud83d\udccb Sp\xe9cifications Techniques Conduite"}),(0,xc.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:(()=>{const t=(e.flow_rate||1)/3600,n=1e3*Math.sqrt(4*t/(2*Math.PI)),i=[20,25,32,40,50,63,80,100,125,150,200,250,300],r=i.find((e=>e>=n))||i[i.length-1],s=t/(Math.PI*Math.pow(r/2e3,2));return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-semibold text-blue-600",children:"Vitesse r\xe9elle"}),(0,xc.jsxs)("div",{children:[s.toFixed(2)," m/s"]})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-semibold text-green-600",children:"Mat\xe9riau"}),(0,xc.jsx)("div",{children:r<=63?"PEHD":"PVC-U"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-semibold text-orange-600",children:"Pression"}),(0,xc.jsxs)("div",{children:["PN ",r<=100?"16":"10"," bar"]})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-semibold text-purple-600",children:"Norme"}),(0,xc.jsx)("div",{children:"ISO 4427"})]})]})})()})]})]})]}),"energy"===c&&(0,xc.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-6",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-yellow-900 mb-4",children:"\u26a1 Param\xe8tres \xc9nerg\xe9tiques & Environnementaux"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-t-4 border-green-500",children:[(0,xc.jsx)("h4",{className:"font-semibold text-green-700 mb-3",children:"\ud83d\udcb0 \xc9conomique"}),(0,xc.jsxs)("div",{className:"space-y-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Co\xfbt \xe9lectricit\xe9 (\u20ac/kWh)"}),(0,xc.jsx)("input",{type:"number",step:"0.01",value:e.electricity_cost,onChange:e=>g("electricity_cost",parseFloat(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-green-500 focus:ring-1 focus:ring-green-200"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dur\xe9e projet (ann\xe9es)"}),(0,xc.jsx)("input",{type:"number",value:e.project_lifetime,onChange:e=>g("project_lifetime",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-green-500 focus:ring-1 focus:ring-green-200",min:"10",max:"30"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maintenance annuelle (%)"}),(0,xc.jsx)("input",{type:"number",step:"0.01",value:100*e.maintenance_cost_annual,onChange:e=>g("maintenance_cost_annual",parseFloat(e.target.value)/100),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-green-500 focus:ring-1 focus:ring-green-200"})]})]})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-t-4 border-orange-500",children:[(0,xc.jsx)("h4",{className:"font-semibold text-orange-700 mb-3",children:"\ud83c\udf24\ufe0f Environnemental"}),(0,xc.jsxs)("div",{className:"space-y-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temp\xe9rature ambiante (\xb0C)"}),(0,xc.jsx)("input",{type:"number",value:e.ambient_temperature_avg,onChange:e=>g("ambient_temperature_avg",parseFloat(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-200"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facteur poussi\xe8re (0.9-1.0)"}),(0,xc.jsx)("input",{type:"number",step:"0.01",min:"0.8",max:"1.0",value:e.dust_factor,onChange:e=>g("dust_factor",parseFloat(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-200"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facteur ombrage (0.8-1.0)"}),(0,xc.jsx)("input",{type:"number",step:"0.01",min:"0.8",max:"1.0",value:e.shading_factor,onChange:e=>g("shading_factor",parseFloat(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-1 focus:ring-orange-200"})]})]})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-t-4 border-red-500",children:[(0,xc.jsx)("h4",{className:"font-semibold text-red-700 mb-3",children:"\u2600\ufe0f Irradiation Locale"}),n&&(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xc.jsx)("span",{className:"text-sm text-gray-600",children:"Annuelle:"}),(0,xc.jsxs)("span",{className:"font-bold ".concat(b(n.solar_irradiation.annual)),children:[n.solar_irradiation.annual.toFixed(1)," kWh/m\xb2/j"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xc.jsx)("span",{className:"text-sm text-gray-600",children:"\xc9t\xe9 (max):"}),(0,xc.jsxs)("span",{className:"font-bold ".concat(b(n.solar_irradiation.peak_month)),children:[n.solar_irradiation.peak_month.toFixed(1)," kWh/m\xb2/j"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xc.jsx)("span",{className:"text-sm text-gray-600",children:"Hiver (min):"}),(0,xc.jsxs)("span",{className:"font-bold ".concat(b(n.solar_irradiation.min_month)),children:[n.solar_irradiation.min_month.toFixed(1)," kWh/m\xb2/j"]})]}),(0,xc.jsx)("div",{className:"mt-3 p-2 bg-yellow-100 rounded",children:(0,xc.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xc.jsx)("span",{className:"text-sm font-medium",children:"Efficacit\xe9 syst\xe8me:"}),(0,xc.jsxs)("span",{className:"font-bold text-yellow-700",children:[(100*n.system_efficiency).toFixed(1),"%"]})]})})]})]})]})]}),"results"===c&&n&&(0,xc.jsx)("div",{className:"space-y-6",children:(0,xc.jsxs)("div",{className:"bg-green-50 rounded-xl p-6",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-green-900 mb-4",children:"\ud83d\udcca Installation Optimale - R\xe9sultats Automatiques"}),s&&(0,xc.jsx)("div",{className:"bg-blue-100 border border-blue-300 text-blue-700 px-4 py-3 rounded-lg mb-4",children:(0,xc.jsxs)("div",{className:"flex items-center",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700 mr-2"}),"Calcul en cours... Optimisation du syst\xe8me"]})}),n.critical_alerts&&n.critical_alerts.length>0&&(0,xc.jsxs)("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded-lg mb-4",children:[(0,xc.jsx)("h4",{className:"font-bold",children:"\ud83d\udea8 Alertes Critiques:"}),(0,xc.jsx)("ul",{className:"list-disc ml-5",children:n.critical_alerts.map(((e,t)=>(0,xc.jsx)("li",{children:e},t)))})]}),(0,xc.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-6 border-l-4 border-yellow-500",children:[(0,xc.jsx)("h4",{className:"text-xl font-bold text-yellow-800 mb-4",children:"\u2600\ufe0f Configuration Champ Photovolta\xefque Optimal"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md border-t-2 border-red-500",children:[(0,xc.jsx)("h5",{className:"font-semibold text-red-700 mb-2",children:"\u26a1 Puissance Requise"}),(0,xc.jsx)("div",{className:"space-y-2 text-sm",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3,n=t/.75,i=n/.8;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"P. hydraulique:"}),(0,xc.jsxs)("span",{className:"font-bold text-blue-600",children:[t.toFixed(2)," kW"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Rendement pompe:"}),(0,xc.jsxs)("span",{className:"font-bold",children:[75..toFixed(0),"%"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"P. \xe9lectrique:"}),(0,xc.jsxs)("span",{className:"font-bold text-red-600",children:[n.toFixed(2)," kW"]})]}),(0,xc.jsx)("div",{className:"bg-red-50 p-2 rounded mt-2",children:(0,xc.jsxs)("div",{className:"text-xs text-red-700 text-center",children:["P. cr\xeate n\xe9cessaire: ",i.toFixed(2)," kWc"]})})]})})()})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,xc.jsx)("h5",{className:"font-semibold text-yellow-700 mb-2",children:"\ud83d\udcd0 Dimensionnement Auto"}),(0,xc.jsx)("div",{className:"space-y-2 text-sm",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3/.75/.8*1e3,n=Math.ceil(t/e.panel_peak_power),i=n*e.panel_peak_power;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Puissance requise:"}),(0,xc.jsxs)("span",{className:"font-bold text-red-600",children:[t.toFixed(0),"W"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Nombre panneaux:"}),(0,xc.jsx)("span",{className:"font-bold text-yellow-800",children:n})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Puissance unitaire:"}),(0,xc.jsxs)("span",{className:"font-bold",children:[e.panel_peak_power," Wc"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Puissance totale:"}),(0,xc.jsxs)("span",{className:"font-bold text-green-600",children:[i," Wc"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Surface requise:"}),(0,xc.jsxs)("span",{className:"font-bold",children:[(2*n).toFixed(1)," m\xb2"]})]})]})})()})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,xc.jsx)("h5",{className:"font-semibold text-blue-700 mb-2",children:"\ud83d\udd17 Config. S\xe9rie/Parall\xe8le"}),(0,xc.jsx)("div",{className:"space-y-2 text-sm",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3/.75/.8*1e3,n=Math.ceil(t/e.panel_peak_power),i=e.system_voltage;let r;r=e.panel_peak_power<=200?12:e.panel_peak_power<=400?24:48;const s=Math.max(1,Math.ceil(i/r)),a=Math.max(1,Math.ceil(n/s)),o=s*r;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Panneaux total:"}),(0,xc.jsx)("span",{className:"font-bold text-gray-600",children:n})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Tension panneau:"}),(0,xc.jsxs)("span",{className:"font-bold text-green-600",children:[r,"V"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Panneaux/s\xe9rie:"}),(0,xc.jsx)("span",{className:"font-bold text-blue-600",children:s})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Strings parall\xe8le:"}),(0,xc.jsx)("span",{className:"font-bold text-blue-600",children:a})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Configuration:"}),(0,xc.jsxs)("span",{className:"font-bold text-purple-600",children:[s,"S",a,"P"]})]}),(0,xc.jsx)("div",{className:"bg-blue-50 p-2 rounded mt-2",children:(0,xc.jsxs)("div",{className:"text-xs text-blue-700 text-center",children:["Tension string: ",o,"V \u2192 Syst\xe8me ",i,"V"]})})]})})()})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,xc.jsx)("h5",{className:"font-semibold text-green-700 mb-2",children:"\ud83d\udcb0 Estimation Co\xfbt"}),(0,xc.jsx)("div",{className:"space-y-2 text-sm",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3/.75/.8*1e3,n=Math.ceil(t/e.panel_peak_power),i=e.panel_peak_power>=400?.7:.6,r=e.panel_peak_power*i,s=n*r;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Prix unitaire:"}),(0,xc.jsx)("span",{className:"font-bold",children:x(r)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Quantit\xe9:"}),(0,xc.jsxs)("span",{className:"font-bold",children:[n," panneaux"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Co\xfbt total:"}),(0,xc.jsx)("span",{className:"font-bold text-green-600",children:x(s)})]}),(0,xc.jsx)("div",{className:"bg-green-50 p-2 rounded mt-2",children:(0,xc.jsxs)("div",{className:"text-xs text-green-700 text-center",children:[(s/(n*e.panel_peak_power)*1e3).toFixed(2)," \u20ac/kWc"]})})]})})()})]})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-blue-500 shadow-md",children:[(0,xc.jsx)("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center",children:"\ud83d\udca7 Pompe Solaire Recommand\xe9e"}),(0,xc.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xc.jsxs)("div",{className:"font-medium text-lg text-blue-800",children:["Pompe ","submersible"===e.installation_type?"Submersible":"de Surface"]}),(0,xc.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3,n=e.flow_rate<2?.65:e.flow_rate<5?.75:e.flow_rate<10?.8:.82,i=1e3*(t/n)*1.15;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Puissance nominale:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1 text-red-600",children:[i.toFixed(0),"W"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Efficacit\xe9 estim\xe9e:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1 text-red-600",children:[(100*n).toFixed(0),"%"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Type installation:"}),(0,xc.jsx)("span",{className:"font-semibold ml-1",children:"submersible"===e.installation_type?"Immerg\xe9e":"Surface"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"D\xe9bit nominal:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1 text-red-600",children:[e.flow_rate.toFixed(1)," m\xb3/h"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"HMT requise:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1 text-red-600",children:[e.total_head.toFixed(0)," m"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Tension d'alim.:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[e.system_voltage,"V DC"]})]})]})})()}),(0,xc.jsx)("div",{className:"bg-blue-50 p-2 rounded mt-2",children:(0,xc.jsxs)("div",{className:"text-xs text-blue-700",children:[(0,xc.jsx)("strong",{children:"Recommandation:"})," Pompe DC avec contr\xf4leur MPPT int\xe9gr\xe9 ou externe"]})})]})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-purple-500 shadow-md",children:[(0,xc.jsx)("h4",{className:"font-semibold text-purple-700 mb-2",children:"\ud83d\udd0b Syst\xe8me de Stockage"}),(0,xc.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xc.jsxs)("div",{className:"font-medium text-lg text-purple-800",children:["Batteries ",e.autonomy_days>=3?"Lithium LiFePO4":"Gel/AGM"]}),(0,xc.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3/.75*e.operating_hours*e.autonomy_days,n=e.system_voltage,i=1e3*t/n/.8,r=Math.ceil(i/100),s=Math.ceil(n/12),a=Math.ceil(r/s),o=s*a;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Configuration:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[s,"S",a,"P"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Nombre batteries:"}),(0,xc.jsx)("span",{className:"font-semibold ml-1",children:o})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Capacit\xe9 totale:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[(100*o).toFixed(0),"Ah @ ",n,"V"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"\xc9nergie stock\xe9e:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[(100*o*n/1e3).toFixed(1)," kWh"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Autonomie:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[e.autonomy_days," jour",e.autonomy_days>1?"s":""]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Cycles de vie:"}),(0,xc.jsx)("span",{className:"font-semibold ml-1",children:e.autonomy_days>=3?"6000":"1500"})]})]})})()}),(0,xc.jsx)("div",{className:"bg-purple-50 p-2 rounded mt-2",children:(0,xc.jsxs)("div",{className:"text-xs text-purple-700",children:[(0,xc.jsx)("strong",{children:"Recommandation:"})," ",e.autonomy_days>=3?"Batteries Lithium pour autonomie \xe9lev\xe9e et performance optimales":"Batteries Gel pour rapport qualit\xe9/prix avec maintenance r\xe9duite"]})})]})]}),(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-green-500 shadow-md",children:[(0,xc.jsx)("h4",{className:"font-semibold text-green-700 mb-2",children:"\u26a1 R\xe9gulateur MPPT"}),(0,xc.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xc.jsx)("div",{className:"font-medium text-lg text-green-800",children:"Contr\xf4leur MPPT High Efficiency"}),(0,xc.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3/.75/.8*1e3,n=Math.ceil(t/e.panel_peak_power);let i;i=e.panel_peak_power<=200?12:e.panel_peak_power<=400?24:48;const r=Math.max(1,Math.ceil(e.system_voltage/i)),s=Math.max(1,Math.ceil(n/r))*(e.panel_peak_power/i)*1.25,a=r*i*1.3;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Courant max:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[s.toFixed(0),"A"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Tension PV max:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[a.toFixed(0),"V"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Efficacit\xe9:"}),(0,xc.jsx)("span",{className:"font-semibold ml-1",children:"98%"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Tension batterie:"}),(0,xc.jsxs)("span",{className:"font-semibold ml-1",children:[e.system_voltage,"V nominal"]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Protection:"}),(0,xc.jsx)("span",{className:"font-semibold ml-1",children:"IP65 minimum"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("span",{className:"text-gray-600",children:"Monitoring:"}),(0,xc.jsx)("span",{className:"font-semibold ml-1",children:s>=30?"Bluetooth/WiFi":"LCD/LED"})]})]})})()}),(0,xc.jsx)("div",{className:"bg-green-50 p-2 rounded mt-2",children:(0,xc.jsxs)("div",{className:"text-xs text-green-700",children:[(0,xc.jsx)("strong",{children:"Recommandation:"})," MPPT avec tracking intelligent et protection contre surtensions"]})})]})]}),(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 p-4 rounded-lg border-l-4 border-gray-600 shadow-md",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"\ud83d\udccb Sp\xe9cifications Syst\xe8me"}),(0,xc.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Architecture:"}),(0,xc.jsxs)("span",{className:"font-semibold",children:[e.system_voltage,"V DC - ","submersible"===e.installation_type?"Immerg\xe9e":"Surface"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Production quotidienne:"}),(0,xc.jsxs)("span",{className:"font-semibold",children:[e.daily_water_need," m\xb3/jour"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Heures fonctionnement:"}),(0,xc.jsxs)("span",{className:"font-semibold",children:[e.operating_hours,"h/jour"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Efficacit\xe9 globale:"}),(0,xc.jsx)("span",{className:"font-semibold",children:"60-80%"})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Protection requise:"}),(0,xc.jsx)("span",{className:"font-semibold",children:"IP65, Parafoudre"})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Certification:"}),(0,xc.jsx)("span",{className:"font-semibold",children:"CE, IEC 61215"})]}),(0,xc.jsx)("div",{className:"bg-gray-50 p-2 rounded mt-2",children:(()=>{const t=e.flow_rate*e.total_head*1e3*9.81/3600/1e3/.75,n=t/.8*1e3,i=Math.ceil(n/e.panel_peak_power),r=e.panel_peak_power>=400?.7:.6,s=i*e.panel_peak_power*r+Math.max(800,1200*t)+600*(e.autonomy_days*t*e.operating_hours)+Math.max(150,.15*n)+1500;return(0,xc.jsxs)("div",{className:"font-bold text-blue-600 text-center",children:["INVESTISSEMENT ESTIM\xc9: ",x(s),(0,xc.jsx)("div",{className:"text-xs text-gray-600 font-normal mt-1",children:"Installation et mise en service comprises"})]})})()})]})]})]}),(0,xc.jsxs)("div",{className:"mt-6 bg-white p-4 rounded-lg shadow-md",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"\ud83d\udcca Performance Mensuelle du Syst\xe8me"}),(0,xc.jsx)("canvas",{ref:h,style:{maxHeight:"400px"}})]}),(0,xc.jsxs)("div",{className:"mt-6 bg-white p-4 rounded-lg shadow-md",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-800 mb-3",children:"\ud83d\udca7 Capacit\xe9 de Pompage Mensuelle"}),(0,xc.jsx)("canvas",{ref:f,style:{maxHeight:"400px"},className:"w-full"})]})]})}),"economics"===c&&n&&(0,xc.jsxs)("div",{className:"bg-purple-50 rounded-xl p-6",children:[(0,xc.jsx)("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:"\ud83d\udcb0 Analyse \xc9conomique Compl\xe8te"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,xc.jsxs)("div",{className:"bg-white p-6 rounded-lg border-t-4 border-red-500",children:[(0,xc.jsx)("h4",{className:"font-semibold text-red-700 mb-3",children:"\ud83d\udcb8 Co\xfbts d'Investissement"}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pompe:"}),(0,xc.jsx)("span",{className:"font-medium",children:x(n.dimensioning.recommended_pump.cost)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Panneaux:"}),(0,xc.jsx)("span",{className:"font-medium",children:x(n.dimensioning.solar_panels.cost)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Batteries:"}),(0,xc.jsx)("span",{className:"font-medium",children:x(n.dimensioning.batteries.cost)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"R\xe9gulateur:"}),(0,xc.jsx)("span",{className:"font-medium",children:x(n.dimensioning.mppt_controller.cost)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Installation:"}),(0,xc.jsx)("span",{className:"font-medium",children:x(1500)})]}),(0,xc.jsx)("hr",{className:"my-2"}),(0,xc.jsxs)("div",{className:"flex justify-between text-lg font-bold text-red-700",children:[(0,xc.jsx)("span",{children:"TOTAL:"}),(0,xc.jsx)("span",{children:x(n.dimensioning.economic_analysis.total_system_cost)})]})]})]}),(0,xc.jsxs)("div",{className:"bg-white p-6 rounded-lg border-t-4 border-green-500",children:[(0,xc.jsx)("h4",{className:"font-semibold text-green-700 mb-3",children:"\ud83d\udcb0 \xc9conomies Annuelles"}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"\xc9conomies brutes:"}),(0,xc.jsx)("span",{className:"font-medium text-green-600",children:x(n.dimensioning.economic_analysis.annual_savings)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Maintenance:"}),(0,xc.jsxs)("span",{className:"font-medium text-red-600",children:["-",x(n.dimensioning.economic_analysis.annual_maintenance)]})]}),(0,xc.jsx)("hr",{className:"my-2"}),(0,xc.jsxs)("div",{className:"flex justify-between text-lg font-bold text-green-700",children:[(0,xc.jsx)("span",{children:"\xc9conomies nettes:"}),(0,xc.jsx)("span",{children:x(n.dimensioning.economic_analysis.net_annual_savings)})]})]}),(0,xc.jsx)("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsxs)("div",{className:"text-2xl font-bold text-green-800",children:[n.dimensioning.economic_analysis.payback_period.toFixed(1)," ans"]}),(0,xc.jsx)("div",{className:"text-sm text-green-600",children:"P\xe9riode de retour"})]})})]}),(0,xc.jsxs)("div",{className:"bg-white p-6 rounded-lg border-t-4 border-blue-500",children:[(0,xc.jsx)("h4",{className:"font-semibold text-blue-700 mb-3",children:"\ud83d\udcc8 Rentabilit\xe9"}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Dur\xe9e projet:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[n.dimensioning.economic_analysis.project_lifetime," ans"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"\xc9conomies totales:"}),(0,xc.jsx)("span",{className:"font-medium text-blue-600",children:x(n.dimensioning.economic_analysis.total_lifetime_savings)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"ROI:"}),(0,xc.jsxs)("span",{className:"font-medium text-blue-600",children:[n.dimensioning.economic_analysis.roi_percentage.toFixed(1),"%"]})]})]}),(0,xc.jsx)("div",{className:"mt-4",children:(0,xc.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-xl font-bold text-blue-800",children:x(n.dimensioning.economic_analysis.total_lifetime_savings-n.dimensioning.economic_analysis.total_system_cost)}),(0,xc.jsxs)("div",{className:"text-sm text-blue-600",children:["B\xe9n\xe9fice net sur ",n.dimensioning.economic_analysis.project_lifetime," ans"]})]})})})]})]}),n.dimensioning.optimization_suggestions&&n.dimensioning.optimization_suggestions.length>0&&(0,xc.jsxs)("div",{className:"mt-6 bg-yellow-100 border border-yellow-300 text-yellow-800 px-4 py-3 rounded-lg",children:[(0,xc.jsx)("h4",{className:"font-bold",children:"\ud83d\udca1 Suggestions d'Optimisation:"}),(0,xc.jsx)("ul",{className:"list-disc ml-5 mt-2",children:n.dimensioning.optimization_suggestions.map(((e,t)=>(0,xc.jsx)("li",{children:e},t)))})]}),n.dimensioning.technical_recommendations&&n.dimensioning.technical_recommendations.length>0&&(0,xc.jsxs)("div",{className:"mt-4 bg-blue-100 border border-blue-300 text-blue-800 px-4 py-3 rounded-lg",children:[(0,xc.jsx)("h4",{className:"font-bold",children:"\ud83d\udd27 Recommandations Techniques:"}),(0,xc.jsx)("ul",{className:"list-disc ml-5 mt-2",children:n.dimensioning.technical_recommendations.map(((e,t)=>(0,xc.jsx)("li",{children:e},t)))})]})]}),n&&n.warnings&&n.warnings.length>0&&(0,xc.jsxs)("div",{className:"bg-orange-100 border border-orange-300 text-orange-800 px-4 py-3 rounded-lg",children:[(0,xc.jsx)("h4",{className:"font-bold",children:"\u26a0\ufe0f Avertissements:"}),(0,xc.jsx)("ul",{className:"list-disc ml-5",children:n.warnings.map(((e,t)=>(0,xc.jsx)("li",{children:e},t)))})]})]})},Mc=()=>{const[e,t]=(0,r.useState)(""),n={water:{name:"Eau",ph_range:"6.5-8.5",corrosiveness:"Faible",temperature_limits:"-10\xb0C \xe0 +100\xb0C",icon:"\ud83d\udca7",compatibility:{excellent:{materials:["316L Stainless Steel","PVC","PEHD","PP","PTFE","EPDM","Viton","Bronze Naval"],reasons:["R\xe9sistance \xe0 la corrosion","Inertie chimique","Usage eau potable"]},good:{materials:["304 Stainless Steel","Acier Carbone (avec rev\xeatement)","Fonte Ductile","Laiton"],reasons:["R\xe9sistance acceptable","N\xe9cessite traitement anticorrosion"]},poor:{materials:["Acier Carbone Nu","Zinc","Aluminium (eau de mer)"],reasons:["Corrosion rapide","Formation d'oxydes","Dur\xe9e de vie limit\xe9e"]},incompatible:{materials:["Magn\xe9sium","Acier Galvanis\xe9 (long terme)"],reasons:["Corrosion galvanique","D\xe9gradation rapide"]}}},seawater:{name:"Eau de Mer",ph_range:"7.8-8.3",corrosiveness:"Tr\xe8s \xc9lev\xe9e",temperature_limits:"-2\xb0C \xe0 +40\xb0C",salinity:"35 g/L",icon:"\ud83c\udf0a",compatibility:{excellent:{materials:["Super Duplex 2507","Inconel 625","Hastelloy C-276","Titane Grade 2","Bronze Naval"],reasons:["R\xe9sistance chlorures","Pas de corrosion par piq\xfbres","Usage marin certifi\xe9"]},good:{materials:["316L Stainless Steel","Duplex 2205","Cupronickel 90/10"],reasons:["R\xe9sistance acceptable","Maintenance pr\xe9ventive requise"]},poor:{materials:["304 Stainless Steel","Fonte","Laiton Ordinaire"],reasons:["Corrosion par piq\xfbres","Attaque chlorures","Dur\xe9e de vie r\xe9duite"]},incompatible:{materials:["Acier Carbone","Zinc","Aluminium","PVC (>40\xb0C)"],reasons:["Corrosion massive","D\xe9faillance rapide","Non adapt\xe9 milieu marin"]}}},palm_oil:{name:"Huile de Palme",ph_range:"Neutre",corrosiveness:"Faible",temperature_limits:"5\xb0C \xe0 +60\xb0C",saponification:"199 mg KOH/g",icon:"\ud83c\udf34",compatibility:{excellent:{materials:["316L Stainless Steel","304 Stainless Steel","PVC","PP","PTFE","Viton","EPDM"],reasons:["Inertie aux huiles v\xe9g\xe9tales","R\xe9sistance temp\xe9rature","Usage alimentaire"]},good:{materials:["Acier Carbone Inoxydable","Bronze","Laiton \xc9tam\xe9"],reasons:["Compatible huiles v\xe9g\xe9tales","Rev\xeatement protecteur requis"]},poor:{materials:["Caoutchouc Naturel","Zinc","Cuivre Nu"],reasons:["Gonflement","Catalyse oxydation","Saponification"]},incompatible:{materials:["Acier Galvanis\xe9","PVC Plastifi\xe9","NBR (>50\xb0C)"],reasons:["R\xe9action chimique","Migration plastifiants","D\xe9gradation temp\xe9rature"]}}},gasoline:{name:"Essence (Octane 95)",ph_range:"N/A",corrosiveness:"Mod\xe9r\xe9e",temperature_limits:"-40\xb0C \xe0 +50\xb0C",volatility:"Tr\xe8s \xc9lev\xe9e",icon:"\u26fd",compatibility:{excellent:{materials:["316L Stainless Steel","Aluminum 5052","PTFE","Viton FKM","Terne Plated Steel"],reasons:["R\xe9sistance hydrocarbures","Pas de gonflement","Usage carburant certifi\xe9"]},good:{materials:["304 Stainless Steel","Acier Carbone (rev\xeatu)","EPDM (sp\xe9cial essence)"],reasons:["R\xe9sistance acceptable","Rev\xeatement anti-corrosion n\xe9cessaire"]},poor:{materials:["PVC","Poly\xe9thyl\xe8ne Standard","Caoutchouc Naturel"],reasons:["Gonflement","Perm\xe9abilit\xe9 vapeurs","D\xe9gradation m\xe9canique"]},incompatible:{materials:["Zinc","Cuivre","NBR Standard","Plomb"],reasons:["Formation de gommes","Catalyse oxydation","Pollution carburant"]}}},diesel:{name:"Gazole (Diesel)",ph_range:"N/A",corrosiveness:"Faible \xe0 Mod\xe9r\xe9e",temperature_limits:"-20\xb0C \xe0 +70\xb0C",sulfur_content:"\u226410 mg/kg (EN 590)",icon:"\ud83d\ude9b",compatibility:{excellent:{materials:["Acier Carbone","316L Stainless Steel","Aluminum","Viton FKM","PTFE"],reasons:["Usage standard diesel","R\xe9sistance corrosion","\xc9tanch\xe9it\xe9 hydrocarbures"]},good:{materials:["304 Stainless Steel","Fonte Ductile","EPDM Diesel","NBR Haute Performance"],reasons:["Compatible diesel standard","R\xe9sistance acceptable"]},poor:{materials:["PVC Standard","Caoutchouc Naturel","Poly\xe9thyl\xe8ne"],reasons:["Gonflement mod\xe9r\xe9","Perm\xe9abilit\xe9","Vieillissement acc\xe9l\xe9r\xe9"]},incompatible:{materials:["Zinc (contact direct)","Cuivre (catalyseur)"],reasons:["Formation de d\xe9p\xf4ts","Catalyse d'oxydation","D\xe9gradation qualit\xe9"]}}},hydraulic_oil:{name:"Huile Hydraulique ISO VG 46",ph_range:"N/A",corrosiveness:"Tr\xe8s Faible",temperature_limits:"-30\xb0C \xe0 +80\xb0C",additive_package:"Anti-usure, Anti-oxydant",icon:"\ud83d\udee2\ufe0f",compatibility:{excellent:{materials:["Acier Carbone","316L Stainless Steel","Fonte","NBR 90 Shore A","Viton","Polyur\xe9thane"],reasons:["Usage hydraulique standard","R\xe9sistance pression","\xc9tanch\xe9it\xe9 parfaite"]},good:{materials:["304 Stainless Steel","Bronze","EPDM Hydraulique","PTFE"],reasons:["Compatible syst\xe8mes hydrauliques","Durabilit\xe9 prouv\xe9e"]},poor:{materials:["PVC Souple","Caoutchouc Naturel","SBR"],reasons:["Gonflement","D\xe9gradation additifs","Perte propri\xe9t\xe9s m\xe9caniques"]},incompatible:{materials:["Zinc Direct","PVC Plastifi\xe9"],reasons:["Attaque additifs anti-usure","Migration plastifiants"]}}},ethanol:{name:"\xc9thanol (95%)",ph_range:"6.5-7.5",corrosiveness:"Mod\xe9r\xe9e",temperature_limits:"-100\xb0C \xe0 +60\xb0C",concentration:"95% vol",icon:"\ud83c\udf7e",compatibility:{excellent:{materials:["316L Stainless Steel","PTFE","EPDM Alcool","Viton A","PP"],reasons:["R\xe9sistance alcools","Inertie chimique","Usage pharmaceutique"]},good:{materials:["304 Stainless Steel","Acier Carbone Rev\xeatu","PVC (concentrations < 50%)"],reasons:["R\xe9sistance acceptable","Limitation concentration"]},poor:{materials:["Aluminum","Zinc","NBR Standard"],reasons:["Corrosion intergranulaire","Formation d'alcoolates","Gonflement"]},incompatible:{materials:["Caoutchouc Naturel","PVC Plastifi\xe9","Ac\xe9tals"],reasons:["Dissolution","Extraction plastifiants","Fissuration contrainte"]}}},methanol:{name:"M\xe9thanol (99.5%)",ph_range:"6.0-7.0",corrosiveness:"\xc9lev\xe9e",temperature_limits:"-100\xb0C \xe0 +50\xb0C",toxicity:"Tr\xe8s Toxique",icon:"\ud83e\uddea",compatibility:{excellent:{materials:["316L Stainless Steel","Hastelloy C-276","PTFE","Viton A","EPDM Sp\xe9cial"],reasons:["R\xe9sistance m\xe9thanol","Pas de corrosion","\xc9tanch\xe9it\xe9 parfaite"]},good:{materials:["304 Stainless Steel","Monel 400"],reasons:["R\xe9sistance acceptable","Inspection r\xe9guli\xe8re requise"]},poor:{materials:["Aluminum","PVC","NBR"],reasons:["Corrosion","Gonflement","D\xe9gradation rapide"]},incompatible:{materials:["Caoutchouc Naturel","Zinc","Magn\xe9sium","Plomb"],reasons:["Dissolution compl\xe8te","Corrosion massive","Toxicit\xe9 renforc\xe9e"]}}},glycerol:{name:"Glyc\xe9rine (99%)",ph_range:"7.0",corrosiveness:"Tr\xe8s Faible",temperature_limits:"-10\xb0C \xe0 +150\xb0C",viscosity:"Tr\xe8s \xc9lev\xe9e",icon:"\ud83e\uddf4",compatibility:{excellent:{materials:["316L Stainless Steel","304 Stainless Steel","PVC","PP","PTFE","EPDM","Viton"],reasons:["Inertie chimique","Usage pharmaceutique","Non corrosif"]},good:{materials:["Acier Carbone","Fonte","Bronze","Laiton"],reasons:["Compatible glyc\xe9rine","Pas d'attaque chimique"]},poor:{materials:["Caoutchouc Naturel (>100\xb0C)","NBR (temp\xe9rature \xe9lev\xe9e)"],reasons:["Ramollissement temp\xe9rature","Perte \xe9lasticit\xe9"]},incompatible:{materials:[],reasons:["Glyc\xe9rine g\xe9n\xe9ralement compatible avec tous mat\xe9riaux courants"]}}},acid:{name:"Solution Acide (HCl 10%)",ph_range:"1.0-2.0",corrosiveness:"Tr\xe8s \xc9lev\xe9e",temperature_limits:"0\xb0C \xe0 +60\xb0C",concentration:"10% HCl",icon:"\u26a0\ufe0f",compatibility:{excellent:{materials:["Hastelloy C-276","Inconel 625","PTFE","PVC-C","PVDF","EPDM Acide"],reasons:["R\xe9sistance acides forts","Pas d'attaque chimique","Usage chimique certifi\xe9"]},good:{materials:["316L Stainless Steel (dilu\xe9)","CPVC"],reasons:["R\xe9sistance acides dilu\xe9s","Limitation concentration"]},poor:{materials:["304 Stainless Steel","Aluminum","Zinc"],reasons:["Corrosion rapide","Formation d'hydrog\xe8ne","Attaque intergranulaire"]},incompatible:{materials:["Acier Carbone","Fonte","Cuivre","Laiton","Caoutchouc Naturel"],reasons:["Dissolution rapide","Corrosion massive","R\xe9action violente"]}}},milk:{name:"Lait (3.5% MG)",ph_range:"6.6-6.8",corrosiveness:"Tr\xe8s Faible",temperature_limits:"2\xb0C \xe0 +80\xb0C",fat_content:"3.5% MG",icon:"\ud83e\udd5b",compatibility:{excellent:{materials:["316L Stainless Steel","PTFE","EPDM Food Grade","Silicone Alimentaire","Verre Borosilicat\xe9"],reasons:["Usage alimentaire certifi\xe9","R\xe9sistance nettoyage","Inertie chimique totale"]},good:{materials:["304 Stainless Steel","PP Food Grade","PVC Alimentaire"],reasons:["Compatible produits laitiers","Nettoyage facile"]},poor:{materials:["Aluminum Non Trait\xe9","PVC Standard"],reasons:["Interaction avec acidit\xe9","Absorption d'odeurs"]},incompatible:{materials:["Cuivre","Laiton","Caoutchouc Naturel","Acier Galvanis\xe9"],reasons:["Contamination m\xe9tallique","D\xe9veloppement bact\xe9rien","Alt\xe9ration go\xfbt"]}}},honey:{name:"Miel (Naturel)",ph_range:"3.4-6.1",corrosiveness:"Faible (Acide)",temperature_limits:"10\xb0C \xe0 +60\xb0C",sugar_content:"82% sucres",icon:"\ud83c\udf6f",compatibility:{excellent:{materials:["316L Stainless Steel","Verre","PTFE","Silicone Food Grade","C\xe9ramique Alimentaire"],reasons:["R\xe9sistance sucres acides","Pas d'interaction","Facilit\xe9 nettoyage"]},good:{materials:["304 Stainless Steel","HDPE Food Grade","PP"],reasons:["Compatible alimentaire","R\xe9sistance acceptable aux acides"]},poor:{materials:["Aluminum","\xc9tain","PVC Standard"],reasons:["Interaction acide","Coloration possible","Absorption"]},incompatible:{materials:["Fer","Cuivre","Plomb","Caoutchouc Naturel"],reasons:["Catalyse fermentation","Contamination m\xe9tallique","Alt\xe9ration qualit\xe9"]}}},wine:{name:"Vin Rouge (12\xb0 alcool)",ph_range:"3.3-3.7",corrosiveness:"Mod\xe9r\xe9e (Acide + Alcool)",temperature_limits:"8\xb0C \xe0 +25\xb0C",alcohol_content:"12% vol",icon:"\ud83c\udf77",compatibility:{excellent:{materials:["316L Stainless Steel","Verre","PTFE","EPDM \u0152nologique","Ch\xeane Trait\xe9"],reasons:["Usage \u0153nologique certifi\xe9","Pas d'alt\xe9ration go\xfbt","R\xe9sistance acides organiques"]},good:{materials:["304 Stainless Steel","Poly\xe9thyl\xe8ne Dense","R\xe9sines Alimentaires"],reasons:["Compatible vin","R\xe9sistance alcool-acide"]},poor:{materials:["Aluminum Anodis\xe9","PVC Food","Caoutchouc Sp\xe9cial"],reasons:["Interaction l\xe9g\xe8re","N\xe9cessite surveillance","Vieillissement acc\xe9l\xe9r\xe9"]},incompatible:{materials:["Fer","Cuivre Nu","Plomb","PVC Standard","Caoutchouc Naturel"],reasons:["Casse m\xe9tallique","Go\xfbts ind\xe9sirables","Contamination","Alt\xe9ration aromatique"]}}},bleach:{name:"Eau de Javel (5% NaClO)",ph_range:"11.5-13.0",corrosiveness:"Tr\xe8s \xc9lev\xe9e",temperature_limits:"5\xb0C \xe0 +25\xb0C",active_chlorine:"5% NaClO",icon:"\ud83e\uddfd",compatibility:{excellent:{materials:["PVC","CPVC","PTFE","Viton R\xe9sistant Chlore","PVDF"],reasons:["R\xe9sistance chlore excellente","Pas de d\xe9gradation","Usage d\xe9sinfection certifi\xe9"]},good:{materials:["PEHD","PP (court terme)","C\xe9ramique \xc9maill\xe9e"],reasons:["R\xe9sistance acceptable","Usage limit\xe9 dans le temps"]},poor:{materials:["304 Stainless Steel","Caoutchouc EPDM","Silicone Standard"],reasons:["Corrosion par piq\xfbres","D\xe9gradation progressive","Dur\xe9e de vie limit\xe9e"]},incompatible:{materials:["Acier Carbone","Aluminum","Cuivre","Laiton","316L Stainless (prolong\xe9)","NBR"],reasons:["Corrosion rapide","R\xe9action violente","D\xe9gagement gazeux","D\xe9faillance imm\xe9diate"]}}},yogurt:{name:"Yaourt Nature",ph_range:"4.0-4.4",corrosiveness:"Faible (Acide Lactique)",temperature_limits:"2\xb0C \xe0 +45\xb0C",lactic_acid:"0.8% acide lactique",icon:"\ud83e\udd5b",compatibility:{excellent:{materials:["316L Stainless Steel","Verre","PTFE","Silicone Alimentaire","EPDM Food Grade"],reasons:["R\xe9sistance acide lactique","Usage laitier certifi\xe9","Facilit\xe9 st\xe9rilisation"]},good:{materials:["304 Stainless Steel","PP Food Grade","HDPE Alimentaire"],reasons:["Compatible produits ferment\xe9s","Nettoyage efficace"]},poor:{materials:["Aluminum Anodis\xe9","PVC Alimentaire","\xc9tain"],reasons:["Interaction acide faible","Coloration possible","Surveillance requise"]},incompatible:{materials:["Fer","Cuivre","Zinc","Caoutchouc Naturel","Acier Galvanis\xe9"],reasons:["Contamination m\xe9tallique","Alt\xe9ration bact\xe9rienne","Go\xfbts m\xe9talliques"]}}},tomato_sauce:{name:"Sauce Tomate Concentr\xe9e",ph_range:"4.0-4.6",corrosiveness:"Mod\xe9r\xe9e (Acide + Sel)",temperature_limits:"5\xb0C \xe0 +95\xb0C",salt_content:"2.5% NaCl",icon:"\ud83c\udf45",compatibility:{excellent:{materials:["316L Stainless Steel","Verre","PTFE","C\xe9ramique \xc9maill\xe9e","\xc9mail Vitrifi\xe9"],reasons:["R\xe9sistance acides organiques","Pas d'interaction sel","Usage conserverie certifi\xe9"]},good:{materials:["304 Stainless Steel","R\xe9sines \xc9poxy","HDPE Food Grade"],reasons:["Compatible tomate","R\xe9sistance temp\xe9rature-acidit\xe9"]},poor:{materials:["Aluminum Trait\xe9","PVC Rigide","Polyester"],reasons:["Interaction acide-sel","Coloration progressive","Dur\xe9e limit\xe9e"]},incompatible:{materials:["Fer","\xc9tain Non Prot\xe9g\xe9","Cuivre","Zinc","Caoutchouc Standard"],reasons:["Corrosion acide","Contamination m\xe9tallique","Alt\xe9ration couleur/go\xfbt"]}}},soap_solution:{name:"Solution Savonneuse (2%)",ph_range:"9.0-11.0",corrosiveness:"Faible (Basique)",temperature_limits:"15\xb0C \xe0 +60\xb0C",surfactant_content:"2% agents actifs",icon:"\ud83e\uddfc",compatibility:{excellent:{materials:["Stainless Steel","PVC","PP","PTFE","Polyur\xe9thane","EPDM"],reasons:["R\xe9sistance d\xe9tergents","Usage nettoyage standard","Pas de d\xe9gradation"]},good:{materials:["Aluminum Anodis\xe9","HDPE","ABS","Polycarbonate"],reasons:["Compatible d\xe9tergents","R\xe9sistance alcaline acceptable"]},poor:{materials:["Aluminum Nu","Magn\xe9sium","Caoutchouc Naturel"],reasons:["Attaque alcaline l\xe9g\xe8re","Gonflement","D\xe9gradation lente"]},incompatible:{materials:["Zinc","\xc9tain","Plomb","Mat\xe9riaux Poreux"],reasons:["Corrosion alcaline","Dissolution","Absorption d\xe9tergents"]}}},fruit_juice:{name:"Jus de Fruits (Orange)",ph_range:"3.3-4.2",corrosiveness:"Mod\xe9r\xe9e (Acide Citrique)",temperature_limits:"2\xb0C \xe0 +85\xb0C",vitamin_c:"50 mg/100ml",icon:"\ud83e\uddc3",compatibility:{excellent:{materials:["316L Stainless Steel","Verre","PTFE","Silicone Food Grade","\xc9mail Porcelaine"],reasons:["R\xe9sistance acides de fruits","Pr\xe9servation vitamines","Usage alimentaire certifi\xe9"]},good:{materials:["304 Stainless Steel","PP Food Grade","HDPE Alimentaire","C\xe9ramique"],reasons:["Compatible jus de fruits","R\xe9sistance acide citrique"]},poor:{materials:["Aluminum Anodis\xe9","PVC Food","R\xe9sines Standard"],reasons:["Interaction acide faible","Possible migration","Alt\xe9ration l\xe9g\xe8re"]},incompatible:{materials:["Fer","Cuivre","\xc9tain Nu","Caoutchouc Naturel","Plomb"],reasons:["Destruction vitamine C","Contamination m\xe9tallique","Oxydation","Go\xfbts m\xe9talliques"]}}}},i=e=>{switch(e){case"excellent":return"bg-green-100 border-green-400 text-green-800";case"good":return"bg-blue-100 border-blue-400 text-blue-800";case"poor":return"bg-yellow-100 border-yellow-400 text-yellow-800";case"incompatible":return"bg-red-100 border-red-400 text-red-800";default:return"bg-gray-100 border-gray-400 text-gray-800"}},s=e=>{switch(e){case"excellent":return"\u2705";case"good":return"\ud83d\udc4d";case"poor":return"\u26a0\ufe0f";case"incompatible":return"\u274c";default:return"\u2753"}},a=e=>{switch(e){case"excellent":return"EXCELLENT";case"good":return"BON";case"poor":return"M\xc9DIOCRE";case"incompatible":return"INCOMPATIBLE";default:return"INCONNU"}},o=e?n[e]:null;return(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\ud83e\uddea COMPATIBILIT\xc9 CHIMIQUE FLUIDES-MAT\xc9RIAUX"}),(0,xc.jsx)("p",{className:"text-purple-100",children:"S\xe9lectionnez un fluide pour visualiser sa compatibilit\xe9 avec les mat\xe9riaux d'installation"}),(0,xc.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,xc.jsx)("div",{children:"\u2705 Standards ASTM"}),(0,xc.jsx)("div",{children:"\u2705 Normes ISO 23936"}),(0,xc.jsx)("div",{children:"\u2705 Codes ASME"}),(0,xc.jsx)("div",{children:"\u2705 Certifications FDA"})]})]}),(0,xc.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,xc.jsxs)("div",{className:"max-w-md",children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udd0d S\xe9lectionnez un fluide \xe0 analyser"}),(0,xc.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-base",children:[(0,xc.jsx)("option",{value:"",children:"-- Choisir un fluide --"}),Object.entries(n).map((e=>{let[t,n]=e;return(0,xc.jsxs)("option",{value:t,children:[n.icon," ",n.name]},t)}))]})]})}),(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udccb L\xe9gende des Niveaux de Compatibilit\xe9"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"p-3 rounded-lg border-2 ".concat(i("excellent")),children:[(0,xc.jsx)("div",{className:"font-bold",children:"\u2705 EXCELLENT"}),(0,xc.jsx)("div",{className:"text-sm",children:"Compatibilit\xe9 parfaite - Usage long terme"})]}),(0,xc.jsxs)("div",{className:"p-3 rounded-lg border-2 ".concat(i("good")),children:[(0,xc.jsx)("div",{className:"font-bold",children:"\ud83d\udc4d BON"}),(0,xc.jsx)("div",{className:"text-sm",children:"Compatible - Surveillance recommand\xe9e"})]}),(0,xc.jsxs)("div",{className:"p-3 rounded-lg border-2 ".concat(i("poor")),children:[(0,xc.jsx)("div",{className:"font-bold",children:"\u26a0\ufe0f M\xc9DIOCRE"}),(0,xc.jsx)("div",{className:"text-sm",children:"Usage limit\xe9 - Maintenance fr\xe9quente"})]}),(0,xc.jsxs)("div",{className:"p-3 rounded-lg border-2 ".concat(i("incompatible")),children:[(0,xc.jsx)("div",{className:"font-bold",children:"\u274c INCOMPATIBLE"}),(0,xc.jsx)("div",{className:"text-sm",children:"\xc0 \xe9viter - Risque de d\xe9faillance"})]})]})]}),o&&(0,xc.jsx)("div",{className:"bg-white rounded-lg shadow-lg border-l-4 border-purple-400 overflow-hidden",children:(0,xc.jsxs)("div",{className:"p-6",children:[(0,xc.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,xc.jsx)("span",{className:"text-3xl",children:o.icon}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:o.name}),(0,xc.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-2",children:[(0,xc.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[(0,xc.jsx)("strong",{children:"pH:"})," ",o.ph_range]}),(0,xc.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[(0,xc.jsx)("strong",{children:"Corrosion:"})," ",o.corrosiveness]}),(0,xc.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[(0,xc.jsx)("strong",{children:"Temp\xe9rature:"})," ",o.temperature_limits]}),o.salinity&&(0,xc.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[(0,xc.jsx)("strong",{children:"Salinit\xe9:"})," ",o.salinity]}),o.volatility&&(0,xc.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[(0,xc.jsx)("strong",{children:"Volatilit\xe9:"})," ",o.volatility]}),o.toxicity&&(0,xc.jsxs)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded",children:[(0,xc.jsx)("strong",{children:"\u26a0\ufe0f Toxicit\xe9:"})," ",o.toxicity]})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:"\ud83d\udd0d Compatibilit\xe9 avec les Mat\xe9riaux"}),Object.entries(o.compatibility).map((e=>{let[t,n]=e;return n.materials.length>0&&(0,xc.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(i(t)),children:[(0,xc.jsxs)("div",{className:"flex items-center mb-3",children:[(0,xc.jsx)("span",{className:"text-lg mr-2",children:s(t)}),(0,xc.jsx)("h5",{className:"text-lg font-bold",children:a(t)}),(0,xc.jsxs)("span",{className:"ml-2 px-2 py-1 text-xs bg-white rounded-full",children:[n.materials.length," mat\xe9riaux"]})]}),(0,xc.jsxs)("div",{className:"mb-3",children:[(0,xc.jsx)("h6",{className:"font-medium text-sm mb-2",children:"\ud83d\udce6 Mat\xe9riaux recommand\xe9s :"}),(0,xc.jsx)("div",{className:"flex flex-wrap gap-2",children:n.materials.map(((e,t)=>(0,xc.jsx)("span",{className:"px-3 py-1 bg-white rounded-md text-sm font-medium shadow-sm border",children:e},t)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h6",{className:"font-medium text-sm mb-2",children:"\ud83d\udca1 Justifications techniques :"}),(0,xc.jsx)("ul",{className:"text-sm space-y-1",children:n.reasons.map(((e,t)=>(0,xc.jsxs)("li",{className:"flex items-start",children:[(0,xc.jsx)("span",{className:"mr-2",children:"\u2022"}),(0,xc.jsx)("span",{children:e})]},t)))})]})]},t)}))]}),("acid"===e||"methanol"===e||"gasoline"===e)&&(0,xc.jsx)("div",{className:"mt-6 p-4 bg-red-50 border-2 border-red-200 rounded-lg",children:(0,xc.jsxs)("div",{className:"flex items-start",children:[(0,xc.jsx)("span",{className:"text-red-600 text-xl mr-3",children:"\u26a0\ufe0f"}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h6",{className:"font-bold text-red-800 mb-2",children:"AVERTISSEMENT S\xc9CURIT\xc9"}),(0,xc.jsx)("p",{className:"text-red-700 text-sm",children:"Ce fluide pr\xe9sente des risques particuliers. Consulter les fiches de donn\xe9es de s\xe9curit\xe9 (FDS) et respecter les r\xe9glementations en vigueur pour la manipulation, le stockage et l'installation."})]})]})})]})}),!e&&(0,xc.jsxs)("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[(0,xc.jsx)("div",{className:"text-6xl mb-4",children:"\ud83e\uddea"}),(0,xc.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"S\xe9lectionnez un fluide"}),(0,xc.jsx)("p",{className:"text-gray-500",children:"Choisissez un fluide dans la liste d\xe9roulante ci-dessus pour voir sa compatibilit\xe9 avec les mat\xe9riaux d'installation"})]})]})},Ac=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(null),o={npshd:{name:"Calculs NPSH Disponible",color:"bg-blue-50 border-blue-200",icon:"\ud83d\udfe6",formulas:[{id:"npshd_flooded",name:"NPSHd - Installation en Charge",formula:"NPSHd = (Patm / (\u03c1 \xd7 g)) + hasp - (Pv / (\u03c1 \xd7 g)) - \u0394Hasp",variables:{NPSHd:"Net Positive Suction Head disponible (m)",Patm:"Pression atmosph\xe9rique (Pa) = 101 325 Pa","\u03c1":"Masse volumique du fluide (kg/m\xb3)",g:"Acc\xe9l\xe9ration de la pesanteur = 9.81 m/s\xb2",hasp:"Hauteur d'aspiration en charge (m, positif)",Pv:"Pression de vapeur saturante du fluide (Pa)","\u0394Hasp":"Pertes de charge totales c\xf4t\xe9 aspiration (m)"},application:"Pour pompes install\xe9es sous le niveau du r\xe9servoir (aspiration positive)",references:"NF EN ISO 17769-1, API 610"},{id:"npshd_suction_lift",name:"NPSHd - Installation en D\xe9pression",formula:"NPSHd = (Patm / (\u03c1 \xd7 g)) - hasp - (Pv / (\u03c1 \xd7 g)) - \u0394Hasp",variables:{NPSHd:"Net Positive Suction Head disponible (m)",Patm:"Pression atmosph\xe9rique (Pa) = 101 325 Pa","\u03c1":"Masse volumique du fluide (kg/m\xb3)",g:"Acc\xe9l\xe9ration de la pesanteur = 9.81 m/s\xb2",hasp:"Hauteur d'aspiration en d\xe9pression (m, positif)",Pv:"Pression de vapeur saturante du fluide (Pa)","\u0394Hasp":"Pertes de charge totales c\xf4t\xe9 aspiration (m)"},application:"Pour pompes install\xe9es au-dessus du niveau du r\xe9servoir",references:"NF EN ISO 17769-1, Hydraulic Institute Standards"}]},head_loss:{name:"Pertes de Charge Hydrauliques",color:"bg-red-50 border-red-200",icon:"\ud83d\udcc9",formulas:[{id:"darcy_weisbach",name:"Formule de Darcy-Weisbach",formula:"\u0394H = f \xd7 (L / D) \xd7 (V\xb2 / (2 \xd7 g))",variables:{"\u0394H":"Perte de charge lin\xe9aire (m)",f:"Coefficient de friction (sans dimension)",L:"Longueur de la conduite (m)",D:"Diam\xe8tre int\xe9rieur de la conduite (m)",V:"Vitesse moyenne du fluide (m/s)",g:"Acc\xe9l\xe9ration de la pesanteur = 9.81 m/s\xb2"},application:"Calcul des pertes de charge en conduite cylindrique",references:"ISO 4006, Moody Diagram"},{id:"reynolds_number",name:"Nombre de Reynolds",formula:"Re = (\u03c1 \xd7 V \xd7 D) / \u03bc",variables:{Re:"Nombre de Reynolds (sans dimension)","\u03c1":"Masse volumique du fluide (kg/m\xb3)",V:"Vitesse moyenne du fluide (m/s)",D:"Diam\xe8tre int\xe9rieur de la conduite (m)","\u03bc":"Viscosit\xe9 dynamique du fluide (Pa\xb7s)"},application:"D\xe9termination du r\xe9gime d'\xe9coulement (laminaire Re < 2300, turbulent Re > 4000)",references:"M\xe9canique des fluides, Reynolds (1883)"},{id:"colebrook_white",name:"\xc9quation de Colebrook-White",formula:"1/\u221af = -2 \xd7 log\u2081\u2080((\u03b5/D)/3.7 + 2.51/(Re\xd7\u221af))",variables:{f:"Coefficient de friction (sans dimension)","\u03b5":"Rugosit\xe9 absolue de la conduite (m)",D:"Diam\xe8tre int\xe9rieur de la conduite (m)",Re:"Nombre de Reynolds (sans dimension)"},application:"Calcul du coefficient de friction pour \xe9coulement turbulent",references:"Colebrook & White (1937), ISO 4006"}]},hmt:{name:"Hauteur Manom\xe9trique Totale",color:"bg-green-50 border-green-200",icon:"\ud83d\udfe9",formulas:[{id:"hmt_total",name:"HMT - Formule G\xe9n\xe9rale",formula:"HMT = Hg\xe9o + \u0394Htotal + \u0394Putile/(\u03c1\xd7g)",variables:{HMT:"Hauteur Manom\xe9trique Totale (m)","Hg\xe9o":"Hauteur g\xe9om\xe9trique = hrefoulement + haspiration (m)","\u0394Htotal":"Pertes de charge totales = \u0394Hasp + \u0394Href (m)","\u0394Putile":"Pression utile requise (Pa)","\u03c1":"Masse volumique du fluide (kg/m\xb3)",g:"Acc\xe9l\xe9ration de la pesanteur = 9.81 m/s\xb2"},application:"Calcul de la hauteur totale que doit fournir la pompe",references:"NF EN 809, ISO 17769"},{id:"static_head",name:"Hauteur Statique",formula:"Hstatique = hrefoulement - haspiration",variables:{Hstatique:"Hauteur statique (m)",hrefoulement:"Niveau de refoulement (m)",haspiration:"Niveau d'aspiration (m, n\xe9gatif si en d\xe9pression)"},application:"Calcul de la diff\xe9rence d'altitude entre aspiration et refoulement",references:"Principes de base hydraulique"}]},power:{name:"Calculs de Puissance et \xc9lectriques",color:"bg-yellow-50 border-yellow-200",icon:"\u26a1",formulas:[{id:"hydraulic_power",name:"Puissance Hydraulique",formula:"Ph = (\u03c1 \xd7 g \xd7 Q \xd7 HMT) / 1000",variables:{Ph:"Puissance hydraulique (kW)","\u03c1":"Masse volumique du fluide (kg/m\xb3)",g:"Acc\xe9l\xe9ration de la pesanteur = 9.81 m/s\xb2",Q:"D\xe9bit volumique (m\xb3/s)",HMT:"Hauteur Manom\xe9trique Totale (m)"},application:"Puissance th\xe9orique n\xe9cessaire pour \xe9lever le fluide",references:"Principes thermodynamiques"},{id:"absorbed_power",name:"Puissance Absorb\xe9e P2",formula:"P2 = (Q \xd7 HMT) / (\u03b7pompe \xd7 367)",variables:{P2:"Puissance absorb\xe9e par la pompe (kW)",Q:"D\xe9bit volumique (m\xb3/h)",HMT:"Hauteur Manom\xe9trique Totale (m)","\u03b7pompe":"Rendement de la pompe (%)",367:"Constante de conversion (m\u2074/h\xb7kW pour l'eau)"},application:"Puissance m\xe9canique requise \xe0 l'arbre de la pompe",references:"Calculs normalised pompes centrifuges"},{id:"motor_power",name:"Puissance \xc9lectrique P1",formula:"P1 = P2 / (\u03b7moteur / 100)",variables:{P1:"Puissance \xe9lectrique absorb\xe9e (kW)",P2:"Puissance m\xe9canique absorb\xe9e (kW)","\u03b7moteur":"Rendement du moteur \xe9lectrique (%)"},application:"Puissance \xe9lectrique consomm\xe9e par le moteur",references:"CEI 60034, NEMA MG1"},{id:"nominal_current",name:"Courant Nominal",formula:"I = P1 / (U \xd7 \u221a3 \xd7 cos(\u03c6))",variables:{I:"Courant nominal (A)",P1:"Puissance \xe9lectrique (kW)",U:"Tension entre phases (V)","cos(\u03c6)":"Facteur de puissance"},application:"Calcul du courant de fonctionnement nominal",references:"\xc9lectrotechnique industrielle"}]},efficiency:{name:"Calculs de Rendement",color:"bg-purple-50 border-purple-200",icon:"\ud83d\udcca",formulas:[{id:"overall_efficiency",name:"Rendement Global",formula:"\u03b7global = \u03b7pompe \xd7 \u03b7moteur",variables:{"\u03b7global":"Rendement global du groupe motopompe (%)","\u03b7pompe":"Rendement hydraulique de la pompe (%)","\u03b7moteur":"Rendement \xe9lectrique du moteur (%)"},application:"Efficacit\xe9 \xe9nerg\xe9tique globale de l'installation",references:"Directive ErP 2009/125/CE, ISO 12723"},{id:"pump_efficiency",name:"Rendement Hydraulique Pompe",formula:"\u03b7pompe = Ph / P2 \xd7 100",variables:{"\u03b7pompe":"Rendement hydraulique de la pompe (%)",Ph:"Puissance hydraulique utile (kW)",P2:"Puissance m\xe9canique absorb\xe9e (kW)"},application:"Efficacit\xe9 de conversion d'\xe9nergie m\xe9canique en \xe9nergie hydraulique",references:"ISO 9906, Hydraulic Institute"}]},flow:{name:"\xc9coulement et Vitesse",color:"bg-cyan-50 border-cyan-200",icon:"\ud83c\udf0a",formulas:[{id:"flow_velocity",name:"Vitesse d'\xc9coulement",formula:"V = Q / A = 4Q / (\u03c0 \xd7 D\xb2)",variables:{V:"Vitesse moyenne du fluide (m/s)",Q:"D\xe9bit volumique (m\xb3/s)",A:"Section transversale de la conduite (m\xb2)",D:"Diam\xe8tre int\xe9rieur de la conduite (m)"},application:"Calcul de la vitesse du fluide dans les conduites",references:"\xc9quation de continuit\xe9"},{id:"flow_rate_conversion",name:"Conversion de D\xe9bit",formula:"Q(m\xb3/h) = Q(m\xb3/s) \xd7 3600",variables:{"Q(m\xb3/h)":"D\xe9bit en m\xe8tres cubes par heure","Q(m\xb3/s)":"D\xe9bit en m\xe8tres cubes par seconde"},application:"Conversion entre unit\xe9s de d\xe9bit usuelles",references:"Syst\xe8me international d'unit\xe9s"}]},electrical_cables:{name:"Calculs \xc9lectriques - C\xe2bles et Alimentation",color:"bg-orange-50 border-orange-200",icon:"\u26a1",formulas:[{id:"cable_section",name:"Section de C\xe2ble - Chute de Tension",formula:"S = (\u03c1 \xd7 L \xd7 I) / (\u0394U \xd7 \u221a3)",variables:{S:"Section du conducteur (mm\xb2)","\u03c1":"R\xe9sistivit\xe9 du cuivre (0.017 \u03a9.mm\xb2/m \xe0 20\xb0C)",L:"Longueur du c\xe2ble (m)",I:"Courant nominal (A)","\u0394U":"Chute de tension admissible (V)","\u221a3":"Facteur pour triphas\xe9 (1 pour monophas\xe9)"},application:"Dimensionnement section c\xe2ble pour limiter chute tension (\u22643% en \xe9clairage, \u22645% en force)",references:"NFC 15-100, CEI 60364"},{id:"cable_current_capacity",name:"Courant Admissible - \xc9chauffement",formula:"Iz = In \xd7 K1 \xd7 K2 \xd7 K3",variables:{Iz:"Courant admissible en service (A)",In:"Courant nominal du c\xe2ble (A)",K1:"Facteur temp\xe9rature ambiante",K2:"Facteur groupement des circuits",K3:"Facteur mode de pose"},application:"V\xe9rification \xe9chauffement c\xe2ble selon conditions d'installation",references:"NFC 15-100, tableau 52C \xe0 52K"},{id:"short_circuit_current",name:"Courant de Court-Circuit",formula:"Icc = U / \u221a(R\xb2 + X\xb2)",variables:{Icc:"Courant de court-circuit efficace (A)",U:"Tension entre phases (V)",R:"R\xe9sistance totale du circuit (\u03a9)",X:"R\xe9actance totale du circuit (\u03a9)"},application:"Calcul pouvoir de coupure disjoncteurs et fusibles",references:"CEI 60909, NFC 13-200"}]},electrical_motors:{name:"Calculs \xc9lectriques - Moteurs",color:"bg-indigo-50 border-indigo-200",icon:"\ud83d\udd0c",formulas:[{id:"motor_power_selection",name:"Puissance Moteur - Dimensionnement",formula:"Pmoteur = (Ph \xd7 Fs) / (\u03b7pompe \xd7 \u03b7moteur)",variables:{Pmoteur:"Puissance moteur n\xe9cessaire (kW)",Ph:"Puissance hydraulique requise (kW)",Fs:"Facteur de service (1.15 \xe0 1.25)","\u03b7pompe":"Rendement pompe (%)","\u03b7moteur":"Rendement moteur (%)"},application:"Choix puissance moteur avec marge s\xe9curit\xe9",references:"CEI 60034, NEMA MG1"},{id:"starting_current",name:"Courant de D\xe9marrage",formula:"Id = Ka \xd7 In",variables:{Id:"Courant de d\xe9marrage (A)",Ka:"Rapport intensit\xe9 d\xe9marrage/nominale (5-8)",In:"Courant nominal moteur (A)"},application:"Dimensionnement protection d\xe9marrage moteur",references:"CEI 60947-4-1"},{id:"motor_slip",name:"Glissement Moteur Asynchrone",formula:"g = (ns - nr) / ns \xd7 100",variables:{g:"Glissement (%)",ns:"Vitesse synchrone (tr/min)",nr:"Vitesse rotor en charge (tr/min)"},application:"Calcul glissement pour dimensionnement variateur",references:"Th\xe9orie machines \xe9lectriques"}]},system_sizing:{name:"Dimensionnement et S\xe9lection Syst\xe8mes",color:"bg-pink-50 border-pink-200",icon:"\u2699\ufe0f",formulas:[{id:"pipe_diameter_selection",name:"Diam\xe8tre Conduite Optimal",formula:"D = \u221a((4 \xd7 Q) / (\u03c0 \xd7 V))",variables:{D:"Diam\xe8tre int\xe9rieur optimal (m)",Q:"D\xe9bit volumique (m\xb3/s)",V:"Vitesse recommand\xe9e (1.5-3 m/s)","\u03c0":"Pi (3.14159)"},application:"Choix diam\xe8tre pour vitesse \xe9conomique (aspiration: 1-1.5 m/s, refoulement: 2-3 m/s)",references:"Guides techniques pompage"},{id:"reservoir_sizing",name:"Volume R\xe9servoir - Anti-b\xe9lier",formula:"V = Q \xd7 t / (4 \xd7 n)",variables:{V:"Volume r\xe9servoir minimal (m\xb3)",Q:"D\xe9bit pompe (m\xb3/h)",t:"Temps cycle min recommand\xe9 (15 min)",n:"Nombre d\xe9marrages/heure max (4)"},application:"\xc9viter d\xe9marrages r\xe9p\xe9titifs et coups de b\xe9lier",references:"Standards pompage industriel"},{id:"thermal_protection",name:"Protection Thermique Moteur",formula:"Irth = In \xd7 (1 + 0.25 \xd7 Fs)",variables:{Irth:"Seuil protection thermique (A)",In:"Courant nominal moteur (A)",Fs:"Facteur service (sans unit\xe9)"},application:"R\xe9glage relais thermique protection moteur",references:"NFC 15-100, CEI 60947-4-1"}]},maintenance:{name:"Maintenance et Diagnostic",color:"bg-gray-50 border-gray-200",icon:"\ud83d\udd27",formulas:[{id:"bearing_life",name:"Dur\xe9e de Vie Roulements",formula:"L10 = (C / P)\xb3 \xd7 10\u2076",variables:{L10:"Dur\xe9e vie nominale (tours)",C:"Charge dynamique base (N)",P:"Charge \xe9quivalente (N)"},application:"Planification maintenance pr\xe9ventive roulements",references:"ISO 281, SKF General Catalogue"},{id:"vibration_analysis",name:"Analyse Vibratoire - RMS",formula:"Vrms = \u221a(\u03a3(Vi\xb2) / n)",variables:{Vrms:"Valeur efficace vibration (mm/s)",Vi:"Valeurs instantan\xe9es",n:"Nombre mesures"},application:"Diagnostic \xe9tat machine (bon: <2.8, acceptable: 2.8-7.1, mauvais: >7.1 mm/s)",references:"ISO 10816, NF E90-300"},{id:"efficiency_degradation",name:"D\xe9gradation Rendement",formula:"\u0394\u03b7 = (\u03b70 - \u03b7t) / \u03b70 \xd7 100",variables:{"\u0394\u03b7":"D\xe9gradation rendement (%)","\u03b70":"Rendement initial (%)","\u03b7t":"Rendement actuel (%)"},application:"Indicateur usure pompe (>10% = maintenance requise)",references:"Hydraulic Institute, ANSI/API 610"}]}};(()=>{let t=[];Object.entries(o).forEach((i=>{let[r,s]=i;"all"!==n&&n!==r||s.formulas.forEach((n=>{(""===e||n.name.toLowerCase().includes(e.toLowerCase())||n.formula.toLowerCase().includes(e.toLowerCase())||Object.values(n.variables).some((t=>t.toLowerCase().includes(e.toLowerCase()))))&&t.push(d(d({},n),{},{category:r,categoryName:s.name,categoryColor:s.color,categoryIcon:s.icon}))}))}))})();return(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\ud83d\udcda BASE DE DONN\xc9ES DES FORMULES TECHNIQUES"}),(0,xc.jsx)("p",{className:"text-blue-100",children:"R\xe9f\xe9rentiel complet des \xe9quations hydrauliques, \xe9lectriques et de dimensionnement"}),(0,xc.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,xc.jsx)("div",{children:"\u2705 Conformit\xe9 ISO 17769"}),(0,xc.jsx)("div",{children:"\u2705 Standards API 610"}),(0,xc.jsx)("div",{children:"\u2705 Normes CEI & NFC"})]})]}),(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsxs)("div",{className:"mb-4",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\ud83d\uddc2\ufe0f S\xe9lectionner une Cat\xe9gorie de Formules"}),(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(o).map((e=>{let[t,r]=e;return(0,xc.jsx)("button",{onClick:()=>{i(t),a(null)},className:"p-4 rounded-lg border-2 text-left transition-all duration-200 hover:scale-105 ".concat(n===t?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-gray-50 hover:border-blue-300 hover:bg-blue-25"),children:(0,xc.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xc.jsx)("span",{className:"text-2xl",children:r.icon}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("div",{className:"font-semibold text-gray-800",children:r.name}),(0,xc.jsxs)("div",{className:"text-sm text-gray-600",children:[r.formulas.length," formule",r.formulas.length>1?"s":""]})]})]})},t)}))})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,xc.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Object.values(o).reduce(((e,t)=>e+t.formulas.length),0)}),(0,xc.jsx)("div",{className:"text-sm text-blue-800",children:"Total Formules"})]}),(0,xc.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Object.keys(o).length}),(0,xc.jsx)("div",{className:"text-sm text-green-800",children:"Cat\xe9gories"})]}),(0,xc.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"ISO"}),(0,xc.jsx)("div",{className:"text-sm text-purple-800",children:"Conformit\xe9"})]}),(0,xc.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:"API"}),(0,xc.jsx)("div",{className:"text-sm text-yellow-800",children:"Standards"})]})]})]}),n&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:[o[n].icon," ",o[n].name]}),(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o[n].formulas.map((e=>(0,xc.jsxs)("button",{onClick:()=>a(e),className:"p-3 rounded-lg border text-left transition-all duration-200 ".concat((null===s||void 0===s?void 0:s.id)===e.id?"border-green-500 bg-green-50 shadow-lg":"border-gray-200 bg-gray-50 hover:border-green-300 hover:bg-green-25"),children:[(0,xc.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,xc.jsx)("div",{className:"text-sm text-gray-600 mt-1 font-mono",children:e.formula})]},e.id)))})]}),s&&(0,xc.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,xc.jsxs)("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-6 rounded-r-lg",children:[(0,xc.jsxs)("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:["\ud83d\udcd0 ",s.name]}),(0,xc.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-inner",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Formule :"}),(0,xc.jsx)("div",{className:"text-lg font-mono bg-gray-100 p-3 rounded border",children:s.formula})]}),(0,xc.jsxs)("div",{className:"mb-6",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-700 mb-3",children:"Variables :"}),(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(s.variables).map((e=>{let[t,n]=e;return(0,xc.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,xc.jsx)("span",{className:"font-mono font-bold text-blue-600",children:t}),(0,xc.jsxs)("span",{className:"text-gray-600 ml-2",children:[": ",n]})]},t)}))})]}),(0,xc.jsxs)("div",{className:"mb-4",children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"Application :"}),(0,xc.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-3 text-green-800",children:s.application})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h4",{className:"font-semibold text-gray-700 mb-2",children:"R\xe9f\xe9rences normatives :"}),(0,xc.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 text-yellow-800 text-sm",children:s.references})]})]})}),!n&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,xc.jsx)("div",{className:"text-gray-500 text-lg mb-2",children:"\ud83d\udc46 S\xe9lectionnez une cat\xe9gorie ci-dessus pour voir les formules disponibles"}),(0,xc.jsx)("p",{className:"text-gray-400",children:"Nouvelle interface : une seule formule affich\xe9e \xe0 la fois pour plus de clart\xe9"})]}),n&&!s&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,xc.jsxs)("div",{className:"text-gray-500 text-lg mb-2",children:['\ud83d\udc46 Choisissez une formule dans la cat\xe9gorie "',o[n].name,'"']}),(0,xc.jsxs)("p",{className:"text-gray-400",children:[o[n].formulas.length," formule",o[n].formulas.length>1?"s":""," disponible",o[n].formulas.length>1?"s":""]})]})]})},Dc=e=>{var t,n,i,s,a,o,l,c,u,h;let{fluids:m,pipeMaterials:f,fittings:p}=e;const[g,x]=(0,r.useState)({suction_type:"flooded",hasp:3,flow_rate:50,fluid_type:"water",temperature:20,pipe_diameter:114.3,pipe_material:"pvc",pipe_length:50,suction_fittings:[],npsh_required:3.5}),[b,y]=(0,r.useState)(null),[v,_]=(0,r.useState)(!1),w=(e,t)=>{x((n=>d(d({},n),{},{[e]:t})))},j=(e,t,n)=>{x((i=>d(d({},i),{},{suction_fittings:i.suction_fittings.map(((i,r)=>r===e?d(d({},i),{},{[t]:n}):i))})))};return(0,xc.jsxs)("div",{className:"space-y-8 font-inter",style:Cc,children:[(0,xc.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 rounded-2xl shadow-xl p-8 text-white",children:(0,xc.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h2",{className:"text-3xl font-bold mb-2 tracking-tight",children:"\ud83d\udd37 Calcul NPSHd Professionnel"}),(0,xc.jsx)("p",{className:"text-blue-100 text-lg font-medium",children:"Net Positive Suction Head Available - Analyse de cavitation critique"})]}),(0,xc.jsx)("div",{className:"hidden md:block",children:(0,xc.jsxs)("div",{className:"text-right",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold",children:"NPSHd"}),(0,xc.jsx)("div",{className:"text-sm opacity-90",children:"Conformit\xe9 ISO 17769"})]})})]})}),(0,xc.jsxs)(kc,{title:"Param\xe8tres Principaux",icon:"\u2699\ufe0f",className:"shadow-xl",children:[(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Type d'Aspiration"}),(0,xc.jsxs)(Nc,{value:g.suction_type,onChange:e=>w("suction_type",e.target.value),required:!0,children:[(0,xc.jsx)("option",{value:"flooded",children:"\ud83d\udd35 Aspiration en charge"}),(0,xc.jsx)("option",{value:"suction_lift",children:"\ud83d\udd34 Aspiration en d\xe9pression"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Hauteur d'Aspiration Hasp (m)"}),(0,xc.jsx)(jc,{type:"number",value:g.hasp,onChange:e=>w("hasp",parseFloat(e.target.value)),required:!0,style:{MozAppearance:"textfield",WebkitAppearance:"none"}}),(0,xc.jsx)("style",{jsx:!0,children:'\n                input[type="number"]::-webkit-outer-spin-button,\n                input[type="number"]::-webkit-inner-spin-button {\n                  -webkit-appearance: none;\n                  margin: 0;\n                }\n                input[type="number"] {\n                  -moz-appearance: textfield;\n                }\n              '}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"flooded"===g.suction_type?"Hauteur de fluide au-dessus de la pompe":"Hauteur de d\xe9nivel\xe9 \xe0 aspirer"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"D\xe9bit (m\xb3/h)"}),(0,xc.jsx)(jc,{type:"number",value:g.flow_rate,onChange:e=>w("flow_rate",parseFloat(e.target.value)),required:!0,placeholder:"Ex: 50"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Type de Fluide"}),(0,xc.jsxs)(Nc,{value:g.fluid_type,onChange:e=>w("fluid_type",e.target.value),required:!0,children:[(0,xc.jsx)("option",{value:"",children:"-- Choisir un fluide --"}),m.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Temp\xe9rature (\xb0C)"}),(0,xc.jsx)(jc,{type:"number",value:g.temperature,onChange:e=>w("temperature",parseFloat(e.target.value)),required:!0,placeholder:"Ex: 20"})]})]})}),(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Diam\xe8tre de tuyauterie"}),(0,xc.jsx)(Nc,{value:g.pipe_diameter,onChange:e=>w("pipe_diameter",parseFloat(e.target.value)),required:!0,children:[{value:26.9,label:"DN20 (26.9mm)"},{value:33.7,label:"DN25 (33.7mm)"},{value:42.4,label:"DN32 (42.4mm)"},{value:48.3,label:"DN40 (48.3mm)"},{value:60.3,label:"DN50 (60.3mm)"},{value:76.1,label:"DN65 (76.1mm)"},{value:88.9,label:"DN80 (88.9mm)"},{value:114.3,label:"DN100 (114.3mm)"},{value:139.7,label:"DN125 (139.7mm)"},{value:168.3,label:"DN150 (168.3mm)"},{value:219.1,label:"DN200 (219.1mm)"},{value:273.1,label:"DN250 (273.1mm)"},{value:323.9,label:"DN300 (323.9mm)"},{value:355.6,label:"DN350 (355.6mm)"},{value:406.4,label:"DN400 (406.4mm)"},{value:457.2,label:"DN450 (457.2mm)"},{value:508,label:"DN500 (508mm)"}].map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{children:"Mat\xe9riau de Tuyauterie"}),(0,xc.jsxs)(Nc,{value:g.pipe_material,onChange:e=>w("pipe_material",e.target.value),children:[(0,xc.jsx)("option",{value:"",children:"-- Choisir un mat\xe9riau --"}),f.map((e=>(0,xc.jsxs)("option",{value:e.id,children:[e.name," (\u03b5 = ",e.roughness," mm)"]},e.id)))]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{children:"Longueur Tuyauterie (m)"}),(0,xc.jsx)(jc,{type:"number",value:g.pipe_length,onChange:e=>w("pipe_length",parseFloat(e.target.value)),placeholder:"Ex: 50"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"NPSH Requis (m)"}),(0,xc.jsx)(jc,{type:"number",value:g.npsh_required,onChange:e=>w("npsh_required",parseFloat(e.target.value)),required:!0,placeholder:"Ex: 3.5"}),(0,xc.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-2",children:(0,xc.jsxs)("p",{className:"text-xs text-yellow-800",children:[(0,xc.jsx)("span",{className:"font-semibold",children:"\ud83d\udca1 Info :"})," Valeur fournie par constructeur pompe"]})})]})]}),(0,xc.jsx)("div",{className:"flex justify-center mt-8",children:(0,xc.jsx)("button",{onClick:async()=>{_(!0);try{const e=await Rt.post("".concat(_c,"/calculate-npshd"),g);y(e.data)}catch(n){var e,t;console.error("Erreur calcul NPSHd:",n),alert("Erreur lors du calcul NPSHd: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{_(!1)}},disabled:v,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700  disabled:opacity-50 text-white font-bold py-4 px-12 rounded-xl shadow-lg  transform transition-all duration-200 hover:scale-105 hover:shadow-xl disabled:hover:scale-100 disabled:hover:shadow-lg text-lg tracking-wide min-w-[200px]",children:v?(0,xc.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Calcul en cours..."]}):(0,xc.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xc.jsx)("span",{className:"mr-3",children:"\ud83d\udd37"}),"Calculer NPSHd"]})})})]}),(0,xc.jsxs)(kc,{title:"Raccords d'Aspiration",icon:"\ud83d\udd27",children:[(0,xc.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,xc.jsx)("button",{onClick:()=>{x((e=>d(d({},e),{},{suction_fittings:[...e.suction_fittings,{fitting_type:"elbow_90",quantity:1}]})))},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"+ Ajouter Raccord"})}),(0,xc.jsx)("div",{className:"space-y-2",children:g.suction_fittings.map(((e,t)=>(0,xc.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xc.jsx)("select",{value:e.fitting_type,onChange:e=>j(t,"fitting_type",e.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:p.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,xc.jsx)("input",{type:"number",value:e.quantity,onChange:e=>j(t,"quantity",parseInt(e.target.value)),min:"1",className:"w-20 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,xc.jsx)("button",{onClick:()=>(e=>{x((t=>d(d({},t),{},{suction_fittings:t.suction_fittings.filter(((t,n)=>n!==e))})))})(t),className:"bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700",children:"\u2715"})]},t)))})]}),b&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"R\xe9sultats NPSHd"}),b.warnings&&b.warnings.length>0&&(0,xc.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,xc.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"\u26a0\ufe0f Avertissements"}),(0,xc.jsx)("ul",{className:"text-sm text-yellow-700 space-y-1",children:b.warnings.map(((e,t)=>(0,xc.jsxs)("li",{children:["\u2022 ",e]},t)))})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Param\xe8tres Calcul\xe9s"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pression atmosph\xe9rique:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[(b.atmospheric_pressure/1e3).toFixed(1)," kPa"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Vitesse:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(t=b.velocity)||void 0===t?void 0:t.toFixed(2)," m/s"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Nombre de Reynolds:"}),(0,xc.jsx)("span",{className:"font-medium",children:null===(n=b.reynolds_number)||void 0===n?void 0:n.toFixed(0)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Facteur de friction:"}),(0,xc.jsx)("span",{className:"font-medium",children:null===(i=b.friction_factor)||void 0===i?void 0:i.toFixed(4)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pression vapeur:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[(b.fluid_properties.vapor_pressure/1e3).toFixed(1)," kPa"]})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Pertes de Charge"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pertes lin\xe9aires:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(s=b.linear_head_loss)||void 0===s?void 0:s.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pertes singuli\xe8res:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(a=b.singular_head_loss)||void 0===a?void 0:a.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pertes totales:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(o=b.total_head_loss)||void 0===o?void 0:o.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,xc.jsx)("span",{className:"font-semibold",children:"NPSHd:"}),(0,xc.jsxs)("span",{className:"font-bold text-blue-600",children:[null===(l=b.npshd)||void 0===l?void 0:l.toFixed(2)," m"]})]})]})]})]}),(0,xc.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Analyse de Cavitation"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xc.jsxs)("div",{className:"space-y-3",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Comparaison NPSH"}),(0,xc.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"NPSH Requis (constructeur):"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(c=b.npsh_required)||void 0===c?void 0:c.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"NPSHd Calcul\xe9:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(u=b.npshd)||void 0===u?void 0:u.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,xc.jsx)("span",{className:"font-semibold",children:"Marge de s\xe9curit\xe9:"}),(0,xc.jsxs)("span",{className:"font-bold ".concat(b.npsh_margin>=0?"text-green-600":"text-red-600"),children:[null===(h=b.npsh_margin)||void 0===h?void 0:h.toFixed(2)," m"]})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-3",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Statut de Cavitation"}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium ".concat(b.cavitation_risk?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:b.cavitation_risk?"\ud83d\udea8 RISQUE DE CAVITATION":"\u2705 AUCUN RISQUE"}),(0,xc.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:b.cavitation_risk?"Des corrections sont n\xe9cessaires":"Installation s\xe9curis\xe9e"})]})]})]}),b.recommendations&&b.recommendations.length>0&&(0,xc.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,xc.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"\ud83d\udca1 Recommandations de Correction"}),(0,xc.jsx)("ul",{className:"text-sm text-blue-700 space-y-1",children:b.recommendations.map(((e,t)=>(0,xc.jsx)("li",{className:"leading-relaxed",children:e},t)))})]})]}),(0,xc.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Sch\xe9ma d'Installation Dynamique"}),(0,xc.jsx)("div",{className:"flex justify-center",children:(0,xc.jsxs)("svg",{width:"600",height:"400",viewBox:"0 0 600 400",className:"border border-gray-200 rounded-lg",children:[(0,xc.jsx)("rect",{width:"600",height:"400",fill:"#f8fafc"}),(e=>{const t="flooded"===g.suction_type,n=t?150:250,i=t?100:80,r=n+20,s=Math.min(Math.max(15*g.hasp,30),120),a=t?r+s:r-s;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)("rect",{x:"50",y:n,width:"180",height:i,fill:"#e5e7eb",stroke:"#6b7280",strokeWidth:"2"}),(0,xc.jsx)("rect",{x:"55",y:r,width:"170",height:i-25,fill:"#3b82f6",opacity:"0.6"}),(0,xc.jsx)("text",{x:"140",y:n-10,textAnchor:"middle",className:"text-sm font-medium",fill:"#1f2937",children:"R\xe9servoir"}),(0,xc.jsx)("line",{x1:"50",y1:r,x2:"230",y2:r,stroke:"#1d4ed8",strokeWidth:"2",strokeDasharray:"5,5"}),(0,xc.jsx)("text",{x:"240",y:r+5,className:"text-xs font-medium",fill:"#1d4ed8",children:"Niveau d'eau"}),(0,xc.jsx)("line",{x1:"230",y1:r,x2:"350",y2:a+25,stroke:"#4b5563",strokeWidth:"6"}),(0,xc.jsx)("circle",{cx:"230",cy:r,r:"3",fill:"#4b5563"}),(0,xc.jsx)("rect",{x:"350",y:a,width:"70",height:"50",fill:"#10b981",stroke:"#059669",strokeWidth:"2",rx:"5"}),(0,xc.jsx)("text",{x:"385",y:a+30,textAnchor:"middle",className:"text-xs font-bold",fill:"white",children:"POMPE"}),(0,xc.jsx)("line",{x1:"420",y1:a+25,x2:"500",y2:a+25,stroke:"#4b5563",strokeWidth:"6"}),(0,xc.jsx)("line",{x1:"500",y1:a+25,x2:"500",y2:"120",stroke:"#4b5563",strokeWidth:"6"}),(0,xc.jsx)("rect",{x:"495",y:"115",width:"10",height:"10",fill:"#10b981"}),(0,xc.jsx)("text",{x:"510",y:"125",className:"text-xs font-medium",fill:"#10b981",children:"Sortie"}),(0,xc.jsxs)("defs",{children:[(0,xc.jsx)("marker",{id:"arrowRed",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:(0,xc.jsx)("polygon",{points:"0 0, 8 3, 0 6",fill:"#ef4444"})}),(0,xc.jsx)("marker",{id:"arrowGreen",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:(0,xc.jsx)("polygon",{points:"0 0, 8 3, 0 6",fill:"#059669"})})]}),(0,xc.jsx)("line",{x1:"30",y1:r,x2:"30",y2:a+25,stroke:"#ef4444",strokeWidth:"1",markerEnd:"url(#arrowRed)"}),(0,xc.jsx)("line",{x1:"30",y1:a+25,x2:"30",y2:r,stroke:"#ef4444",strokeWidth:"1",markerEnd:"url(#arrowRed)"}),(0,xc.jsxs)("text",{x:"15",y:(r+a+25)/2,textAnchor:"middle",className:"text-xs font-bold",fill:"#ef4444",children:[g.hasp.toFixed(1),"m"]}),(0,xc.jsx)("text",{x:"15",y:(r+a+25)/2+15,textAnchor:"middle",className:"text-xs",fill:"#ef4444",children:t?"(en charge)":"(d\xe9pression)"}),(0,xc.jsx)("line",{x1:"280",y1:r+10,x2:"320",y2:a+15,stroke:"#059669",strokeWidth:"3",markerEnd:"url(#arrowGreen)"}),(0,xc.jsxs)("text",{x:"300",y:(r+a)/2,textAnchor:"middle",className:"text-xs font-bold",fill:"#059669",children:[g.flow_rate," m\xb3/h"]}),(0,xc.jsx)("rect",{x:"450",y:"30",width:"140",height:"100",fill:"white",stroke:"#d1d5db",strokeWidth:"1",rx:"5"}),(0,xc.jsx)("text",{x:"460",y:"45",className:"text-xs font-bold",fill:"#1f2937",children:"Param\xe8tres:"}),(0,xc.jsxs)("text",{x:"460",y:"60",className:"text-xs",fill:"#4b5563",children:["\u2300 ",g.pipe_diameter,"mm"]}),(0,xc.jsxs)("text",{x:"460",y:"75",className:"text-xs",fill:"#4b5563",children:["L: ",g.pipe_length,"m"]}),(0,xc.jsxs)("text",{x:"460",y:"90",className:"text-xs",fill:"#4b5563",children:["T: ",g.temperature,"\xb0C"]}),(0,xc.jsxs)("text",{x:"460",y:"105",className:"text-xs",fill:"#4b5563",children:["NPSH req: ",g.npsh_required,"m"]}),b&&(0,xc.jsxs)("text",{x:"460",y:"120",className:"text-xs font-bold",fill:"#10b981",children:["V: ",null===(e=b.velocity)||void 0===e?void 0:e.toFixed(2),"m/s"]}),b&&(0,xc.jsx)("circle",{cx:"570",cy:"50",r:"8",fill:b.cavitation_risk?"#ef4444":"#10b981"}),b&&(0,xc.jsx)("text",{x:"570",y:"55",textAnchor:"middle",className:"text-xs font-bold",fill:"white",children:b.cavitation_risk?"!":"\u2713"})]})})()]})}),(0,xc.jsxs)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:[(0,xc.jsx)("p",{className:"font-medium",children:"Sch\xe9ma dynamique - Position de la pompe ajust\xe9e selon le type d'aspiration et la hauteur"}),(0,xc.jsx)("p",{className:"text-xs mt-1",children:"flooded"===g.suction_type?'\ud83d\udd35 Configuration "en charge" : Pompe sous le niveau d\'eau':'\ud83d\udd34 Configuration "d\xe9pression" : Pompe au-dessus du niveau d\'eau'})]})]})]})]})},Tc=e=>{var t,n,i,s,a,o,l,c;let{fluids:u,pipeMaterials:h,fittings:m}=e;const f=[{value:26.9,label:"DN20 (26.9mm)"},{value:33.7,label:"DN25 (33.7mm)"},{value:42.4,label:"DN32 (42.4mm)"},{value:48.3,label:"DN40 (48.3mm)"},{value:60.3,label:"DN50 (60.3mm)"},{value:76.1,label:"DN65 (76.1mm)"},{value:88.9,label:"DN80 (88.9mm)"},{value:114.3,label:"DN100 (114.3mm)"},{value:139.7,label:"DN125 (139.7mm)"},{value:168.3,label:"DN150 (168.3mm)"},{value:219.1,label:"DN200 (219.1mm)"},{value:273.1,label:"DN250 (273.1mm)"},{value:323.9,label:"DN300 (323.9mm)"},{value:355.6,label:"DN350 (355.6mm)"},{value:406.4,label:"DN400 (406.4mm)"},{value:457.2,label:"DN450 (457.2mm)"},{value:508,label:"DN500 (508mm)"}],[p,g]=(0,r.useState)({installation_type:"surface",suction_type:"flooded",hasp:3,discharge_height:25,useful_pressure:0,suction_pipe_diameter:114.3,discharge_pipe_diameter:88.9,suction_pipe_length:10,discharge_pipe_length:50,suction_pipe_material:"pvc",discharge_pipe_material:"pvc",suction_fittings:[],discharge_fittings:[],fluid_type:"water",temperature:20,flow_rate:50}),[x,b]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),_=(e,t)=>{g((n=>d(d({},n),{},{[e]:t})))},w=e=>{g((t=>d(d({},t),{},{["".concat(e,"_fittings")]:[...t["".concat(e,"_fittings")],{fitting_type:"elbow_90",quantity:1}]})))},j=(e,t)=>{g((n=>d(d({},n),{},{["".concat(e,"_fittings")]:n["".concat(e,"_fittings")].filter(((e,n)=>n!==t))})))},N=(e,t,n,i)=>{g((r=>d(d({},r),{},{["".concat(e,"_fittings")]:r["".concat(e,"_fittings")].map(((e,r)=>r===t?d(d({},e),{},{[n]:i}):e))})))};return(0,xc.jsxs)("div",{className:"space-y-8 font-inter",style:Cc,children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 via-green-700 to-teal-700 rounded-2xl shadow-xl p-8 text-white",children:[(0,xc.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h2",{className:"text-3xl font-bold mb-2 tracking-tight",children:"\ud83d\udfe2 Calcul HMT Professionnel"}),(0,xc.jsx)("p",{className:"text-emerald-100 text-lg font-medium",children:"Hauteur Manom\xe9trique Totale - Dimensionnement hydraulique expert"})]}),(0,xc.jsx)("div",{className:"hidden md:block",children:(0,xc.jsxs)("div",{className:"text-right",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold",children:"HMT"}),(0,xc.jsx)("div",{className:"text-sm opacity-90",children:"Conformit\xe9 API 610"})]})})]}),(0,xc.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"API"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"610"})]}),(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"ISO"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"5199"})]}),(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"HMT"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"Expert"})]}),(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"Analysis"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"Pro"})]})]})]}),(0,xc.jsx)(kc,{title:"Configuration Installation",icon:"\u2699\ufe0f",className:"shadow-xl",children:(0,xc.jsxs)(Sc,{cols:2,children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Type d'Installation"}),(0,xc.jsxs)(Nc,{value:p.installation_type,onChange:e=>_("installation_type",e.target.value),required:!0,children:[(0,xc.jsx)("option",{value:"surface",children:"\ud83c\udfe0 Installation en surface"}),(0,xc.jsx)("option",{value:"submersible",children:"\ud83c\udf0a Installation submersible"})]}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-2 italic",children:"surface"===p.installation_type?"\u2713 Pompe en surface - Configuration standard":"\u26a0\ufe0f Pompe immerg\xe9e - Configuration sp\xe9cialis\xe9e"})]}),"surface"===p.installation_type&&(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Type d'Aspiration"}),(0,xc.jsxs)(Nc,{value:p.suction_type,onChange:e=>_("suction_type",e.target.value),required:!0,children:[(0,xc.jsx)("option",{value:"flooded",children:"\ud83d\udd35 Aspiration en charge"}),(0,xc.jsx)("option",{value:"suction_lift",children:"\ud83d\udd34 Aspiration en d\xe9pression"})]}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-2 italic",children:"flooded"===p.suction_type?"\u2713 Pompe sous niveau - NPSHd optimal":"\u26a0\ufe0f Pompe au-dessus - V\xe9rification NPSHd critique"})]})]})}),(0,xc.jsx)(kc,{title:"Param\xe8tres Hydrauliques",icon:"\ud83d\udca7",className:"shadow-xl",children:(0,xc.jsxs)(Sc,{cols:3,children:["surface"===p.installation_type&&(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Hauteur d'Aspiration (m)"}),(0,xc.jsx)(jc,{type:"number",value:p.hasp,onChange:e=>_("hasp",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 3.0"}),(0,xc.jsx)("div",{className:"text-xs text-blue-600 mt-1 font-medium",children:"flooded"===p.suction_type?"Hauteur charge fluide":"Hauteur aspiration"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Hauteur de Refoulement (m)"}),(0,xc.jsx)(jc,{type:"number",value:p.discharge_height,onChange:e=>_("discharge_height",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 25"}),(0,xc.jsx)("div",{className:"text-xs text-green-600 mt-1 font-medium",children:"Hauteur g\xe9om\xe9trique totale"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"D\xe9bit (m\xb3/h)"}),(0,xc.jsx)(jc,{type:"number",value:p.flow_rate,onChange:e=>_("flow_rate",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 50"}),(0,xc.jsx)("div",{className:"text-xs text-blue-600 mt-1 font-medium",children:"D\xe9bit nominal pompe"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Type de Fluide"}),(0,xc.jsx)(Nc,{value:p.fluid_type,onChange:e=>_("fluid_type",e.target.value),required:!0,children:u.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Temp\xe9rature (\xb0C)"}),(0,xc.jsx)(jc,{type:"number",value:p.temperature,onChange:e=>_("temperature",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 20"}),(0,xc.jsx)("div",{className:"text-xs text-orange-600 mt-1 font-medium",children:"Influence propri\xe9t\xe9s fluide"})]})]})}),(0,xc.jsx)(kc,{title:"Tuyauteries",icon:"\ud83d\udd27",children:(0,xc.jsxs)("div",{className:"space-y-3",children:["surface"===p.installation_type&&(0,xc.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,xc.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"Aspiration"}),(0,xc.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-blue-700 mb-1",children:"Diam\xe8tre"}),(0,xc.jsx)("select",{value:p.suction_pipe_diameter,onChange:e=>_("suction_pipe_diameter",parseFloat(e.target.value)),className:"w-full p-1 border border-blue-300 rounded text-sm",children:f.map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-blue-700 mb-1",children:"Longueur (m)"}),(0,xc.jsx)("input",{type:"number",value:p.suction_pipe_length,onChange:e=>_("suction_pipe_length",parseFloat(e.target.value)),className:"w-full p-1 border border-blue-300 rounded text-sm"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-blue-700 mb-1",children:"Mat\xe9riau"}),(0,xc.jsx)("select",{value:p.suction_pipe_material,onChange:e=>_("suction_pipe_material",e.target.value),className:"w-full p-1 border border-blue-300 rounded text-sm",children:h.map((e=>(0,xc.jsxs)("option",{value:e.id,children:[e.name," (\u03b5 = ",e.roughness," mm)"]},e.id)))})]})]})]}),(0,xc.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,xc.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"Refoulement"}),(0,xc.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-green-700 mb-1",children:"Diam\xe8tre"}),(0,xc.jsx)("select",{value:p.discharge_pipe_diameter,onChange:e=>_("discharge_pipe_diameter",parseFloat(e.target.value)),className:"w-full p-1 border border-green-300 rounded text-sm",children:f.map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-green-700 mb-1",children:"Longueur (m)"}),(0,xc.jsx)("input",{type:"number",value:p.discharge_pipe_length,onChange:e=>_("discharge_pipe_length",parseFloat(e.target.value)),className:"w-full p-1 border border-green-300 rounded text-sm"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-green-700 mb-1",children:"Mat\xe9riau"}),(0,xc.jsx)("select",{value:p.discharge_pipe_material,onChange:e=>_("discharge_pipe_material",e.target.value),className:"w-full p-1 border border-green-300 rounded text-sm",children:h.map((e=>(0,xc.jsxs)("option",{value:e.id,children:[e.name," (\u03b5 = ",e.roughness," mm)"]},e.id)))})]})]})]})]})}),(0,xc.jsx)(kc,{title:"Raccords",icon:"\ud83d\udd27",children:(0,xc.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:["surface"===p.installation_type&&(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700",children:"Raccords Aspiration"}),(0,xc.jsx)("button",{onClick:()=>w("suction"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"+ Ajouter"})]}),(0,xc.jsx)("div",{className:"space-y-2",children:p.suction_fittings.map(((e,t)=>(0,xc.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xc.jsx)("select",{value:e.fitting_type,onChange:e=>N("suction",t,"fitting_type",e.target.value),className:"flex-1 p-1 border border-gray-300 rounded text-sm",children:m.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,xc.jsx)("input",{type:"number",value:e.quantity,onChange:e=>N("suction",t,"quantity",parseInt(e.target.value)),min:"1",className:"w-16 p-1 border border-gray-300 rounded text-sm"}),(0,xc.jsx)("button",{onClick:()=>j("suction",t),className:"bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700",children:"\u2715"})]},t)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700",children:"Raccords Refoulement"}),(0,xc.jsx)("button",{onClick:()=>w("discharge"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"+ Ajouter"})]}),(0,xc.jsx)("div",{className:"space-y-2",children:p.discharge_fittings.map(((e,t)=>(0,xc.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xc.jsx)("select",{value:e.fitting_type,onChange:e=>N("discharge",t,"fitting_type",e.target.value),className:"flex-1 p-1 border border-gray-300 rounded text-sm",children:m.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,xc.jsx)("input",{type:"number",value:e.quantity,onChange:e=>N("discharge",t,"quantity",parseInt(e.target.value)),min:"1",className:"w-16 p-1 border border-gray-300 rounded text-sm"}),(0,xc.jsx)("button",{onClick:()=>j("discharge",t),className:"bg-red-600 text-white px-2 py-1 rounded text-sm hover:bg-red-700",children:"\u2715"})]},t)))})]})]})}),(0,xc.jsx)(kc,{title:"Calcul",icon:"\ud83d\ude80",className:"shadow-xl",children:(0,xc.jsx)("div",{className:"mt-6",children:(0,xc.jsx)("button",{onClick:async()=>{v(!0);try{const e=await Rt.post("".concat(_c,"/calculate-hmt"),p);b(e.data)}catch(n){var e,t;console.error("Erreur calcul HMT:",n),alert("Erreur lors du calcul HMT: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{v(!1)}},disabled:y,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 disabled:opacity-50 font-medium",children:y?"Calcul en cours...":"Calculer HMT"})})}),x&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"R\xe9sultats HMT"}),x.warnings&&x.warnings.length>0&&(0,xc.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,xc.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"\u26a0\ufe0f Avertissements"}),(0,xc.jsx)("ul",{className:"text-sm text-yellow-700 space-y-1",children:x.warnings.map(((e,t)=>(0,xc.jsxs)("li",{children:["\u2022 ",e]},t)))})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Vitesses"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Aspiration:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(t=x.suction_velocity)||void 0===t?void 0:t.toFixed(2)," m/s"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Refoulement:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(n=x.discharge_velocity)||void 0===n?void 0:n.toFixed(2)," m/s"]})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Pertes de Charge"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Aspiration:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(i=x.suction_head_loss)||void 0===i?void 0:i.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Refoulement:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(s=x.discharge_head_loss)||void 0===s?void 0:s.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Total:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(a=x.total_head_loss)||void 0===a?void 0:a.toFixed(2)," m"]})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Hauteurs"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Hauteur statique:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(o=x.static_head)||void 0===o?void 0:o.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Pression utile:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(l=x.useful_pressure_head)||void 0===l?void 0:l.toFixed(2)," m"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,xc.jsx)("span",{className:"font-semibold",children:"HMT:"}),(0,xc.jsxs)("span",{className:"font-bold text-green-600",children:[null===(c=x.hmt)||void 0===c?void 0:c.toFixed(2)," m"]})]})]})]})]})]})]})},Rc=e=>{var t,n,i,s,a,o,l,c,u,h,m,f,p,g,x,b,y,v,_,w,j,N,k,S,C,P,E,M,A,D,T,R,O,F,L,I,z,q,H,V,W,B;let{fluids:U,pipeMaterials:$,fittings:G}=e;const Q=(e,t)=>{const n={water:{density_20c:1e3,viscosity_20c:.001,vapor_pressure_20c:2340,temp_coeffs:{density:-.2,viscosity:-5e-5,vapor_pressure:100}},oil:{density_20c:850,viscosity_20c:.05,vapor_pressure_20c:100,temp_coeffs:{density:-.7,viscosity:-.002,vapor_pressure:20}},acid:{density_20c:1200,viscosity_20c:.002,vapor_pressure_20c:3e3,temp_coeffs:{density:-.3,viscosity:-1e-4,vapor_pressure:150}},glycol:{density_20c:1113,viscosity_20c:.0161,vapor_pressure_20c:10,temp_coeffs:{density:-.8,viscosity:-8e-4,vapor_pressure:5}},palm_oil:{density_20c:915,viscosity_20c:.045,vapor_pressure_20c:.001,temp_coeffs:{density:-.65,viscosity:-.0018,vapor_pressure:1e-4}},gasoline:{density_20c:740,viscosity_20c:55e-5,vapor_pressure_20c:13e3,temp_coeffs:{density:-.9,viscosity:-15e-6,vapor_pressure:850}},diesel:{density_20c:840,viscosity_20c:.0035,vapor_pressure_20c:300,temp_coeffs:{density:-.75,viscosity:-12e-5,vapor_pressure:25}},hydraulic_oil:{density_20c:875,viscosity_20c:.046,vapor_pressure_20c:.1,temp_coeffs:{density:-.65,viscosity:-.0019,vapor_pressure:.02}},ethanol:{density_20c:810,viscosity_20c:.0012,vapor_pressure_20c:5870,temp_coeffs:{density:-1.05,viscosity:-4e-5,vapor_pressure:420}},seawater:{density_20c:1025,viscosity_20c:.00107,vapor_pressure_20c:2280,temp_coeffs:{density:-.25,viscosity:-52e-6,vapor_pressure:95}},methanol:{density_20c:792,viscosity_20c:59e-5,vapor_pressure_20c:12800,temp_coeffs:{density:-1.2,viscosity:-25e-6,vapor_pressure:780}},glycerol:{density_20c:1260,viscosity_20c:1.48,vapor_pressure_20c:.001,temp_coeffs:{density:-.65,viscosity:-.058,vapor_pressure:2e-4}},milk:{density_20c:1030,viscosity_20c:.0015,vapor_pressure_20c:2200,temp_coeffs:{density:-.3,viscosity:-6e-5,vapor_pressure:95}},honey:{density_20c:1400,viscosity_20c:8.5,vapor_pressure_20c:.1,temp_coeffs:{density:-.8,viscosity:-.25,vapor_pressure:.02}},wine:{density_20c:990,viscosity_20c:.0012,vapor_pressure_20c:2800,temp_coeffs:{density:-.9,viscosity:-4e-5,vapor_pressure:120}},bleach:{density_20c:1050,viscosity_20c:.0011,vapor_pressure_20c:2100,temp_coeffs:{density:-.25,viscosity:-45e-6,vapor_pressure:90}},yogurt:{density_20c:1050,viscosity_20c:.15,vapor_pressure_20c:2150,temp_coeffs:{density:-.35,viscosity:-.008,vapor_pressure:92}},tomato_sauce:{density_20c:1100,viscosity_20c:2.5,vapor_pressure_20c:1800,temp_coeffs:{density:-.4,viscosity:-.12,vapor_pressure:75}},soap_solution:{density_20c:1010,viscosity_20c:.0013,vapor_pressure_20c:2250,temp_coeffs:{density:-.28,viscosity:-5e-5,vapor_pressure:95}},fruit_juice:{density_20c:1045,viscosity_20c:.0018,vapor_pressure_20c:2100,temp_coeffs:{density:-.35,viscosity:-7e-5,vapor_pressure:88}}}[e];if(!n)return{density:1e3,viscosity:.001,vapor_pressure:2340};const i=t-20;return{density:Math.max(n.density_20c+n.temp_coeffs.density*i,500),viscosity:Math.max(n.viscosity_20c+n.temp_coeffs.viscosity*i,1e-4),vapor_pressure:Math.max(n.vapor_pressure_20c+n.temp_coeffs.vapor_pressure*i,1)}},[Y,X]=(0,r.useState)({engineer_name:"",engineer_firstname:"",company_name:"",engineer_phone:"",engineer_email:"",flow_rate:0,fluid_type:"water",temperature:20,suction_type:"flooded",suction_pipe_diameter:0,discharge_pipe_diameter:0,suction_height:0,discharge_height:0,suction_length:0,discharge_length:0,total_length:0,useful_pressure:0,suction_material:"pvc",discharge_material:"pvc",suction_elbow_90:1,suction_elbow_45:0,suction_elbow_30:0,suction_tee_flow:0,suction_tee_branch:0,suction_reducer_gradual:0,suction_reducer_sudden:0,suction_enlarger_gradual:0,suction_enlarger_sudden:0,suction_gate_valve:0,suction_globe_valve:0,suction_ball_valve:0,suction_butterfly_valve:0,suction_check_valve:0,suction_strainer:1,suction_foot_valve:0,discharge_elbow_90:2,discharge_elbow_45:0,discharge_elbow_30:0,discharge_tee_flow:0,discharge_tee_branch:0,discharge_reducer_gradual:0,discharge_reducer_sudden:0,discharge_enlarger_gradual:0,discharge_enlarger_sudden:0,discharge_gate_valve:1,discharge_globe_valve:0,discharge_ball_valve:0,discharge_butterfly_valve:0,discharge_check_valve:1,discharge_strainer:0,discharge_flow_meter:0,discharge_pressure_gauge:1,pump_efficiency:75,motor_efficiency:85,voltage:400,power_factor:.8,starting_method:"star_delta",cable_length:0,cable_material:"copper",cable_section:null,voltage_drop:0,npsh_required:0,installation_type:"surface",pump_type:"centrifugal",operating_hours:4e3,electricity_cost:96,altitude:0,ambient_temperature:25,humidity:60}),K=[{dn:"DN20",mm:26.9,label:"DN20 (26.9mm)"},{dn:"DN25",mm:33.7,label:"DN25 (33.7mm)"},{dn:"DN32",mm:42.4,label:"DN32 (42.4mm)"},{dn:"DN40",mm:48.3,label:"DN40 (48.3mm)"},{dn:"DN50",mm:60.3,label:"DN50 (60.3mm)"},{dn:"DN65",mm:76.1,label:"DN65 (76.1mm)"},{dn:"DN80",mm:88.9,label:"DN80 (88.9mm)"},{dn:"DN100",mm:114.3,label:"DN100 (114.3mm)"},{dn:"DN125",mm:139.7,label:"DN125 (139.7mm)"},{dn:"DN150",mm:168.3,label:"DN150 (168.3mm)"},{dn:"DN200",mm:219.1,label:"DN200 (219.1mm)"},{dn:"DN250",mm:273.1,label:"DN250 (273.1mm)"},{dn:"DN300",mm:323.9,label:"DN300 (323.9mm)"},{dn:"DN350",mm:355.6,label:"DN350 (355.6mm)"},{dn:"DN400",mm:406.4,label:"DN400 (406.4mm)"},{dn:"DN450",mm:457.2,label:"DN450 (457.2mm)"},{dn:"DN500",mm:508,label:"DN500 (508mm)"}],[J,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(!1),[ne,ie]=(0,r.useState)(!0),[re,se]=(0,r.useState)("all"),ae=(0,r.useRef)(null),oe=(0,r.useRef)(null),le=(e,t)=>{let n=t;"string"===typeof t&&""===t?n="":"string"!==typeof t||isNaN(parseFloat(t))?"number"===typeof t&&(n=t):n=parseFloat(t);const i=d(d({},Y),{},{[e]:n});X(i),ne&&ce(i)},ce=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;if(ne||e!==Y){te(!0);try{const t=d(d({},e),{},{suction_height:""===e.suction_height?0:e.suction_height,discharge_height:""===e.discharge_height?0:e.discharge_height,suction_length:""===e.suction_length?0:e.suction_length,discharge_length:""===e.discharge_length?0:e.discharge_length,npsh_required:""===e.npsh_required?0:e.npsh_required}),n=await Rt.post("".concat(_c,"/expert-analysis"),d(d({},t),{},{suction_fittings:[{fitting_type:"elbow_90",quantity:e.suction_elbow_90},{fitting_type:"elbow_45",quantity:e.suction_elbow_45},{fitting_type:"tee",quantity:e.suction_tee},{fitting_type:"reducer",quantity:e.suction_reducer},{fitting_type:"valve",quantity:e.suction_valve},{fitting_type:"check_valve",quantity:e.suction_check_valve},{fitting_type:"strainer",quantity:e.suction_strainer}].filter((e=>e.quantity>0)),discharge_fittings:[{fitting_type:"elbow_90",quantity:e.discharge_elbow_90},{fitting_type:"elbow_45",quantity:e.discharge_elbow_45},{fitting_type:"tee",quantity:e.discharge_tee},{fitting_type:"reducer",quantity:e.discharge_reducer},{fitting_type:"valve",quantity:e.discharge_valve},{fitting_type:"check_valve",quantity:e.discharge_check_valve}].filter((e=>e.quantity>0)),elbow_90_qty:e.suction_elbow_90+e.discharge_elbow_90,elbow_45_qty:e.suction_elbow_45+e.discharge_elbow_45,valve_qty:e.suction_valve+e.discharge_valve,check_valve_qty:e.suction_check_valve+e.discharge_check_valve}));Z(n.data),he(n.data)}catch(t){console.error("Erreur analyse expert:",t),await de(e)}finally{te(!1)}}},de=async e=>{try{const t=d(d({},e),{},{suction_height:""===e.suction_height?0:e.suction_height,discharge_height:""===e.discharge_height?0:e.discharge_height,suction_length:""===e.suction_length?0:e.suction_length,discharge_length:""===e.discharge_length?0:e.discharge_length,npsh_required:""===e.npsh_required?0:e.npsh_required}),[n,i,r]=await Promise.all([Rt.post("".concat(_c,"/calculate-npshd"),{suction_type:t.suction_height>0?"flooded":"suction_lift",hasp:Math.abs(t.suction_height),flow_rate:t.flow_rate,fluid_type:t.fluid_type,temperature:t.temperature,pipe_diameter:t.suction_pipe_diameter,pipe_material:t.suction_material,pipe_length:t.suction_length,suction_fittings:[{fitting_type:"elbow_90",quantity:t.suction_elbow_90},{fitting_type:"check_valve",quantity:t.suction_check_valve}].filter((e=>e.quantity>0)),npsh_required:t.npsh_required}),Rt.post("".concat(_c,"/calculate-hmt"),{installation_type:t.installation_type,suction_type:t.suction_height>0?"flooded":"suction_lift",hasp:Math.abs(t.suction_height),discharge_height:t.discharge_height,useful_pressure:t.useful_pressure,suction_pipe_diameter:t.suction_pipe_diameter,discharge_pipe_diameter:t.discharge_pipe_diameter,suction_pipe_length:t.suction_length,discharge_pipe_length:t.discharge_length,suction_pipe_material:t.suction_material,discharge_pipe_material:t.discharge_material,suction_fittings:[{fitting_type:"elbow_90",quantity:t.suction_elbow_90},{fitting_type:"check_valve",quantity:t.suction_check_valve}].filter((e=>e.quantity>0)),discharge_fittings:[{fitting_type:"elbow_90",quantity:t.discharge_elbow_90},{fitting_type:"valve",quantity:t.discharge_valve}].filter((e=>e.quantity>0)),fluid_type:t.fluid_type,temperature:t.temperature,flow_rate:t.flow_rate}),Rt.post("".concat(_c,"/calculate-performance"),{flow_rate:t.flow_rate,hmt:30,pipe_diameter:t.suction_pipe_diameter,fluid_type:t.fluid_type,pipe_material:t.suction_material,pump_efficiency:t.pump_efficiency,motor_efficiency:t.motor_efficiency,starting_method:t.starting_method,power_factor:t.power_factor,cable_length:t.cable_length,cable_material:t.cable_material,voltage:t.voltage})]),s=t.flow_rate*i.data.hmt/(367*t.pump_efficiency)*100,a=s/(t.motor_efficiency/100),o=t.pump_efficiency/100*(t.motor_efficiency/100)*100,l=a*t.operating_hours*t.electricity_cost/1e3,c={npshd_analysis:{npshd:n.data.npshd,npsh_required:n.data.npsh_required,npsh_margin:n.data.npsh_margin,cavitation_risk:n.data.cavitation_risk,velocity:n.data.velocity,reynolds_number:n.data.reynolds_number,total_head_loss:n.data.total_head_loss,warnings:n.data.warnings,recommendations:n.data.recommendations},hmt_analysis:{hmt:i.data.hmt,static_head:i.data.static_head,total_head_loss:i.data.total_head_loss,suction_velocity:i.data.suction_velocity,discharge_velocity:i.data.discharge_velocity,useful_pressure_head:i.data.useful_pressure_head,warnings:i.data.warnings},performance_analysis:{overall_efficiency:o,pump_efficiency:e.pump_efficiency,motor_efficiency:e.motor_efficiency,hydraulic_power:s,electrical_power:a,nominal_current:r.data.nominal_current,starting_current:r.data.starting_current,power_calculations:r.data.power_calculations,warnings:r.data.warnings,alerts:r.data.alerts},electrical_analysis:{voltage:e.voltage,power_factor:e.power_factor,starting_method:e.starting_method,cable_length:e.cable_length,cable_section:r.data.recommended_cable_section,annual_energy_cost:l,daily_energy_cost:l/365,energy_consumption_per_m3:a/e.flow_rate},overall_efficiency:o,total_head_loss:(n.data.total_head_loss||0)+(i.data.total_head_loss||0),system_stability:!n.data.cavitation_risk&&o>60,energy_consumption:a/e.flow_rate,expert_recommendations:ue(e,n.data,i.data,r.data),optimization_potential:{energy_savings:Math.max(0,80-o),npsh_margin:n.data.npsh_margin,velocity_optimization:Math.max(0,n.data.velocity-2),head_loss_reduction:Math.max(0,.3*(n.data.total_head_loss+i.data.total_head_loss))},performance_curves:r.data.performance_curves||{},system_curves:{flow_points:Array.from({length:20},((e,t)=>5*t)),system_curve:Array.from({length:20},((e,t)=>(5*t)**2*.01)),operating_point:{flow:e.flow_rate,head:i.data.hmt,efficiency:o,power:a}}};Z(c),he(c)}catch(t){console.error("Erreur calculs fallback:",t)}},ue=(e,t,n,i)=>{const r=[];t.cavitation_risk&&r.push({type:"critical",priority:1,title:"\ud83d\udea8 CAVITATION CRITIQUE",description:"NPSHd (".concat(t.npshd.toFixed(2),"m) \u2264 NPSH requis (").concat(e.npsh_required.toFixed(2),"m)"),impact:"DESTRUCTION DE LA POMPE - Arr\xeat imm\xe9diat requis",solutions:["R\xe9duire hauteur d'aspiration de ".concat(Math.abs(e.suction_height).toFixed(1),"m \xe0 ").concat(Math.max(0,Math.abs(e.suction_height)-Math.abs(t.npsh_margin)-.5).toFixed(1),"m"),"Augmenter diam\xe8tre aspiration de ".concat(e.suction_pipe_diameter,"mm \xe0 ").concat(Math.ceil(1.3*e.suction_pipe_diameter),"mm"),"R\xe9duire longueur aspiration de ".concat(e.suction_length,"m \xe0 ").concat(Math.max(5,.7*e.suction_length).toFixed(1),"m"),"Supprimer raccords non essentiels sur aspiration","Installer pompe en charge si possible"],urgency:"IMM\xc9DIATE",cost_impact:"\xc9LEV\xc9"});const s=e.pump_efficiency/100*(e.motor_efficiency/100)*100;if(s<65){const t=.01*(75-s)*e.operating_hours*e.electricity_cost;r.push({type:"energy",priority:2,title:"\u26a1 EFFICACIT\xc9 \xc9NERG\xc9TIQUE FAIBLE",description:"Rendement global ".concat(s.toFixed(1),"% - Potentiel d'\xe9conomie de ").concat(t.toFixed(0),"\u20ac/an"),impact:"Surconsommation: ".concat((10*t).toFixed(0),"\u20ac sur 10 ans"),solutions:["Pompe haute efficacit\xe9 (gain 5-10%)","Moteur haut rendement Premium (gain 2-5%)","Variateur de vitesse (gain 10-30%)","Optimisation point de fonctionnement","Maintenance pr\xe9ventive r\xe9guli\xe8re"],urgency:"MOYENNE",cost_impact:"RENTABLE"})}t.velocity>3&&r.push({type:"hydraulic",priority:3,title:"\ud83c\udf0a VITESSE EXCESSIVE",description:"Vitesse ".concat(t.velocity.toFixed(2),"m/s > 3m/s - Risque d'\xe9rosion et cavitation"),impact:"Usure pr\xe9matur\xe9e, bruit, vibrations, perte de performance",solutions:["Diam\xe8tre aspiration: ".concat(e.suction_pipe_diameter,"mm \u2192 ").concat(Math.ceil(e.suction_pipe_diameter*Math.sqrt(t.velocity/2.5)),"mm"),"Diam\xe8tre refoulement: ".concat(e.discharge_pipe_diameter,"mm \u2192 ").concat(Math.ceil(e.discharge_pipe_diameter*Math.sqrt(t.velocity/3)),"mm"),"Mat\xe9riaux anti-\xe9rosion (inox, fonte)","Supports anti-vibratoires","R\xe9duction d\xe9bit si possible"],urgency:"MOYENNE",cost_impact:"MOD\xc9R\xc9"}),i.starting_current>150&&r.push({type:"electrical",priority:4,title:"\ud83d\udd0c COURANT DE D\xc9MARRAGE \xc9LEV\xc9",description:"Courant d\xe9marrage ".concat(i.starting_current.toFixed(1),"A - Impact r\xe9seau"),impact:"Chutes de tension, perturbations r\xe9seau, contraintes transformateur",solutions:["D\xe9marreur progressif (r\xe9duction 50-70%)","Variateur de vitesse (r\xe9duction 80%)","D\xe9marrage \xe9toile-triangle (r\xe9duction 33%)","Renforcement alimentation \xe9lectrique","Compensation d'\xe9nergie r\xe9active"],urgency:"FAIBLE",cost_impact:"VARIABLE"});const a=Object.keys(e).filter((e=>e.includes("_elbow_")||e.includes("_valve")||e.includes("_tee"))).reduce(((t,n)=>t+(e[n]||0)),0);return a>8&&r.push({type:"reliability",priority:5,title:"\ud83d\udd27 COMPLEXIT\xc9 EXCESSIVE",description:"".concat(a," singularit\xe9s - Risque de pannes multiples"),impact:"Maintenance accrue, points de d\xe9faillance multiples, pertes de charge",solutions:["Simplification du circuit hydraulique","R\xe9duction nombre de raccords","Tuyauterie rectiligne privil\xe9gi\xe9e","Raccords haute qualit\xe9","Plan de maintenance pr\xe9ventive"],urgency:"FAIBLE",cost_impact:"LONG TERME"}),r},he=e=>{var t,n;if(!ae.current||!e.performance_curves)return;const i=ae.current.getContext("2d");oe.current&&oe.current.destroy();const r=e.performance_curves,s=e.system_curves;oe.current=new gc(i,{type:"line",data:{labels:r.flow||s.flow_points,datasets:[{label:"Courbe HMT Pompe",data:r.hmt||[],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y"},{label:"Courbe Syst\xe8me",data:s.system_curve||[],borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:3,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y"},{label:"Rendement Pompe",data:r.efficiency||[],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y1"},{label:"Puissance Absorb\xe9e",data:r.power||[],borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y2"},{label:"Point de Fonctionnement",data:[{x:(null===(t=s.operating_point)||void 0===t?void 0:t.flow)||Y.flow_rate,y:(null===(n=s.operating_point)||void 0===n?void 0:n.head)||0}],borderColor:"#000000",backgroundColor:"#000000",borderWidth:4,pointRadius:12,pointHoverRadius:16,showLine:!1,yAxisID:"y"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"D\xe9bit (m\xb3/h)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"HMT (m)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Rendement (%)",font:{size:14,weight:"bold"}},min:0,max:100,grid:{drawOnChartArea:!1}},y2:{type:"linear",display:!1,position:"right",title:{display:!0,text:"Puissance (kW)",font:{size:14,weight:"bold"}},grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top",labels:{font:{size:12,weight:"bold"},usePointStyle:!0}},title:{display:!0,text:"Analyse Experte - Courbes de Performance et Syst\xe8me",font:{size:16,weight:"bold"}}}}})};return r.useEffect((()=>{ne&&ce()}),[]),(0,xc.jsxs)("div",{className:"space-y-6",children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white p-6 rounded-lg shadow-lg",children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\ud83e\udde0 ANALYSE HYDRAULIQUE EXPERTE"}),(0,xc.jsx)("p",{className:"text-purple-100 mb-4",children:"Calculs avanc\xe9s temps r\xe9el \u2022 Diagnostics automatiques \u2022 Recommandations professionnelles"}),(0,xc.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xc.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xc.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,xc.jsx)("input",{type:"checkbox",checked:ne,onChange:e=>ie(e.target.checked),className:"rounded"}),(0,xc.jsx)("span",{className:"text-sm font-medium",children:"Calcul automatique"})]}),!ne&&(0,xc.jsx)("button",{onClick:()=>ce(),className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors",disabled:ee,children:ee?"Calcul...":"Calculer"}),(0,xc.jsxs)("button",{onClick:()=>{X({engineer_name:"",engineer_firstname:"",company_name:"",engineer_phone:"",engineer_email:"",flow_rate:0,fluid_type:"water",temperature:20,suction_type:"flooded",suction_pipe_diameter:0,discharge_pipe_diameter:0,suction_height:0,discharge_height:0,suction_length:0,discharge_length:0,total_length:0,useful_pressure:0,suction_material:"pvc",discharge_material:"pvc",suction_elbow_90:1,suction_elbow_45:0,suction_elbow_30:0,suction_tee_flow:0,suction_tee_branch:0,suction_reducer_gradual:0,suction_reducer_sudden:0,suction_enlarger_gradual:0,suction_enlarger_sudden:0,suction_gate_valve:0,suction_globe_valve:0,suction_ball_valve:0,suction_butterfly_valve:0,suction_check_valve:0,suction_strainer:1,suction_foot_valve:0,discharge_elbow_90:2,discharge_elbow_45:0,discharge_elbow_30:0,discharge_tee_flow:0,discharge_tee_branch:0,discharge_reducer_gradual:0,discharge_reducer_sudden:0,discharge_enlarger_gradual:0,discharge_enlarger_sudden:0,discharge_gate_valve:1,discharge_globe_valve:0,discharge_ball_valve:0,discharge_butterfly_valve:0,discharge_check_valve:1,discharge_strainer:0,discharge_flow_meter:0,discharge_pressure_gauge:1,pump_efficiency:75,motor_efficiency:85,voltage:400,power_factor:.8,starting_method:"star_delta",cable_length:0,cable_material:"copper",cable_section:null,voltage_drop:0,npsh_required:0,installation_type:"surface",pump_type:"centrifugal",operating_hours:4e3,electricity_cost:96,altitude:0,ambient_temperature:25,humidity:60}),Z(null),oe.current&&(oe.current.destroy(),oe.current=null)},className:"bg-red-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-600 transition-colors flex items-center space-x-2",title:"Remettre \xe0 z\xe9ro tous les champs",children:[(0,xc.jsx)("span",{children:"\ud83d\udd04"}),(0,xc.jsx)("span",{children:"R\xe9initialiser"})]}),(0,xc.jsxs)("button",{onClick:()=>(()=>{var e,t,n,i,r,s,a,o,l,c,d,u,h,m,f,p,g,x,b,y,v,_,w,j,N,k;if(!J)return void alert("Aucun r\xe9sultat \xe0 exporter. Veuillez d'abord effectuer un calcul.");const S='\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Rapport d\'Analyse Expert - ECO PUMP AFRIK</title>\n          <meta charset="UTF-8">\n          <style>\n            @media print {\n              body { margin: 0; padding: 0; }\n              .no-print { display: none; }\n            }\n            body { \n              font-family: \'Arial\', sans-serif; \n              margin: 10mm;\n              line-height: 1.4;\n              color: #333;\n            }\n            .header { \n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n              border-bottom: 4px solid #0ea5e9; \n              padding-bottom: 20px; \n              margin-bottom: 30px; \n              background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n              padding: 25px;\n              border-radius: 12px;\n            }\n            .logo-section {\n              display: flex;\n              align-items: center;\n              gap: 20px;\n            }\n            .logo-container {\n              width: 120px;\n              height: 120px;\n              background: white;\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n              border: 3px solid #0ea5e9;\n            }\n            .logo-svg {\n              width: 80px;\n              height: 80px;\n            }\n            .company-info {\n              text-align: left;\n            }\n            .company-name {\n              font-size: 28px;\n              font-weight: bold;\n              color: #0ea5e9;\n              margin: 0;\n              line-height: 1;\n            }\n            .company-subtitle {\n              font-size: 14px;\n              color: #0369a1;\n              margin: 5px 0;\n            }\n            .report-title {\n              text-align: center;\n              margin: 15px 0;\n            }\n            .report-title h1 {\n              color: #1e40af;\n              margin: 0;\n              font-size: 24px;\n              font-weight: bold;\n            }\n            .header-details {\n              display: flex;\n              justify-content: space-between;\n              align-items: flex-start;\n              margin-top: 20px;\n              padding-top: 20px;\n              border-top: 2px solid #0ea5e9;\n            }\n            .engineer-info {\n              text-align: left;\n              font-size: 14px;\n              flex: 1;\n            }\n            .date-info {\n              text-align: center;\n              font-size: 12px;\n              color: #64748b;\n              flex: 1;\n            }\n            .client-info {\n              text-align: right;\n              font-size: 14px;\n              flex: 1;\n            }\n            .contact-info {\n              background: #f8fafc;\n              padding: 10px;\n              border-radius: 8px;\n              margin-top: 10px;\n              font-size: 12px;\n            }\n            .section { \n              margin-bottom: 25px; \n              page-break-inside: avoid;\n            }\n            .section h2 { \n              color: #1e40af; \n              border-bottom: 2px solid #0ea5e9; \n              padding-bottom: 8px; \n              margin-bottom: 15px;\n              font-size: 18px;\n            }\n            .parameter-grid {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 10px;\n              margin-bottom: 15px;\n            }\n            .parameter { \n              display: flex; \n              justify-content: space-between; \n              margin: 8px 0;\n              padding: 8px 12px;\n              background: #f8fafc;\n              border-radius: 6px;\n              border-left: 4px solid #e2e8f0;\n            }\n            .parameter strong { \n              color: #1e40af; \n              font-weight: 600;\n            }\n            .warning { \n              background-color: #fef3c7; \n              border: 1px solid #f59e0b; \n              padding: 15px; \n              margin: 15px 0; \n              border-radius: 8px;\n              border-left: 4px solid #f59e0b;\n            }\n            .critical { \n              background-color: #fef2f2; \n              border: 1px solid #ef4444; \n              padding: 15px; \n              margin: 15px 0; \n              border-radius: 8px;\n              border-left: 4px solid #ef4444;\n            }\n            .success { \n              background-color: #f0fdf4; \n              border: 1px solid #22c55e; \n              padding: 15px; \n              margin: 15px 0; \n              border-radius: 8px;\n              border-left: 4px solid #22c55e;\n            }\n            .key-results {\n              background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);\n              padding: 20px;\n              border-radius: 12px;\n              margin: 20px 0;\n              border: 2px solid #0ea5e9;\n            }\n            .result-highlight {\n              display: inline-block;\n              background: #0ea5e9;\n              color: white;\n              padding: 6px 14px;\n              border-radius: 20px;\n              font-weight: bold;\n              margin: 5px;\n              font-size: 14px;\n            }\n            .footer {\n              margin-top: 40px;\n              padding-top: 20px;\n              border-top: 3px solid #0ea5e9;\n              text-align: center;\n              font-size: 12px;\n              color: #64748b;\n              background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n              padding: 20px;\n              border-radius: 8px;\n            }\n            .footer-logo {\n              display: inline-block;\n              margin-bottom: 10px;\n            }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <div class="logo-section">\n              <div class="logo-container">\n                <svg class="logo-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n                  \x3c!-- Logo ECO PUMP AFRIK stylis\xe9 --\x3e\n                  <defs>\n                    <linearGradient id="dropGradient" x1="0%" y1="0%" x2="100%" y2="100%">\n                      <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />\n                      <stop offset="100%" style="stop-color:#0369a1;stop-opacity:1" />\n                    </linearGradient>\n                  </defs>\n                  \n                  \x3c!-- Goutte principale --\x3e\n                  <path d="M100 30 C130 50, 150 80, 150 110 C150 140, 125 160, 100 160 C75 160, 50 140, 50 110 C50 80, 70 50, 100 30 Z" \n                        fill="url(#dropGradient)" stroke="white" stroke-width="2"/>\n                  \n                  \x3c!-- Goutte int\xe9rieure --\x3e\n                  <ellipse cx="100" cy="110" rx="25" ry="30" fill="white" opacity="0.9"/>\n                  \n                  \x3c!-- Effet de mouvement --\x3e\n                  <path d="M75 170 Q100 180, 125 170 Q140 175, 155 180" \n                        stroke="#0ea5e9" stroke-width="3" fill="none" opacity="0.7"/>\n                  \n                  \x3c!-- Texte stylis\xe9 --\x3e\n                  <text x="100" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0ea5e9">\n                    ECO PUMP\n                  </text>\n                </svg>\n              </div>\n              \n              <div class="company-info">\n                <h1 class="company-name">ECO PUMP AFRIK</h1>\n                <p class="company-subtitle">Solutions de Pompage Durable</p>\n                <p class="company-subtitle">Expertise Hydraulique \u2022 Conseil Technique</p>\n              </div>\n            </div>\n            \n            <div class="report-title">\n              <h1>\ud83d\udcca RAPPORT D\'ANALYSE EXPERT</h1>\n              <p style="color: #0369a1; margin: 5px 0;">Syst\xe8me de Pompage Centrifuge</p>\n            </div>\n          </div>\n          \n          <div class="header-details">\n            <div class="engineer-info">\n              <strong style="color: #0ea5e9;">\ud83d\udc64 ING\xc9NIEUR RESPONSABLE</strong><br>\n              <strong>'.concat(Y.engineer_firstname," ").concat(Y.engineer_name,'</strong><br>\n              <em>Sp\xe9cialiste Hydraulique</em>\n              <div class="contact-info">\n                <div style="margin: 3px 0;">\ud83d\udcde ').concat(Y.engineer_phone||"Non renseign\xe9",'</div>\n                <div style="margin: 3px 0;">\ud83d\udce7 ').concat(Y.engineer_email||"Non renseign\xe9",'</div>\n              </div>\n            </div>\n            \n            <div class="date-info">\n              <strong style="color: #0ea5e9;">\ud83d\udcc5 DATE D\'ANALYSE</strong><br>\n              <strong>').concat((new Date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),"</strong><br>\n              ").concat((new Date).toLocaleTimeString("fr-FR"),'<br>\n              <em style="margin-top: 5px; display: block;">Rapport N\xb0: ').concat((new Date).getFullYear(),"-").concat(String((new Date).getMonth()+1).padStart(2,"0"),"-").concat(String((new Date).getDate()).padStart(2,"0"),'</em>\n            </div>\n            \n            <div class="client-info">\n              <strong style="color: #0ea5e9;">\ud83c\udfe2 SOCI\xc9T\xc9 CLIENTE</strong><br>\n              <strong>').concat(Y.company_name||"Non renseign\xe9",'</strong><br>\n              <em>\xc9tude de Faisabilit\xe9 Technique</em>\n              <div class="contact-info">\n                <div style="margin: 3px 0;">\ud83d\udccb Analyse Hydraulique</div>\n                <div style="margin: 3px 0;">\u26a1 Dimensionnement \xc9lectrique</div>\n              </div>\n            </div>\n          </div>\n          \n          <div class="key-results">\n            <h2 style="margin-top: 0; color: #0ea5e9;">\ud83c\udfaf R\xc9SULTATS CL\xc9S DE L\'ANALYSE</h2>\n            <span class="result-highlight">NPSHd: ').concat(null===(e=J.npshd_analysis)||void 0===e||null===(t=e.npshd)||void 0===t?void 0:t.toFixed(2),' m</span>\n            <span class="result-highlight">HMT: ').concat(null===(n=J.hmt_analysis)||void 0===n||null===(i=n.hmt)||void 0===i?void 0:i.toFixed(2),' m</span>\n            <span class="result-highlight">Rendement: ').concat(null===(r=J.overall_efficiency)||void 0===r?void 0:r.toFixed(1),'%</span>\n            <span class="result-highlight">P. \xc9lectrique: ').concat(null===(s=J.performance_analysis)||void 0===s||null===(a=s.electrical_power)||void 0===a?void 0:a.toFixed(1),' kW</span>\n            <span class="result-highlight">Co\xfbt annuel: ').concat((4e3*(null===(o=J.performance_analysis)||void 0===o?void 0:o.electrical_power)*96/1e3).toFixed(0),' FCFA</span>\n          </div>\n          \n          <div class="section">\n            <h2>\ud83d\udccb PARAM\xc8TRES D\'ENTR\xc9E</h2>\n            <div class="parameter-grid">\n              <div class="parameter"><span>D\xe9bit:</span><strong>').concat(Y.flow_rate,' m\xb3/h</strong></div>\n              <div class="parameter"><span>Fluide:</span><strong>').concat((null===(l=U.find((e=>e.id===Y.fluid_type)))||void 0===l?void 0:l.name)||Y.fluid_type,'</strong></div>\n              <div class="parameter"><span>Temp\xe9rature:</span><strong>').concat(Y.temperature,'\xb0C</strong></div>\n              <div class="parameter"><span>Type d\'aspiration:</span><strong>').concat("flooded"===Y.suction_type?"En charge":"D\xe9pression",'</strong></div>\n              <div class="parameter"><span>Diam\xe8tre aspiration:</span><strong>DN').concat((null===(c=K.find((e=>e.mm==Y.suction_pipe_diameter)))||void 0===c?void 0:c.dn.replace("DN",""))||Y.suction_pipe_diameter," (").concat(Y.suction_pipe_diameter,' mm)</strong></div>\n              <div class="parameter"><span>Diam\xe8tre refoulement:</span><strong>DN').concat((null===(d=K.find((e=>e.mm==Y.discharge_pipe_diameter)))||void 0===d?void 0:d.dn.replace("DN",""))||Y.discharge_pipe_diameter," (").concat(Y.discharge_pipe_diameter,' mm)</strong></div>\n              <div class="parameter"><span>Hauteur aspiration:</span><strong>').concat(Y.suction_height,' m</strong></div>\n              <div class="parameter"><span>Hauteur refoulement:</span><strong>').concat(Y.discharge_height,' m</strong></div>\n            </div>\n          </div>\n\n          <div class="section">\n            <h2>\ud83d\udca7 ANALYSE NPSHd</h2>\n            ').concat(J.npshd_analysis?'\n              <div class="parameter-grid">\n                <div class="parameter"><span>NPSHd calcul\xe9:</span><strong>'.concat(null===(u=J.npshd_analysis.npshd)||void 0===u?void 0:u.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>NPSH requis:</span><strong>').concat(null===(h=J.npshd_analysis.npsh_required)||void 0===h?void 0:h.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Marge de s\xe9curit\xe9:</span><strong>').concat(null===(m=J.npshd_analysis.npsh_margin)||void 0===m?void 0:m.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Vitesse aspiration:</span><strong>').concat(null===(f=J.npshd_analysis.velocity)||void 0===f?void 0:f.toFixed(2),' m/s</strong></div>\n                <div class="parameter"><span>Reynolds:</span><strong>').concat(null===(p=J.npshd_analysis.reynolds_number)||void 0===p?void 0:p.toFixed(0),'</strong></div>\n                <div class="parameter"><span>R\xe9gime:</span><strong>').concat(J.npshd_analysis.reynolds_number>4e3?"Turbulent":J.npshd_analysis.reynolds_number>2300?"Transitoire":"Laminaire","</strong></div>\n              </div>\n              ").concat(J.npshd_analysis.cavitation_risk?'<div class="critical"><strong>\ud83d\udea8 RISQUE DE CAVITATION D\xc9TECT\xc9</strong><br>Action imm\xe9diate requise pour \xe9viter la destruction de la pompe.</div>':'<div class="success"><strong>\u2705 AUCUN RISQUE DE CAVITATION</strong><br>La pompe fonctionnera en s\xe9curit\xe9 avec les param\xe8tres actuels.</div>',"\n            "):"<p>Donn\xe9es NPSHd non disponibles</p>",'\n          </div>\n\n          <div class="section">\n            <h2>\u26a1 ANALYSE HMT</h2>\n            ').concat(J.hmt_analysis?'\n              <div class="parameter-grid">\n                <div class="parameter"><span>HMT totale:</span><strong>'.concat(null===(g=J.hmt_analysis.hmt)||void 0===g?void 0:g.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Hauteur statique:</span><strong>').concat(null===(x=J.hmt_analysis.static_head)||void 0===x?void 0:x.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Pertes aspiration:</span><strong>').concat(null===(b=J.npshd_analysis)||void 0===b||null===(y=b.total_head_loss)||void 0===y?void 0:y.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Pertes refoulement:</span><strong>').concat(null===(v=J.hmt_analysis.total_head_loss)||void 0===v?void 0:v.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Pertes totales:</span><strong>').concat(null===(_=J.total_head_loss)||void 0===_?void 0:_.toFixed(2),' m</strong></div>\n                <div class="parameter"><span>Pression utile:</span><strong>').concat(Y.useful_pressure," bar</strong></div>\n              </div>\n            "):"<p>Donn\xe9es HMT non disponibles</p>",'\n          </div>\n\n          <div class="section">\n            <h2>\ud83d\udd0c PERFORMANCE \xc9NERG\xc9TIQUE</h2>\n            ').concat(J.performance_analysis?'\n              <div class="parameter-grid">\n                <div class="parameter"><span>Rendement pompe:</span><strong>'.concat(Y.pump_efficiency,'%</strong></div>\n                <div class="parameter"><span>Rendement moteur:</span><strong>').concat(Y.motor_efficiency,'%</strong></div>\n                <div class="parameter"><span>Rendement global:</span><strong>').concat(null===(w=J.overall_efficiency)||void 0===w?void 0:w.toFixed(1),'%</strong></div>\n                <div class="parameter"><span>Puissance hydraulique:</span><strong>').concat(null===(j=J.performance_analysis.hydraulic_power)||void 0===j?void 0:j.toFixed(2),' kW</strong></div>\n                <div class="parameter"><span>Puissance \xe9lectrique:</span><strong>').concat(null===(N=J.performance_analysis.electrical_power)||void 0===N?void 0:N.toFixed(2),' kW</strong></div>\n                <div class="parameter"><span>Co\xfbt annuel (4000h):</span><strong>').concat((4e3*J.performance_analysis.electrical_power*96/1e3).toFixed(0)," FCFA</strong></div>\n              </div>\n            "):"<p>Donn\xe9es de performance non disponibles</p>","\n          </div>\n\n          ").concat(J.expert_recommendations&&J.expert_recommendations.length>0?'\n            <div class="section">\n              <h2>\ud83d\udca1 RECOMMANDATIONS D\'EXPERT</h2>\n              '.concat(J.expert_recommendations.slice(0,3).map((e=>'\n                <div class="'.concat("critical"===e.type?"critical":"warning",'">\n                  <h3 style="margin-top: 0;">').concat(e.title,"</h3>\n                  <p><strong>Description:</strong> ").concat(e.description,"</p>\n                  <p><strong>Impact:</strong> ").concat(e.impact,"</p>\n                  ").concat(e.solutions?'\n                    <p><strong>Solutions recommand\xe9es:</strong></p>\n                    <ul style="margin: 10px 0; padding-left: 20px;">\n                      '.concat(e.solutions.slice(0,3).map((e=>"<li>".concat(e,"</li>"))).join(""),"\n                    </ul>\n                  "):"","\n                  <p><strong>Urgence:</strong> ").concat(e.urgency||"Moyenne"," \u2022 <strong>Impact co\xfbt:</strong> ").concat(e.cost_impact||"\xc0 \xe9valuer","</p>\n                </div>\n              "))).join(""),"\n            </div>\n          "):"",'\n\n          <div class="footer">\n            <div class="footer-logo">\n              <strong style="color: #0ea5e9; font-size: 16px;">ECO PUMP AFRIK</strong>\n            </div>\n            <p><strong>\ud83d\udccb Rapport g\xe9n\xe9r\xe9 par:</strong> ').concat(Y.engineer_firstname," ").concat(Y.engineer_name,"</p>\n            <p><strong>\ud83d\udcde Contact:</strong> ").concat(Y.engineer_phone||"Non renseign\xe9"," \u2022 \n               <strong>\ud83d\udce7 Email:</strong> ").concat(Y.engineer_email||"Non renseign\xe9","</p>\n            <p><strong>\ud83c\udfe2 Client:</strong> ").concat(Y.company_name||"Non renseign\xe9"," \u2022 \n               <strong>\ud83d\udcc5 Date:</strong> ").concat((new Date).toLocaleDateString("fr-FR"),'</p>\n            <p style="margin-top: 15px; font-style: italic; color: #0369a1;">\n              <strong>ECO PUMP AFRIK - Solutions de Pompage Durable</strong><br>\n              Expertise Hydraulique \u2022 Conseil Technique \u2022 Dimensionnement \xc9lectrique<br>\n              Ce rapport a \xe9t\xe9 g\xe9n\xe9r\xe9 automatiquement par notre syst\xe8me d\'analyse hydraulique expert.\n            </p>\n          </div>\n        </body>\n      </html>\n    '),C=new Blob([S],{type:"text/html;charset=utf-8"}),P=URL.createObjectURL(C),E=document.createElement("a");E.href=P,E.download="ECO-PUMP-AFRIK-Rapport-".concat((null===(k=Y.company_name)||void 0===k?void 0:k.replace(/\s+/g,"-"))||"Client","-").concat((new Date).toISOString().split("T")[0],".html");const M=window.open(P,"_blank");M&&(M.onload=function(){setTimeout((()=>{M.print()}),1e3)}),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(P)})(),className:"bg-blue-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-600 transition-colors flex items-center space-x-2",title:"Exporter en PDF",disabled:!J,children:[(0,xc.jsx)("span",{children:"\ud83d\udcc4"}),(0,xc.jsx)("span",{children:"PDF"})]}),(0,xc.jsxs)("button",{onClick:()=>(()=>{if(!J)return void alert("Aucun r\xe9sultat \xe0 exporter. Veuillez d'abord effectuer un calcul.");const e=[];var t,n,i,r,s,a,o,l,c;e.push(["Rapport d'Analyse Expert - Syst\xe8me de Pompage"]),e.push(["G\xe9n\xe9r\xe9 le",(new Date).toLocaleDateString("fr-FR")]),e.push([]),e.push(["PARAM\xc8TRES D'ENTR\xc9E"]),e.push(["D\xe9bit (m\xb3/h)",Y.flow_rate]),e.push(["Fluide",Y.fluid_type]),e.push(["Temp\xe9rature (\xb0C)",Y.temperature]),e.push(["Diam\xe8tre aspiration (mm)",Y.suction_pipe_diameter]),e.push(["Diam\xe8tre refoulement (mm)",Y.discharge_pipe_diameter]),e.push([]),J.npshd_analysis&&(e.push(["R\xc9SULTATS NPSHd"]),e.push(["NPSHd calcul\xe9 (m)",null===(t=J.npshd_analysis.npshd)||void 0===t?void 0:t.toFixed(2)]),e.push(["NPSH requis (m)",null===(n=J.npshd_analysis.npsh_required)||void 0===n?void 0:n.toFixed(2)]),e.push(["Marge de s\xe9curit\xe9 (m)",null===(i=J.npshd_analysis.npsh_margin)||void 0===i?void 0:i.toFixed(2)]),e.push(["Risque de cavitation",J.npshd_analysis.cavitation_risk?"OUI":"NON"]),e.push([])),J.hmt_analysis&&(e.push(["R\xc9SULTATS HMT"]),e.push(["HMT calcul\xe9e (m)",null===(r=J.hmt_analysis.hmt)||void 0===r?void 0:r.toFixed(2)]),e.push(["Hauteur statique (m)",null===(s=J.hmt_analysis.static_head)||void 0===s?void 0:s.toFixed(2)]),e.push(["Pertes de charge totales (m)",null===(a=J.hmt_analysis.total_head_loss)||void 0===a?void 0:a.toFixed(2)]),e.push([])),J.performance_analysis&&(e.push(["PERFORMANCE \xc9NERG\xc9TIQUE"]),e.push(["Rendement global (%)",null===(o=J.performance_analysis.overall_efficiency)||void 0===o?void 0:o.toFixed(1)]),e.push(["Puissance hydraulique (kW)",null===(l=J.performance_analysis.hydraulic_power)||void 0===l?void 0:l.toFixed(2)]),e.push(["Puissance \xe9lectrique (kW)",null===(c=J.performance_analysis.electrical_power)||void 0===c?void 0:c.toFixed(2)]),e.push([])),J.expert_recommendations&&J.expert_recommendations.length>0&&(e.push(["RECOMMANDATIONS"]),J.expert_recommendations.forEach(((t,n)=>{e.push(["".concat(n+1,". ").concat(t.title)]),e.push(["Description",t.description]),e.push(["Impact",t.impact]),e.push([])})));const d=e.map((e=>e.map((e=>'"'.concat(e,'"'))).join(","))).join("\n"),u=new Blob([d],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(u),m=document.createElement("a");m.href=h,m.download="donnees-pompage-".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)})(),className:"bg-green-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-600 transition-colors flex items-center space-x-2",title:"Exporter en Excel",disabled:!J,children:[(0,xc.jsx)("span",{children:"\ud83d\udcca"}),(0,xc.jsx)("span",{children:"Excel"})]})]}),(0,xc.jsx)("div",{className:"flex space-x-2",children:["all","hydraulic","electrical","analysis"].map((e=>(0,xc.jsx)("button",{onClick:()=>se(e),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat(re===e?"bg-white text-purple-600":"bg-purple-500 text-white hover:bg-purple-400"),children:"all"===e?"Tout":"hydraulic"===e?"Hydraulique":"electrical"===e?"\xc9lectrique":"Analyse"},e)))})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,xc.jsxs)("div",{className:"xl:col-span-1 space-y-6",children:[(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-indigo-600 flex items-center",children:"\ud83d\udc64 Informations du Projet"}),(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),(0,xc.jsx)("input",{type:"text",value:Y.engineer_name||"",onChange:e=>le("engineer_name",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nom de l'ing\xe9nieur"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9nom"}),(0,xc.jsx)("input",{type:"text",value:Y.engineer_firstname||"",onChange:e=>le("engineer_firstname",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Pr\xe9nom de l'ing\xe9nieur"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Soci\xe9t\xe9 cliente"}),(0,xc.jsx)("input",{type:"text",value:Y.company_name||"",onChange:e=>le("company_name",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nom de la soci\xe9t\xe9 cliente"})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udcde T\xe9l\xe9phone"}),(0,xc.jsx)("input",{type:"tel",value:Y.engineer_phone||"",onChange:e=>le("engineer_phone",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"+226 XX XX XX XX"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udce7 Email"}),(0,xc.jsx)("input",{type:"email",value:Y.engineer_email||"",onChange:e=>le("engineer_email",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ingenieur@ecopump.com"})]})]})]})]}),("all"===re||"hydraulic"===re)&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-blue-600 flex items-center",children:"\ud83d\udca7 Param\xe8tres Hydrauliques"}),(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 D\xe9bit (m\xb3/h)"}),(0,xc.jsx)("input",{type:"number",value:Y.flow_rate||"",onChange:e=>le("flow_rate",parseFloat(e.target.value)||0),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"Saisissez le d\xe9bit"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 Temp\xe9rature (\xb0C)"}),(0,xc.jsx)("input",{type:"number",value:Y.temperature||"",onChange:e=>le("temperature",parseFloat(e.target.value)||0),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"Temp\xe9rature du fluide"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fluide"}),(0,xc.jsx)("select",{value:Y.fluid_type,onChange:e=>le("fluid_type",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:U.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,xc.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,xc.jsxs)("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:["\ud83e\uddea Propri\xe9t\xe9s du Fluide \xe0 ",Y.temperature,"\xb0C"]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,xc.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,xc.jsx)("div",{className:"font-medium text-gray-700",children:"Masse Volumique"}),(0,xc.jsx)("div",{className:"text-lg font-bold text-blue-600",children:Q(Y.fluid_type,Y.temperature).density.toFixed(1)}),(0,xc.jsx)("div",{className:"text-xs text-gray-500",children:"kg/m\xb3"})]}),(0,xc.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,xc.jsx)("div",{className:"font-medium text-gray-700",children:"Viscosit\xe9"}),(0,xc.jsx)("div",{className:"text-lg font-bold text-green-600",children:Q(Y.fluid_type,Y.temperature).viscosity.toFixed(4)}),(0,xc.jsx)("div",{className:"text-xs text-gray-500",children:"Pa\xb7s"})]}),(0,xc.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,xc.jsx)("div",{className:"font-medium text-gray-700",children:"Pression Vapeur"}),(0,xc.jsx)("div",{className:"text-lg font-bold text-red-600",children:Q(Y.fluid_type,Y.temperature).vapor_pressure.toFixed(0)}),(0,xc.jsx)("div",{className:"text-xs text-gray-500",children:"Pa"})]})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type d'Aspiration"}),(0,xc.jsxs)("select",{value:Y.suction_type,onChange:e=>le("suction_type",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,xc.jsx)("option",{value:"flooded",children:"Aspiration en charge"}),(0,xc.jsx)("option",{value:"suction_lift",children:"Aspiration en d\xe9pression"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 Hauteur Asp. (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:void 0!==Y.suction_height&&null!==Y.suction_height?Y.suction_height:"",onChange:e=>le("suction_height",""===e.target.value?"":parseFloat(e.target.value)),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"Hauteur d'aspiration"}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"flooded"===Y.suction_type?"En charge (positif)":"D\xe9pression (hauteur)"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 Hauteur Ref. (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:void 0!==Y.discharge_height&&null!==Y.discharge_height?Y.discharge_height:"",onChange:e=>le("discharge_height",""===e.target.value?"":parseFloat(e.target.value)),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"Hauteur de refoulement"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pression Utile (bar)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:Y.useful_pressure||"",onChange:e=>le("useful_pressure",parseFloat(e.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Pression suppl\xe9mentaire"}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Pression suppl\xe9mentaire requise (processus, pression r\xe9siduelle)"})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 \u2300 Aspiration (DN)"}),(0,xc.jsxs)("select",{value:Y.suction_pipe_diameter||"",onChange:e=>le("suction_pipe_diameter",parseFloat(e.target.value)||0),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",children:[(0,xc.jsx)("option",{value:"",children:"S\xe9lectionnez un diam\xe8tre"}),K.map((e=>(0,xc.jsx)("option",{value:e.mm,children:e.label},e.mm)))]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 \u2300 Refoulement (DN)"}),(0,xc.jsxs)("select",{value:Y.discharge_pipe_diameter||"",onChange:e=>le("discharge_pipe_diameter",parseFloat(e.target.value)||0),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",children:[(0,xc.jsx)("option",{value:"",children:"S\xe9lectionnez un diam\xe8tre"}),K.map((e=>(0,xc.jsx)("option",{value:e.mm,children:e.label},e.mm)))]})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Long. Asp. (m)"}),(0,xc.jsx)("input",{type:"number",value:void 0!==Y.suction_length&&null!==Y.suction_length?Y.suction_length:"",onChange:e=>le("suction_length",""===e.target.value?"":parseFloat(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Longueur aspiration"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Long. Ref. (m)"}),(0,xc.jsx)("input",{type:"number",value:void 0!==Y.discharge_length&&null!==Y.discharge_length?Y.discharge_length:"",onChange:e=>le("discharge_length",""===e.target.value?"":parseFloat(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Longueur refoulement"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mat\xe9riau Asp."}),(0,xc.jsx)("select",{value:Y.suction_material,onChange:e=>le("suction_material",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:$.map((e=>(0,xc.jsxs)("option",{value:e.id,children:[e.name," (\u03b5 = ",e.roughness," mm)"]},e.id)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mat\xe9riau Ref."}),(0,xc.jsx)("select",{value:Y.discharge_material,onChange:e=>le("discharge_material",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:$.map((e=>(0,xc.jsxs)("option",{value:e.id,children:[e.name," (\u03b5 = ",e.roughness," mm)"]},e.id)))})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 NPSH Requis (m)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:void 0!==Y.npsh_required&&null!==Y.npsh_required?Y.npsh_required:"",onChange:e=>le("npsh_required",""===e.target.value?"":parseFloat(e.target.value)),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"NPSH requis de la pompe"})]})]})]}),("all"===re||"hydraulic"===re)&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-orange-600 flex items-center",children:"\ud83d\udd27 Singularit\xe9s Compl\xe8tes"}),(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3 bg-blue-50 p-3 rounded-lg",children:"\ud83d\udca7 ASPIRATION (Attention : impact critique sur NPSHd)"}),(0,xc.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Coudes 90\xb0"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_elbow_90,onChange:e=>le("suction_elbow_90",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Coudes 45\xb0"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_elbow_45,onChange:e=>le("suction_elbow_45",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Coudes 30\xb0"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_elbow_30,onChange:e=>le("suction_elbow_30",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Cr\xe9pine"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_strainer,onChange:e=>le("suction_strainer",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"T\xe9 (passage)"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_tee_flow,onChange:e=>le("suction_tee_flow",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"T\xe9 (d\xe9rivation)"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_tee_branch,onChange:e=>le("suction_tee_branch",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"R\xe9duction grad."}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_reducer_gradual,onChange:e=>le("suction_reducer_gradual",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"R\xe9duction brusque"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_reducer_sudden,onChange:e=>le("suction_reducer_sudden",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"V. \xe0 opercule"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_gate_valve,onChange:e=>le("suction_gate_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"V. \xe0 boisseau"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_ball_valve,onChange:e=>le("suction_ball_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Clapet A.R."}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_check_valve,onChange:e=>le("suction_check_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Clapet de pied"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.suction_foot_valve,onChange:e=>le("suction_foot_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3 bg-green-50 p-3 rounded-lg",children:"\ud83d\udd04 REFOULEMENT (Impact sur HMT total)"}),(0,xc.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Coudes 90\xb0"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_elbow_90,onChange:e=>le("discharge_elbow_90",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Coudes 45\xb0"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_elbow_45,onChange:e=>le("discharge_elbow_45",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Coudes 30\xb0"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_elbow_30,onChange:e=>le("discharge_elbow_30",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"T\xe9 (passage)"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_tee_flow,onChange:e=>le("discharge_tee_flow",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"V. \xe0 opercule"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_gate_valve,onChange:e=>le("discharge_gate_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"V. \xe0 boisseau"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_ball_valve,onChange:e=>le("discharge_ball_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"V. papillon"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_butterfly_valve,onChange:e=>le("discharge_butterfly_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Clapet A.R."}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_check_valve,onChange:e=>le("discharge_check_valve",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"R\xe9duction grad."}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_reducer_gradual,onChange:e=>le("discharge_reducer_gradual",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"D\xe9bitm\xe8tre"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_flow_meter,onChange:e=>le("discharge_flow_meter",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Manom\xe8tre"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_pressure_gauge,onChange:e=>le("discharge_pressure_gauge",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Filtre"}),(0,xc.jsx)("input",{type:"number",min:"0",value:Y.discharge_strainer,onChange:e=>le("discharge_strainer",parseInt(e.target.value)||0),className:"w-full p-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsx)("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-200",children:(0,xc.jsxs)("p",{className:"text-xs text-amber-800",children:[(0,xc.jsx)("strong",{children:"\ud83d\udca1 Conseil Expert :"})," Chaque singularit\xe9 augmente les pertes de charge. Limitez les raccords sur l'aspiration pour pr\xe9server le NPSHd."]})})]})]}),("all"===re||"electrical"===re)&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-yellow-600 flex items-center",children:"\u26a1 Param\xe8tres \xc9lectriques"}),(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 Rendement Pompe (%)"}),(0,xc.jsx)("input",{type:"number",min:"40",max:"95",value:Y.pump_efficiency||"",onChange:e=>le("pump_efficiency",parseFloat(e.target.value)||0),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"75"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\u2b50 Rendement Moteur (%)"}),(0,xc.jsx)("input",{type:"number",min:"70",max:"98",value:Y.motor_efficiency||"",onChange:e=>le("motor_efficiency",parseFloat(e.target.value)||0),className:"w-full p-2 border-2 border-yellow-400 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-yellow-50",placeholder:"85"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tension (V)"}),(0,xc.jsxs)("select",{value:Y.voltage,onChange:e=>le("voltage",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,xc.jsx)("option",{value:230,children:"230V (Monophas\xe9)"}),(0,xc.jsx)("option",{value:400,children:"400V (Triphas\xe9)"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cos \u03c6"}),(0,xc.jsx)("input",{type:"number",min:"0.6",max:"1",step:"0.01",value:Y.power_factor,onChange:e=>le("power_factor",parseFloat(e.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"D\xe9marrage"}),(0,xc.jsxs)("select",{value:Y.starting_method,onChange:e=>le("starting_method",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,xc.jsx)("option",{value:"star_delta",children:"\xc9toile-Triangle"}),(0,xc.jsx)("option",{value:"direct_on_line",children:"Direct"})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longueur C\xe2ble (m)"}),(0,xc.jsx)("input",{type:"number",value:Y.cable_length||"",onChange:e=>le("cable_length",parseFloat(e.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Longueur du c\xe2ble"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mat\xe9riau C\xe2ble"}),(0,xc.jsxs)("select",{value:Y.cable_material,onChange:e=>le("cable_material",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,xc.jsx)("option",{value:"copper",children:"Cuivre"}),(0,xc.jsx)("option",{value:"aluminum",children:"Aluminium"})]})]})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chute de Tension (%)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",min:"0",max:"10",value:Y.voltage_drop||"",onChange:e=>le("voltage_drop",parseFloat(e.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"3"}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Chute de tension admissible en % (g\xe9n\xe9ralement 3% max pour moteurs)"})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fonctionnement (h/an)"}),(0,xc.jsx)("input",{type:"number",value:Y.operating_hours||"",onChange:e=>le("operating_hours",parseFloat(e.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Heures de fonctionnement annuel"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix kWh (FCFA)"}),(0,xc.jsx)("input",{type:"number",step:"0.1",value:Y.electricity_cost||"",onChange:e=>le("electricity_cost",parseFloat(e.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Prix du kWh en FCFA"}),(0,xc.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Prix unitaire de l'\xe9lectricit\xe9 (tarif industriel/domestique)"})]})]})]})]})]}),(0,xc.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[ee&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),(0,xc.jsx)("p",{className:"text-gray-600 mt-4 font-medium",children:"Analyse en cours..."})]}),J&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-green-600 flex items-center",children:"\ud83d\udcca R\xe9sultats Temps R\xe9el"}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(t=J.npshd_analysis)||void 0===t||null===(n=t.npshd)||void 0===n?void 0:n.toFixed(2))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"NPSHd (m)"}),(0,xc.jsx)("div",{className:"text-xs mt-1 ".concat(null!==(i=J.npshd_analysis)&&void 0!==i&&i.cavitation_risk?"text-red-600":"text-green-600"),children:null!==(s=J.npshd_analysis)&&void 0!==s&&s.cavitation_risk?"\u26a0\ufe0f Risque":"\u2705 S\xfbr"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(a=J.hmt_analysis)||void 0===a||null===(o=a.hmt)||void 0===o?void 0:o.toFixed(2))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"HMT (m)"}),(0,xc.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Statique: ",(null===(l=J.hmt_analysis)||void 0===l||null===(c=l.static_head)||void 0===c?void 0:c.toFixed(1))||"N/A","m"]})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(u=J.overall_efficiency)||void 0===u?void 0:u.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Rendement (%)"}),(0,xc.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Global: ",(null===(h=J.performance_analysis)||void 0===h||null===(m=h.pump_efficiency)||void 0===m?void 0:m.toFixed(0))||"N/A"," \xd7 ",(null===(f=J.performance_analysis)||void 0===f||null===(p=f.motor_efficiency)||void 0===p?void 0:p.toFixed(0))||"N/A"]})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===(g=J.npshd_analysis)||void 0===g||null===(x=g.velocity)||void 0===x?void 0:x.toFixed(2))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Vitesse (m/s)"}),(0,xc.jsx)("div",{className:"text-xs mt-1 ".concat(((null===(b=J.npshd_analysis)||void 0===b?void 0:b.velocity)||0)>3?"text-red-600":"text-green-600"),children:((null===(y=J.npshd_analysis)||void 0===y?void 0:y.velocity)||0)>3?"\u26a0\ufe0f \xc9lev\xe9e":"\u2705 Normale"})]})]}),(0,xc.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border-2 border-blue-200",children:[(0,xc.jsx)("h4",{className:"font-semibold text-blue-800 mb-4 flex items-center",children:"\ud83d\udca7 R\xe9sultats Hydrauliques Principaux"}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-4 border-blue-500 shadow-lg",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:(null===(v=Y.flow_rate)||void 0===v?void 0:v.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"D\xc9BIT"}),(0,xc.jsx)("div",{className:"text-xs text-gray-600",children:"m\xb3/h"}),(0,xc.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[((Y.flow_rate||0)/3.6).toFixed(3)," m\xb3/s"]})]})}),(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-4 border-green-500 shadow-lg",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:(null===(_=J.hmt_analysis)||void 0===_||null===(w=_.hmt)||void 0===w?void 0:w.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm font-medium text-green-800",children:"HMT"}),(0,xc.jsx)("div",{className:"text-xs text-gray-600",children:"m"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Hauteur Manom\xe9trique"})]})}),(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-4 border-orange-500 shadow-lg",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:(null===(j=J.performance_analysis)||void 0===j||null===(N=j.hydraulic_power)||void 0===N?void 0:N.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm font-medium text-orange-800",children:"P2"}),(0,xc.jsx)("div",{className:"text-xs text-gray-600",children:"kW"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Puissance Hydraulique"})]})}),(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-4 rounded-lg border-4 border-purple-500 shadow-lg",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:(null===(k=J.performance_analysis)||void 0===k||null===(S=k.nominal_current)||void 0===S?void 0:S.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"COURANT"}),(0,xc.jsx)("div",{className:"text-xs text-gray-600",children:"A"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Courant Nominal"})]})})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-4 border-t border-blue-200",children:[(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-red-300 shadow",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-red-600",children:(null===(C=J.total_head_loss)||void 0===C?void 0:C.toFixed(2))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-red-800",children:"Pertes Totales"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500",children:"m"})]})}),(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-indigo-300 shadow",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-indigo-600",children:null!==(P=J.npshd_analysis)&&void 0!==P&&P.reynolds_number?J.npshd_analysis.reynolds_number>4e3?"Turbulent":J.npshd_analysis.reynolds_number>2300?"Transitoire":"Laminaire":"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-indigo-800",children:"R\xe9gime"}),(0,xc.jsxs)("div",{className:"text-xs text-gray-500",children:["Re: ",(null===(E=J.npshd_analysis)||void 0===E||null===(M=E.reynolds_number)||void 0===M?void 0:M.toFixed(0))||"N/A"]})]})}),(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-cyan-300 shadow",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-cyan-600",children:(null===(A=Y.useful_pressure)||void 0===A?void 0:A.toFixed(1))||"0.0"}),(0,xc.jsx)("div",{className:"text-sm text-cyan-800",children:"Pression Utile"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500",children:"bar"})]})}),(0,xc.jsx)("div",{className:"text-center",children:(0,xc.jsxs)("div",{className:"bg-white p-3 rounded-lg border-2 border-teal-300 shadow",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-teal-600",children:(null===(D=J.overall_efficiency)||void 0===D?void 0:D.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-teal-800",children:"Rendement Global"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500",children:"%"})]})})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-200",children:[(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-indigo-600",children:(null===(T=J.performance_analysis)||void 0===T||null===(R=T.hydraulic_power)||void 0===R?void 0:R.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"P2 (kW)"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Hydraulique"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-red-600",children:(null===(O=J.performance_analysis)||void 0===O||null===(F=O.electrical_power)||void 0===F?void 0:F.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"P1 (kW)"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\xc9lectrique"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-yellow-600",children:(null===(L=J.performance_analysis)||void 0===L||null===(I=L.nominal_current)||void 0===I?void 0:I.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Courant (A)"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Nominal"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-green-600",children:(null===(z=J.electrical_analysis)||void 0===z||null===(q=z.annual_energy_cost)||void 0===q?void 0:q.toFixed(0))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Co\xfbt/an (\u20ac)"}),(0,xc.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(null===(H=Y.electricity_cost)||void 0===H?void 0:H.toFixed(3))||"N/A"," \u20ac/kWh"]})]})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-gray-200",children:[(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold ".concat(J.system_stability?"text-green-600":"text-red-600"),children:J.system_stability?"\u2705 STABLE":"\u26a0\ufe0f INSTABLE"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Stabilit\xe9 Syst\xe8me"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-blue-600",children:(null===(V=J.energy_consumption)||void 0===V?void 0:V.toFixed(3))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Conso. (kWh/m\xb3)"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"text-lg font-bold text-purple-600",children:(null===(W=J.optimization_potential)||void 0===W||null===(B=W.energy_savings)||void 0===B?void 0:B.toFixed(1))||"N/A"}),(0,xc.jsx)("div",{className:"text-sm text-gray-600",children:"Potentiel (%)"}),(0,xc.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\xc9conomie possible"})]})]})]}),J&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"\ud83d\udcc8 Courbes de Performance Expert"}),(0,xc.jsx)("canvas",{ref:ae,className:"w-full h-96"})]})]})]}),J&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"\ud83c\udfd7\ufe0f Sch\xe9ma d'Installation Expert"}),(0,xc.jsx)("div",{className:"flex justify-center",children:(0,xc.jsx)(Oc,{inputData:Y,results:J,pipeMaterials:$,fluids:U})})]}),J&&J.expert_recommendations&&J.expert_recommendations.length>0&&(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"\ud83c\udfaf Recommandations d'Expert"}),(0,xc.jsx)("div",{className:"space-y-4",children:J.expert_recommendations.map(((e,t)=>(0,xc.jsxs)("div",{className:"p-4 rounded-lg border-l-4 ".concat("critical"===e.type?"border-red-500 bg-red-50":"energy"===e.type?"border-green-500 bg-green-50":"hydraulic"===e.type?"border-blue-500 bg-blue-50":"electrical"===e.type?"border-yellow-500 bg-yellow-50":"border-gray-500 bg-gray-50"),children:[(0,xc.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xc.jsx)("h4",{className:"font-bold text-sm ".concat("critical"===e.type?"text-red-800":"energy"===e.type?"text-green-800":"hydraulic"===e.type?"text-blue-800":"electrical"===e.type?"text-yellow-800":"text-gray-800"),children:e.title}),(0,xc.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("IMM\xc9DIATE"===e.urgency?"bg-red-100 text-red-800":"HAUTE"===e.urgency?"bg-orange-100 text-orange-800":"MOYENNE"===e.urgency?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.urgency})]}),(0,xc.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),(0,xc.jsxs)("p",{className:"text-xs text-gray-600 mb-3 font-medium",children:["Impact: ",e.impact]}),(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.solutions.map(((e,t)=>(0,xc.jsxs)("div",{className:"flex items-start text-sm",children:[(0,xc.jsx)("span",{className:"text-green-600 mr-2 mt-1",children:"\u2022"}),(0,xc.jsx)("span",{children:e})]},t)))}),e.cost_impact&&(0,xc.jsx)("div",{className:"mt-3 pt-2 border-t border-gray-200",children:(0,xc.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Impact \xe9conomique: ",e.cost_impact]})})]},t)))})]})]})},Oc=e=>{var t,n,i,r,s,a,o,l,c,d,u,h,m,f,p,g,x,b,y,v,_,w,j,N,k,S,C,P,E,M,A,D,T,R,O;let{inputData:F,results:L,pipeMaterials:I,fluids:z}=e;const q="flooded"===F.suction_type,H={flooded:{reservoirY:120,reservoirHeight:150,pumpY:320,statusColor:"#10b981",statusIcon:"\u2b07\ufe0f",statusText:"EN CHARGE",description:"Pompe en contrebas - Aspiration gravitaire"},suction_lift:{reservoirY:320,reservoirHeight:120,pumpY:200,statusColor:"#ef4444",statusIcon:"\u2b06\ufe0f",statusText:"EN D\xc9PRESSION",description:"Pompe en sur\xe9l\xe9vation - Aspiration par d\xe9pression"}},V=q?H.flooded:H.suction_lift,W=V.reservoirY+25,B=Math.min(Math.max(12*Math.abs(F.suction_height),20),100),U=q?W+B+20:W-B-60,$=V.statusColor,G=V.statusIcon,Q=V.statusText;return(0,xc.jsxs)("svg",{width:"1200",height:"800",viewBox:"0 0 1200 800",className:"border border-gray-200 rounded-lg",children:[(0,xc.jsxs)("defs",{children:[(0,xc.jsxs)("linearGradient",{id:"waterGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,xc.jsx)("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:.8}}),(0,xc.jsx)("stop",{offset:"100%",style:{stopColor:"#1e40af",stopOpacity:.9}})]}),(0,xc.jsxs)("linearGradient",{id:"pumpGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,xc.jsx)("stop",{offset:"0%",style:{stopColor:"#10b981",stopOpacity:1}}),(0,xc.jsx)("stop",{offset:"100%",style:{stopColor:"#059669",stopOpacity:1}})]}),(0,xc.jsxs)("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,xc.jsx)("stop",{offset:"0%",style:{stopColor:"#f8fafc",stopOpacity:1}}),(0,xc.jsx)("stop",{offset:"100%",style:{stopColor:"#e2e8f0",stopOpacity:1}})]}),(0,xc.jsx)("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:(0,xc.jsx)("feDropShadow",{dx:"3",dy:"3",stdDeviation:"4",floodColor:"rgba(0,0,0,0.3)"})}),(0,xc.jsx)("marker",{id:"arrowRed",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:(0,xc.jsx)("polygon",{points:"0 0, 8 3, 0 6",fill:"#ef4444"})}),(0,xc.jsx)("marker",{id:"arrowBlue",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:(0,xc.jsx)("polygon",{points:"0 0, 8 3, 0 6",fill:"#3b82f6"})}),(0,xc.jsx)("marker",{id:"arrowGreen",markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",children:(0,xc.jsx)("polygon",{points:"0 0, 8 3, 0 6",fill:"#10b981"})})]}),(0,xc.jsx)("rect",{width:"1200",height:"800",fill:"url(#bgGradient)"}),(0,xc.jsx)("pattern",{id:"grid",width:"25",height:"25",patternUnits:"userSpaceOnUse",children:(0,xc.jsx)("path",{d:"M 25 0 L 0 0 0 25",fill:"none",stroke:"#e5e7eb",strokeWidth:"1",opacity:"0.3"})}),(0,xc.jsx)("rect",{width:"1200",height:"800",fill:"url(#grid)"}),(0,xc.jsx)("rect",{x:"0",y:"750",width:"1200",height:"50",fill:"#8b5cf6",opacity:"0.3"}),(0,xc.jsx)("text",{x:"600",y:"775",textAnchor:"middle",className:"text-sm font-medium",fill:"#6b7280",children:"\ud83c\udf0d NIVEAU SOL - R\xc9F\xc9RENCE ALTIM\xc9TRIQUE"}),(0,xc.jsx)("rect",{x:"20",y:"20",width:"600",height:"100",fill:"white",stroke:$,strokeWidth:"3",rx:"12",filter:"url(#shadow)"}),(0,xc.jsxs)("text",{x:"320",y:"45",textAnchor:"middle",className:"text-lg font-bold",fill:$,children:[G," CONFIGURATION ",Q]}),(0,xc.jsx)("text",{x:"320",y:"65",textAnchor:"middle",className:"text-sm",fill:"#6b7280",children:V.description}),(0,xc.jsxs)("text",{x:"320",y:"85",textAnchor:"middle",className:"text-sm font-medium",fill:"#4b5563",children:["Q=",F.flow_rate," m\xb3/h \u2022 H=",Math.abs(F.suction_height),"m \u2022 T=",F.temperature,"\xb0C"]}),(0,xc.jsxs)("text",{x:"320",y:"105",textAnchor:"middle",className:"text-xs",fill:"#6b7280",children:[F.engineer_firstname," ",F.engineer_name," - ",F.company_name]}),(0,xc.jsx)("rect",{x:"50",y:V.reservoirY,width:"220",height:V.reservoirHeight,fill:"#d1d5db",stroke:"#6b7280",strokeWidth:"4",rx:"10",filter:"url(#shadow)"}),(0,xc.jsx)("rect",{x:"58",y:W,width:"204",height:V.reservoirHeight-35,fill:"url(#waterGradient)",rx:"6"}),(0,xc.jsx)("path",{d:"M 58 ".concat(W," Q 78 ").concat(W-4," 98 ").concat(W," T 138 ").concat(W," T 178 ").concat(W," T 218 ").concat(W," T 262 ").concat(W),stroke:"#1d4ed8",strokeWidth:"4",fill:"none",opacity:"0.8"}),(0,xc.jsx)("text",{x:"160",y:V.reservoirY-15,textAnchor:"middle",className:"text-sm font-bold",fill:"#1f2937",children:"\ud83c\udfdb\ufe0f R\xc9SERVOIR"}),(0,xc.jsxs)("text",{x:"160",y:V.reservoirY-2,textAnchor:"middle",className:"text-xs",fill:"#6b7280",children:[(null===(t=z.find((e=>e.id===F.fluid_type)))||void 0===t?void 0:t.name)||"Fluide"," - ",F.temperature,"\xb0C"]}),(0,xc.jsx)("text",{x:"280",y:W+5,className:"text-xs font-bold",fill:"#1d4ed8",children:"\ud83d\udca7 Niveau"}),(0,xc.jsx)("text",{x:"280",y:W+16,className:"text-xs",fill:"#6b7280",children:"R\xe9f\xe9rence"}),(0,xc.jsx)("line",{x1:"270",y1:W,x2:"450",y2:U+40,stroke:$,strokeWidth:Math.max(10,F.suction_pipe_diameter/10),strokeLinecap:"round",filter:"url(#shadow)",opacity:"0.9"}),(0,xc.jsxs)("g",{transform:"translate(270, ".concat(W,")"),children:[(0,xc.jsx)("circle",{cx:"0",cy:"0",r:"12",fill:"#6b7280",stroke:"#374151",strokeWidth:"3"}),(0,xc.jsx)("circle",{cx:"0",cy:"0",r:"8",fill:"none",stroke:"#ffffff",strokeWidth:"2"}),(0,xc.jsx)("path",{d:"M -6 -6 L 6 6 M -6 6 L 6 -6",stroke:"#ffffff",strokeWidth:"1"})]}),(0,xc.jsx)("text",{x:"270",y:W+23,textAnchor:"middle",className:"text-xs font-medium",fill:"#6b7280",children:"\ud83d\udd27 Cr\xe9pine"}),(0,xc.jsxs)("g",{transform:"translate(450, ".concat(U,")"),children:[(0,xc.jsx)("rect",{x:"0",y:"0",width:"100",height:"80",fill:"url(#pumpGradient)",stroke:"#047857",strokeWidth:"5",rx:"15",filter:"url(#shadow)"}),(0,xc.jsx)("circle",{cx:"50",cy:"40",r:"25",fill:"none",stroke:"white",strokeWidth:"4"}),(0,xc.jsx)("path",{d:"M 35 40 Q 50 25 65 40 Q 50 55 35 40",fill:"white",opacity:"0.9"}),(0,xc.jsx)("circle",{cx:"50",cy:"40",r:"15",fill:"none",stroke:"white",strokeWidth:"2"}),(0,xc.jsx)("path",{d:"M 45 35 Q 55 35 55 45 Q 45 45 45 35",fill:"white",opacity:"0.7"}),(0,xc.jsx)("text",{x:"50",y:"15",textAnchor:"middle",className:"text-xs font-bold",fill:"white",children:"\ud83d\udd04 POMPE"}),(0,xc.jsxs)("text",{x:"50",y:"70",textAnchor:"middle",className:"text-xs font-medium",fill:"white",children:["\u03b7=",F.pump_efficiency,"%"]}),(0,xc.jsx)("path",{d:"M 10 40 Q 25 ".concat(q?30:50," 40 40 Q 25 ").concat(q?50:30," 10 40"),fill:$,opacity:"0.6"})]}),(0,xc.jsxs)("text",{x:"500",y:U+100,textAnchor:"middle",className:"text-xs font-bold",fill:"#047857",children:[F.pump_type||"CENTRIFUGE"," \u2022 ",(null===(n=F.installation_type)||void 0===n?void 0:n.toUpperCase())||"SURFACE"]}),(0,xc.jsx)("line",{x1:"550",y1:U+40,x2:"650",y2:U+40,stroke:"#4b5563",strokeWidth:Math.max(10,F.discharge_pipe_diameter/10),strokeLinecap:"round",filter:"url(#shadow)"}),(0,xc.jsx)("path",{d:"M 650 ".concat(U+40," Q 680 ").concat(U+40," 680 ").concat(U+10," L 680 140"),stroke:"#4b5563",strokeWidth:Math.max(10,F.discharge_pipe_diameter/10),fill:"none",strokeLinecap:"round",filter:"url(#shadow)"}),(0,xc.jsxs)("g",{transform:"translate(680, 120)",children:[(0,xc.jsx)("rect",{x:"-10",y:"0",width:"20",height:"25",fill:"#10b981",rx:"8",filter:"url(#shadow)"}),(0,xc.jsx)("circle",{cx:"0",cy:"12",r:"6",fill:"#ffffff"}),(0,xc.jsx)("text",{x:"0",y:"17",textAnchor:"middle",className:"text-xs font-bold",fill:"#10b981",children:"\ud83d\udca7"})]}),(0,xc.jsx)("text",{x:"720",y:"120",className:"text-xs font-bold",fill:"#10b981",children:"\ud83c\udfaf SORTIE"}),(0,xc.jsxs)("text",{x:"720",y:"132",className:"text-xs",fill:"#6b7280",children:["H=",F.discharge_height,"m"]}),(0,xc.jsx)("line",{x1:"20",y1:W,x2:"20",y2:U+40,stroke:"#ef4444",strokeWidth:"2",markerEnd:"url(#arrowRed)"}),(0,xc.jsx)("line",{x1:"20",y1:U+40,x2:"20",y2:W,stroke:"#ef4444",strokeWidth:"2",markerEnd:"url(#arrowRed)"}),(0,xc.jsx)("rect",{x:"0",y:(W+U+40)/2-35,width:"60",height:"70",fill:"white",stroke:$,strokeWidth:"3",rx:"8",filter:"url(#shadow)"}),(0,xc.jsxs)("text",{x:"30",y:(W+U+40)/2-15,textAnchor:"middle",className:"text-lg font-bold",fill:$,children:[Math.abs(F.suction_height).toFixed(1),"m"]}),(0,xc.jsx)("text",{x:"30",y:(W+U+40)/2+5,textAnchor:"middle",className:"text-xs font-medium",fill:$,children:Q}),(0,xc.jsx)("text",{x:"30",y:(W+U+40)/2+20,textAnchor:"middle",className:"text-xs",fill:"#6b7280",children:q?"Gravitaire":"Aspiration"}),(0,xc.jsx)("line",{x1:"720",y1:U+40,x2:"720",y2:"140",stroke:"#10b981",strokeWidth:"2",markerEnd:"url(#arrowGreen)"}),(0,xc.jsx)("line",{x1:"720",y1:"140",x2:"720",y2:U+40,stroke:"#10b981",strokeWidth:"2",markerEnd:"url(#arrowGreen)"}),(0,xc.jsx)("rect",{x:"730",y:(U+40+140)/2-20,width:"80",height:"40",fill:"white",stroke:"#10b981",strokeWidth:"3",rx:"8",filter:"url(#shadow)"}),(0,xc.jsxs)("text",{x:"770",y:(U+40+140)/2-5,textAnchor:"middle",className:"text-sm font-bold",fill:"#10b981",children:[F.discharge_height.toFixed(1),"m"]}),(0,xc.jsx)("text",{x:"770",y:(U+40+140)/2+10,textAnchor:"middle",className:"text-xs",fill:"#6b7280",children:"REFOULEMENT"}),(0,xc.jsx)("line",{x1:"320",y1:W+20,x2:"420",y2:U+20,stroke:"#3b82f6",strokeWidth:"4",markerEnd:"url(#arrowBlue)",opacity:"0.9"}),(0,xc.jsxs)("text",{x:"370",y:(W+U+40)/2-20,textAnchor:"middle",className:"text-sm font-bold",fill:"#3b82f6",children:["Q = ",F.flow_rate," m\xb3/h"]}),(0,xc.jsxs)("text",{x:"370",y:(W+U+40)/2-5,textAnchor:"middle",className:"text-xs",fill:"#3b82f6",children:["V = ",(null===(i=L.npshd_analysis)||void 0===i||null===(r=i.velocity)||void 0===r?void 0:r.toFixed(2))||"N/A"," m/s"]}),(0,xc.jsxs)("text",{x:"370",y:(W+U+40)/2+10,textAnchor:"middle",className:"text-xs",fill:"#6b7280",children:["\u2300",F.suction_pipe_diameter,"mm"]}),(0,xc.jsx)("line",{x1:"570",y1:U+40,x2:"630",y2:U+40,stroke:"#3b82f6",strokeWidth:"4",markerEnd:"url(#arrowBlue)",opacity:"0.9"}),(0,xc.jsxs)("text",{x:"600",y:U+65,textAnchor:"middle",className:"text-xs font-bold",fill:"#3b82f6",children:[(null===(s=L.hmt_analysis)||void 0===s||null===(a=s.discharge_velocity)||void 0===a?void 0:a.toFixed(2))||"N/A"," m/s"]}),(0,xc.jsxs)("text",{x:"600",y:U+80,textAnchor:"middle",className:"text-xs",fill:"#6b7280",children:["\u2300",F.discharge_pipe_diameter,"mm"]}),(0,xc.jsx)("rect",{x:"840",y:"80",width:"340",height:"660",fill:"white",stroke:"#d1d5db",strokeWidth:"4",rx:"20",filter:"url(#shadow)"}),(0,xc.jsx)("rect",{x:"840",y:"80",width:"340",height:"70",fill:$,rx:"20"}),(0,xc.jsx)("text",{x:"1010",y:"125",textAnchor:"middle",className:"text-xl font-bold",fill:"white",children:"\ud83d\udcca EXPERT HYDRAULIQUE"}),(0,xc.jsx)("rect",{x:"850",y:"160",width:"320",height:"150",fill:"#f0f9ff",stroke:"#0284c7",strokeWidth:"2",rx:"10"}),(0,xc.jsx)("text",{x:"860",y:"180",className:"text-sm font-bold",fill:"#0c4a6e",children:"\ud83d\udca7 PROPRI\xc9T\xc9S DU FLUIDE"}),(0,xc.jsxs)("text",{x:"860",y:"200",className:"text-xs",fill:"#1f2937",children:["Type: ",(null===(o=z.find((e=>e.id===F.fluid_type)))||void 0===o?void 0:o.name)||"N/A"]}),(0,xc.jsxs)("text",{x:"860",y:"215",className:"text-xs",fill:"#1f2937",children:["Temp\xe9rature: ",F.temperature,"\xb0C"]}),(0,xc.jsxs)("text",{x:"860",y:"230",className:"text-xs",fill:"#1f2937",children:["Masse volumique: ",(()=>{let e=1e3;return"water"===F.fluid_type?e=1e3-.2*(F.temperature-20):"oil"===F.fluid_type?e=850-.7*(F.temperature-20):"acid"===F.fluid_type?e=1200-.3*(F.temperature-20):"glycol"===F.fluid_type?e=1113-.8*(F.temperature-20):"palm_oil"===F.fluid_type?e=915-.65*(F.temperature-20):"gasoline"===F.fluid_type?e=740-.9*(F.temperature-20):"diesel"===F.fluid_type?e=840-.75*(F.temperature-20):"hydraulic_oil"===F.fluid_type?e=875-.65*(F.temperature-20):"ethanol"===F.fluid_type?e=810-1.05*(F.temperature-20):"seawater"===F.fluid_type?e=1025-.25*(F.temperature-20):"methanol"===F.fluid_type?e=792-1.2*(F.temperature-20):"glycerol"===F.fluid_type?e=1260-.65*(F.temperature-20):"milk"===F.fluid_type?e=1030-.3*(F.temperature-20):"honey"===F.fluid_type?e=1400-.8*(F.temperature-20):"wine"===F.fluid_type?e=990-.9*(F.temperature-20):"bleach"===F.fluid_type?e=1050-.25*(F.temperature-20):"yogurt"===F.fluid_type?e=1050-.35*(F.temperature-20):"tomato_sauce"===F.fluid_type?e=1100-.4*(F.temperature-20):"soap_solution"===F.fluid_type?e=1010-.28*(F.temperature-20):"fruit_juice"===F.fluid_type&&(e=1045-.35*(F.temperature-20)),Math.max(e,500).toFixed(1)})()," kg/m\xb3"]}),(0,xc.jsxs)("text",{x:"860",y:"245",className:"text-xs",fill:"#1f2937",children:["Viscosit\xe9: ",(()=>{let e=.001;return"water"===F.fluid_type?e=.001-5e-5*(F.temperature-20):"oil"===F.fluid_type?e=.05-.002*(F.temperature-20):"acid"===F.fluid_type?e=.002-1e-4*(F.temperature-20):"glycol"===F.fluid_type?e=.0161-8e-4*(F.temperature-20):"palm_oil"===F.fluid_type?e=.045-.0018*(F.temperature-20):"gasoline"===F.fluid_type?e=55e-5-15e-6*(F.temperature-20):"diesel"===F.fluid_type?e=.0035-12e-5*(F.temperature-20):"hydraulic_oil"===F.fluid_type?e=.046-.0019*(F.temperature-20):"ethanol"===F.fluid_type?e=.0012-4e-5*(F.temperature-20):"seawater"===F.fluid_type?e=.00107-52e-6*(F.temperature-20):"methanol"===F.fluid_type?e=59e-5-25e-6*(F.temperature-20):"glycerol"===F.fluid_type?e=1.48-.058*(F.temperature-20):"milk"===F.fluid_type?e=.0015-6e-5*(F.temperature-20):"honey"===F.fluid_type?e=8.5-.25*(F.temperature-20):"wine"===F.fluid_type?e=.0012-4e-5*(F.temperature-20):"bleach"===F.fluid_type?e=.0011-45e-6*(F.temperature-20):"yogurt"===F.fluid_type?e=.15-.008*(F.temperature-20):"tomato_sauce"===F.fluid_type?e=2.5-.12*(F.temperature-20):"soap_solution"===F.fluid_type?e=.0013-5e-5*(F.temperature-20):"fruit_juice"===F.fluid_type&&(e=.0018-7e-5*(F.temperature-20)),Math.max(e,1e-4).toFixed(4)})()," Pa\xb7s"]}),(0,xc.jsxs)("text",{x:"860",y:"260",className:"text-xs",fill:"#1f2937",children:["P. vapeur: ",(()=>{let e=2340;return"water"===F.fluid_type?e=2340+100*(F.temperature-20):"oil"===F.fluid_type?e=100+20*(F.temperature-20):"acid"===F.fluid_type?e=3e3+150*(F.temperature-20):"glycol"===F.fluid_type?e=10+5*(F.temperature-20):"palm_oil"===F.fluid_type?e=.001+1e-4*(F.temperature-20):"gasoline"===F.fluid_type?e=13e3+850*(F.temperature-20):"diesel"===F.fluid_type?e=300+25*(F.temperature-20):"hydraulic_oil"===F.fluid_type?e=.1+.02*(F.temperature-20):"ethanol"===F.fluid_type?e=5870+420*(F.temperature-20):"seawater"===F.fluid_type?e=2280+95*(F.temperature-20):"methanol"===F.fluid_type?e=12800+780*(F.temperature-20):"glycerol"===F.fluid_type?e=.001+2e-4*(F.temperature-20):"milk"===F.fluid_type?e=2200+95*(F.temperature-20):"honey"===F.fluid_type?e=.1+.02*(F.temperature-20):"wine"===F.fluid_type?e=2800+120*(F.temperature-20):"bleach"===F.fluid_type?e=2100+90*(F.temperature-20):"yogurt"===F.fluid_type?e=2150+92*(F.temperature-20):"tomato_sauce"===F.fluid_type?e=1800+75*(F.temperature-20):"soap_solution"===F.fluid_type?e=2250+95*(F.temperature-20):"fruit_juice"===F.fluid_type&&(e=2100+88*(F.temperature-20)),(Math.max(e,1)/1e3).toFixed(1)})()," kPa"]}),(0,xc.jsxs)("text",{x:"860",y:"275",className:"text-xs",fill:"#1f2937",children:["P. atmosph\xe9rique: ",null!==(l=L.npshd_analysis)&&void 0!==l&&l.atmospheric_pressure?(L.npshd_analysis.atmospheric_pressure/1e3).toFixed(1):"101.3"," kPa"]}),(0,xc.jsxs)("text",{x:"860",y:"290",className:"text-xs",fill:"#1f2937",children:["Altitude: ",F.altitude||0,"m"]}),(0,xc.jsxs)("text",{x:"860",y:"305",className:"text-xs",fill:"#1f2937",children:["Temp. ambiante: ",F.ambient_temperature||25,"\xb0C"]}),(0,xc.jsx)("rect",{x:"850",y:"320",width:"320",height:"100",fill:q?"#e0f2fe":"#fef2f2",stroke:$,strokeWidth:"2",rx:"10"}),(0,xc.jsxs)("text",{x:"860",y:"340",className:"text-sm font-bold",fill:$,children:[G," CONFIGURATION ",Q]}),(0,xc.jsxs)("text",{x:"860",y:"360",className:"text-xs",fill:"#1f2937",children:["Installation: ","surface"===F.installation_type?"Surface":"Immerg\xe9e"]}),(0,xc.jsxs)("text",{x:"860",y:"375",className:"text-xs",fill:"#1f2937",children:["Type aspiration: ",q?"Gravitaire (charge)":"D\xe9pression (lift)"]}),(0,xc.jsxs)("text",{x:"860",y:"390",className:"text-xs",fill:"#1f2937",children:["Hauteur: ",Math.abs(F.suction_height).toFixed(1),"m ",q?"(sous pompe)":"(\xe0 aspirer)"]}),(0,xc.jsxs)("text",{x:"860",y:"405",className:"text-xs",fill:"#1f2937",children:["Avantages: ",q?"Amor\xe7age auto, fiabilit\xe9":"Pompe prot\xe9g\xe9e, maintenance"]}),(0,xc.jsx)("rect",{x:"850",y:"430",width:"320",height:"140",fill:"#eff6ff",stroke:"#3b82f6",strokeWidth:"2",rx:"10"}),(0,xc.jsx)("text",{x:"860",y:"450",className:"text-sm font-bold",fill:"#1e40af",children:"\u26a1 HYDRAULIQUE"}),(0,xc.jsxs)("text",{x:"860",y:"470",className:"text-xs",fill:"#1f2937",children:["D\xe9bit nominal: ",F.flow_rate," m\xb3/h (",((F.flow_rate||0)/3.6).toFixed(3)," m\xb3/s)"]}),(0,xc.jsxs)("text",{x:"860",y:"485",className:"text-xs",fill:"#1f2937",children:["NPSHd calcul\xe9: ",(null===(c=L.npshd_analysis)||void 0===c||null===(d=c.npshd)||void 0===d?void 0:d.toFixed(2))||"N/A"," m"]}),(0,xc.jsxs)("text",{x:"860",y:"500",className:"text-xs",fill:"#1f2937",children:["NPSH requis: ",F.npsh_required," m"]}),(0,xc.jsxs)("text",{x:"860",y:"515",className:"text-xs",fill:"#1f2937",children:["Marge s\xe9curit\xe9: ",(null===(u=L.npshd_analysis)||void 0===u||null===(h=u.npsh_margin)||void 0===h?void 0:h.toFixed(2))||"N/A"," m"]}),(0,xc.jsxs)("text",{x:"860",y:"530",className:"text-xs",fill:"#1f2937",children:["HMT total: ",(null===(m=L.hmt_analysis)||void 0===m||null===(f=m.hmt)||void 0===f?void 0:f.toFixed(2))||"N/A"," m"]}),(0,xc.jsxs)("text",{x:"860",y:"545",className:"text-xs",fill:"#1f2937",children:["Vitesse aspiration: ",(null===(p=L.npshd_analysis)||void 0===p||null===(g=p.velocity)||void 0===g?void 0:g.toFixed(2))||"N/A"," m/s"]}),(0,xc.jsxs)("text",{x:"860",y:"560",className:"text-xs",fill:"#1f2937",children:["R\xe9gime \xe9coulement: ",(null===(x=L.npshd_analysis)||void 0===x?void 0:x.reynolds_number)>4e3?"Turbulent":(null===(b=L.npshd_analysis)||void 0===b?void 0:b.reynolds_number)>2300?"Transitoire":"Laminaire","(Re=",(null===(y=L.npshd_analysis)||void 0===y||null===(v=y.reynolds_number)||void 0===v?void 0:v.toFixed(0))||"N/A",")"]}),(0,xc.jsx)("rect",{x:"850",y:"580",width:"320",height:"100",fill:"#fef3c7",stroke:"#f59e0b",strokeWidth:"2",rx:"10"}),(0,xc.jsx)("text",{x:"860",y:"600",className:"text-sm font-bold",fill:"#92400e",children:"\ud83d\udcc9 PERTES DE CHARGE"}),(0,xc.jsxs)("text",{x:"860",y:"620",className:"text-xs",fill:"#1f2937",children:["Pertes aspiration: ",(null===(_=L.npshd_analysis)||void 0===_||null===(w=_.total_head_loss)||void 0===w?void 0:w.toFixed(2))||"N/A"," m"]}),(0,xc.jsxs)("text",{x:"860",y:"635",className:"text-xs",fill:"#1f2937",children:["Pertes refoulement: ",(null===(j=L.hmt_analysis)||void 0===j||null===(N=j.total_head_loss)||void 0===N?void 0:N.toFixed(2))||"N/A"," m"]}),(0,xc.jsxs)("text",{x:"860",y:"650",className:"text-xs",fill:"#1f2937",children:["Pertes totales: ",(null===(k=L.total_head_loss)||void 0===k?void 0:k.toFixed(2))||"N/A"," m"]}),(0,xc.jsxs)("text",{x:"860",y:"665",className:"text-xs",fill:"#1f2937",children:["Coefficient K total: ",((L.total_head_loss||0)/(((null===(S=L.npshd_analysis)||void 0===S?void 0:S.velocity)||1)**2/19.62)).toFixed(1)]}),(0,xc.jsx)("rect",{x:"850",y:"690",width:"320",height:"60",fill:"#f0fdf4",stroke:"#10b981",strokeWidth:"2",rx:"10"}),(0,xc.jsx)("text",{x:"860",y:"710",className:"text-sm font-bold",fill:"#166534",children:"\ud83d\udcc8 PERFORMANCE"}),(0,xc.jsxs)("text",{x:"860",y:"730",className:"text-xs",fill:"#1f2937",children:["Rendement global: ",(null===(C=L.overall_efficiency)||void 0===C?void 0:C.toFixed(1))||"N/A","% (Pompe: ",F.pump_efficiency,"% \xd7 Moteur: ",F.motor_efficiency,"%)"]}),(0,xc.jsxs)("text",{x:"860",y:"745",className:"text-xs",fill:"#1f2937",children:["Puissance: ",(null===(P=L.performance_analysis)||void 0===P||null===(E=P.hydraulic_power)||void 0===E?void 0:E.toFixed(1))||"N/A"," kW hydraulique"]}),(0,xc.jsxs)("g",{transform:"translate(1010, 745)",children:[(0,xc.jsx)("circle",{cx:"0",cy:"0",r:"18",fill:null!==(M=L.npshd_analysis)&&void 0!==M&&M.cavitation_risk?"#ef4444":"#10b981",stroke:"white",strokeWidth:"4",filter:"url(#shadow)"}),(0,xc.jsx)("text",{x:"0",y:"7",textAnchor:"middle",className:"text-lg font-bold",fill:"white",children:null!==(A=L.npshd_analysis)&&void 0!==A&&A.cavitation_risk?"!":"\u2713"}),(0,xc.jsx)("text",{x:"0",y:"40",textAnchor:"middle",className:"text-sm font-bold",fill:null!==(D=L.npshd_analysis)&&void 0!==D&&D.cavitation_risk?"#ef4444":"#10b981",children:null!==(T=L.npshd_analysis)&&void 0!==T&&T.cavitation_risk?"CAVITATION":"S\xc9CURIS\xc9"})]}),(0,xc.jsx)("rect",{x:"20",y:"720",width:"800",height:"60",fill:"white",stroke:"#d1d5db",strokeWidth:"3",rx:"10",filter:"url(#shadow)"}),(0,xc.jsxs)("text",{x:"30",y:"740",className:"text-sm font-bold",fill:"#1f2937",children:["L\xc9GENDE TECHNIQUE - CONFIGURATION ",Q,":"]}),(0,xc.jsx)("line",{x1:"30",y1:"755",x2:"50",y2:"755",stroke:$,strokeWidth:"2",markerEnd:"url(#arrowRed)"}),(0,xc.jsx)("text",{x:"55",y:"760",className:"text-xs font-medium",fill:$,children:q?"Charge gravitaire":"Aspiration d\xe9pression"}),(0,xc.jsx)("line",{x1:"200",y1:"755",x2:"220",y2:"755",stroke:"#3b82f6",strokeWidth:"3",markerEnd:"url(#arrowBlue)"}),(0,xc.jsx)("text",{x:"225",y:"760",className:"text-xs font-medium",fill:"#3b82f6",children:"Sens d'\xe9coulement"}),(0,xc.jsx)("rect",{x:"350",y:"750",width:"18",height:"10",fill:"url(#waterGradient)"}),(0,xc.jsx)("text",{x:"375",y:"760",className:"text-xs font-medium",fill:"#3b82f6",children:(null===(R=z.find((e=>e.id===F.fluid_type)))||void 0===R?void 0:R.name)||"Fluide"}),(0,xc.jsx)("rect",{x:"450",y:"750",width:"18",height:"10",fill:"url(#pumpGradient)"}),(0,xc.jsx)("text",{x:"475",y:"760",className:"text-xs font-medium",fill:"#10b981",children:"Pompe centrifuge"}),(0,xc.jsx)("circle",{cx:"570",cy:"755",r:"8",fill:null!==(O=L.npshd_analysis)&&void 0!==O&&O.cavitation_risk?"#ef4444":"#10b981"}),(0,xc.jsx)("text",{x:"585",y:"760",className:"text-xs font-medium",fill:"#6b7280",children:"Statut hydraulique"}),(0,xc.jsx)("text",{x:"700",y:"760",className:"text-xs font-medium",fill:"#6b7280",children:V.description}),(0,xc.jsxs)("text",{x:"30",y:"775",className:"text-xs",fill:"#6b7280",children:["\u2699\ufe0f ",Q,": ",q?"Pompe aliment\xe9e par gravit\xe9 - Fiabilit\xe9 optimale":"Pompe aspire le fluide - Attention NPSHd"]})]})},Fc=e=>{var t,n,i,s,a,o,l,c,u,h,m,f,p,g,x,b;let{fluids:y,pipeMaterials:v}=e;const[_,w]=(0,r.useState)({flow_rate:50,hmt:25,pipe_diameter:114.3,fluid_type:"water",pipe_material:"pvc",pump_efficiency:75,motor_efficiency:90,absorbed_power:null,hydraulic_power:null,starting_method:"star_delta",power_factor:.8,cable_length:50,cable_material:"copper",cable_section:null,voltage:400}),[j,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),C=(0,r.useRef)(null),P=(0,r.useRef)(null),E=(0,r.useRef)(null),M=(0,r.useRef)(null),A=(e,t)=>{w((n=>d(d({},n),{},{[e]:t})))},D=e=>{if(!E.current)return;const t=E.current.getContext("2d");M.current&&M.current.destroy();const n=e.performance_curves,i=n.best_operating_point;M.current=new gc(t,{type:"line",data:{labels:n.flow,datasets:[{label:"Puissance Absorb\xe9e (kW)",data:n.power,borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:3,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1},{label:"Point de Fonctionnement",data:n.flow.map(((e,t)=>Math.abs(e-i.flow)<.1?n.power[t]:null)),borderColor:"#000000",backgroundColor:"#000000",borderWidth:4,pointRadius:8,pointHoverRadius:12,showLine:!1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"D\xe9bit (m\xb3/h)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{display:!0,title:{display:!0,text:"Puissance Absorb\xe9e (kW)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{legend:{position:"top",labels:{font:{size:12,weight:"bold"},usePointStyle:!0}},title:{display:!0,text:"Courbe de Puissance Absorb\xe9e",font:{size:16,weight:"bold"}},tooltip:{callbacks:{afterLabel:function(e){const t=e.dataset.label;var n,r;return t.includes("Puissance")?"Puissance au point de fonctionnement: ".concat(null===(n=i.power)||void 0===n?void 0:n.toFixed(2)," kW"):t.includes("Point")?"Point de fonctionnement saisi: Q=".concat(i.flow,"m\xb3/h, P=").concat(null===(r=i.power)||void 0===r?void 0:r.toFixed(2),"kW"):""}}}}}})},T=e=>{if(!C.current)return;const t=C.current.getContext("2d");P.current&&P.current.destroy();const n=e.performance_curves,i=n.best_operating_point;n.flow.findIndex((e=>Math.abs(e-i.flow)<.1));P.current=new gc(t,{type:"line",data:{labels:n.flow,datasets:[{label:"HMT Pompe (m)",data:n.hmt,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y"},{label:"Pertes de Charge R\xe9seau (m)",data:n.head_loss,borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:3,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y"},{label:"Rendement (%)",data:n.efficiency,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,pointRadius:0,pointHoverRadius:8,tension:.4,fill:!1,yAxisID:"y1"},{label:"Point de Fonctionnement",data:n.flow.map(((e,t)=>Math.abs(e-i.flow)<.1?n.hmt[t]:null)),borderColor:"#000000",backgroundColor:"#000000",borderWidth:4,pointRadius:8,pointHoverRadius:12,showLine:!1,yAxisID:"y"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"D\xe9bit (m\xb3/h)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"HMT (m)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.1)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Rendement (%)",font:{size:14,weight:"bold"}},min:0,max:100,grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top",labels:{font:{size:12,weight:"bold"},usePointStyle:!0}},title:{display:!0,text:"Courbes de Performance Hydraulique Q/H",font:{size:16,weight:"bold"}},tooltip:{callbacks:{afterLabel:function(e){n.flow[e.dataIndex];const t=e.dataset.label;return t.includes("HMT")||t.includes("Pertes")?"Point de croisement: Q=".concat(i.flow,"m\xb3/h, H=").concat(i.hmt,"m"):t.includes("Rendement")?"Rendement au point de fonctionnement: ".concat(null===(r=i.efficiency)||void 0===r?void 0:r.toFixed(1),"%"):t.includes("Point")?"Point de fonctionnement saisi: Q=".concat(i.flow,"m\xb3/h, H=").concat(i.hmt,"m"):"";var r}}}}}})};return(0,xc.jsxs)("div",{className:"space-y-8 font-inter",style:Cc,children:[(0,xc.jsxs)("div",{className:"bg-gradient-to-r from-amber-600 via-orange-600 to-red-600 rounded-2xl shadow-xl p-8 text-white",children:[(0,xc.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h2",{className:"text-3xl font-bold mb-2 tracking-tight",children:"\ud83d\udfe8 Analyse Performance Professionelle"}),(0,xc.jsx)("p",{className:"text-amber-100 text-lg font-medium",children:"Courbes de Performance & Calculs \xc9lectriques - Optimisation expert"})]}),(0,xc.jsx)("div",{className:"hidden md:block",children:(0,xc.jsxs)("div",{className:"text-right",children:[(0,xc.jsx)("div",{className:"text-2xl font-bold",children:"Q/H"}),(0,xc.jsx)("div",{className:"text-sm opacity-90",children:"Conformit\xe9 ISO 9906"})]})})]}),(0,xc.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"ISO"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"9906"})]}),(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"API"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"610"})]}),(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"Q/H"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"Curves"})]}),(0,xc.jsxs)("div",{className:"bg-white/10 backdrop-blur rounded-lg p-3 text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-lg",children:"Analysis"}),(0,xc.jsx)("div",{className:"text-xs opacity-90",children:"Expert"})]})]})]}),(0,xc.jsx)(kc,{title:"Param\xe8tres de Performance Hydraulique",icon:"\ud83d\udca7",className:"shadow-xl",children:(0,xc.jsxs)(Sc,{cols:3,children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"D\xe9bit (m\xb3/h)"}),(0,xc.jsx)(jc,{type:"number",value:_.flow_rate,onChange:e=>A("flow_rate",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 50"}),(0,xc.jsx)("div",{className:"text-xs text-blue-600 mt-1 font-medium",children:"Point de fonctionnement nominal"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"HMT (m)"}),(0,xc.jsx)(jc,{type:"number",value:_.hmt,onChange:e=>A("hmt",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 25"}),(0,xc.jsx)("div",{className:"text-xs text-green-600 mt-1 font-medium",children:"Hauteur manom\xe9trique totale"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Diam\xe8tre de tuyauterie"}),(0,xc.jsx)(Nc,{value:_.pipe_diameter,onChange:e=>A("pipe_diameter",parseFloat(e.target.value)),required:!0,children:[{value:26.9,label:"DN20 (26.9mm)"},{value:33.7,label:"DN25 (33.7mm)"},{value:42.4,label:"DN32 (42.4mm)"},{value:48.3,label:"DN40 (48.3mm)"},{value:60.3,label:"DN50 (60.3mm)"},{value:76.1,label:"DN65 (76.1mm)"},{value:88.9,label:"DN80 (88.9mm)"},{value:114.3,label:"DN100 (114.3mm)"},{value:139.7,label:"DN125 (139.7mm)"},{value:168.3,label:"DN150 (168.3mm)"},{value:219.1,label:"DN200 (219.1mm)"},{value:273.1,label:"DN250 (273.1mm)"},{value:323.9,label:"DN300 (323.9mm)"},{value:355.6,label:"DN350 (355.6mm)"},{value:406.4,label:"DN400 (406.4mm)"},{value:457.2,label:"DN450 (457.2mm)"},{value:508,label:"DN500 (508mm)"}].map((e=>(0,xc.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,xc.jsx)("div",{className:"text-xs text-purple-600 mt-1 font-medium",children:"Diam\xe8tre nominal standard"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Type de fluide"}),(0,xc.jsx)(Nc,{value:_.fluid_type,onChange:e=>A("fluid_type",e.target.value),required:!0,children:y.map((e=>(0,xc.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,xc.jsx)("div",{className:"text-xs text-cyan-600 mt-1 font-medium",children:"Propri\xe9t\xe9s physiques du fluide"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Mat\xe9riau de tuyauterie"}),(0,xc.jsx)(Nc,{value:_.pipe_material,onChange:e=>A("pipe_material",e.target.value),required:!0,children:v.map((e=>(0,xc.jsxs)("option",{value:e.id,children:[e.name," (\u03b5 = ",e.roughness," mm)"]},e.id)))}),(0,xc.jsx)("div",{className:"text-xs text-orange-600 mt-1 font-medium",children:"Rugosit\xe9 pour calculs de pertes"})]})]})}),(0,xc.jsx)(kc,{title:"Rendements et Performance",icon:"\u2699\ufe0f",className:"shadow-xl",children:(0,xc.jsxs)(Sc,{cols:2,children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Rendement Pompe (%)"}),(0,xc.jsx)(jc,{type:"number",value:_.pump_efficiency,onChange:e=>A("pump_efficiency",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 75",min:"40",max:"95"}),(0,xc.jsx)("div",{className:"text-xs text-green-600 mt-1 font-medium",children:"Rendement hydraulique de la pompe"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Rendement Moteur (%)"}),(0,xc.jsx)(jc,{type:"number",value:_.motor_efficiency,onChange:e=>A("motor_efficiency",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 90",min:"70",max:"98"}),(0,xc.jsx)("div",{className:"text-xs text-blue-600 mt-1 font-medium",children:"Rendement \xe9lectrique du moteur"})]})]})}),(0,xc.jsx)(kc,{title:"Configuration \xc9lectrique",icon:"\u26a1",className:"shadow-xl",children:(0,xc.jsxs)(Sc,{cols:3,children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Tension (V)"}),(0,xc.jsxs)(Nc,{value:_.voltage,onChange:e=>A("voltage",parseInt(e.target.value)),required:!0,children:[(0,xc.jsx)("option",{value:230,children:"230V (Monophas\xe9)"}),(0,xc.jsx)("option",{value:400,children:"400V (Triphas\xe9)"}),(0,xc.jsx)("option",{value:690,children:"690V (Industriel)"})]}),(0,xc.jsx)("div",{className:"text-xs text-red-600 mt-1 font-medium",children:"Tension d'alimentation"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Facteur de Puissance"}),(0,xc.jsxs)(Nc,{value:_.power_factor,onChange:e=>A("power_factor",parseFloat(e.target.value)),required:!0,children:[(0,xc.jsx)("option",{value:.7,children:"0.7 (Faible)"}),(0,xc.jsx)("option",{value:.8,children:"0.8 (Standard)"}),(0,xc.jsx)("option",{value:.85,children:"0.85 (Bon)"}),(0,xc.jsx)("option",{value:.9,children:"0.9 (Excellent)"}),(0,xc.jsx)("option",{value:.95,children:"0.95 (Optimal)"})]}),(0,xc.jsx)("div",{className:"text-xs text-yellow-600 mt-1 font-medium",children:"Cos \u03c6 du syst\xe8me"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"M\xe9thode de D\xe9marrage"}),(0,xc.jsxs)(Nc,{value:_.starting_method,onChange:e=>A("starting_method",e.target.value),required:!0,children:[(0,xc.jsx)("option",{value:"direct",children:"D\xe9marrage Direct"}),(0,xc.jsx)("option",{value:"star_delta",children:"\xc9toile-Triangle"}),(0,xc.jsx)("option",{value:"soft_start",children:"D\xe9marreur Progressif"}),(0,xc.jsx)("option",{value:"vfd",children:"Variateur de Fr\xe9quence"})]}),(0,xc.jsx)("div",{className:"text-xs text-purple-600 mt-1 font-medium",children:"Type de d\xe9marreur \xe9lectrique"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Longueur de C\xe2ble (m)"}),(0,xc.jsx)(jc,{type:"number",value:_.cable_length,onChange:e=>A("cable_length",parseFloat(e.target.value)||0),required:!0,placeholder:"Ex: 50",min:"1"}),(0,xc.jsx)("div",{className:"text-xs text-indigo-600 mt-1 font-medium",children:"Distance entre tableau et moteur"})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)(wc,{required:!0,children:"Mat\xe9riau de C\xe2ble"}),(0,xc.jsxs)(Nc,{value:_.cable_material,onChange:e=>A("cable_material",e.target.value),required:!0,children:[(0,xc.jsx)("option",{value:"copper",children:"Cuivre (Cu)"}),(0,xc.jsx)("option",{value:"aluminum",children:"Aluminium (Al)"})]}),(0,xc.jsx)("div",{className:"text-xs text-gray-600 mt-1 font-medium",children:"Conducteur \xe9lectrique"})]})]})}),(0,xc.jsx)("div",{className:"flex justify-center",children:(0,xc.jsx)("button",{onClick:async()=>{S(!0);try{const e=await Rt.post("".concat(_c,"/calculate-performance"),_);N(e.data),T(e.data),D(e.data)}catch(n){var e,t;console.error("Erreur analyse performance:",n),alert("Erreur lors de l'analyse de performance: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{S(!1)}},disabled:k,className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700  disabled:opacity-50 text-white font-bold py-4 px-12 rounded-xl shadow-lg  transform transition-all duration-200 hover:scale-105 hover:shadow-xl disabled:hover:scale-100 disabled:hover:shadow-lg text-lg tracking-wide min-w-[200px]",children:k?(0,xc.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Analyse en cours..."]}):(0,xc.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xc.jsx)("span",{className:"mr-3",children:"\ud83d\udfe8"}),"Analyser Performance"]})})}),j&&(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"R\xe9sultats Analyse de Performance"}),j.warnings&&j.warnings.length>0&&(0,xc.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,xc.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"\u26a0\ufe0f Avertissements"}),(0,xc.jsx)("ul",{className:"text-sm text-yellow-700 space-y-1",children:j.warnings.map(((e,t)=>(0,xc.jsxs)("li",{children:["\u2022 ",e]},t)))})]}),j.recommendations&&j.recommendations.length>0&&(0,xc.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,xc.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udca1 Recommandations"}),(0,xc.jsx)("ul",{className:"text-sm text-blue-700 space-y-1",children:j.recommendations.map(((e,t)=>(0,xc.jsxs)("li",{children:["\u2022 ",e]},t)))})]}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Donn\xe9es Hydrauliques"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Vitesse:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(t=j.velocity)||void 0===t?void 0:t.toFixed(2)," m/s"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Nombre de Reynolds:"}),(0,xc.jsx)("span",{className:"font-medium",children:null===(n=j.reynolds_number)||void 0===n?void 0:n.toFixed(0)})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"R\xe9gime d'\xe9coulement:"}),(0,xc.jsx)("span",{className:"font-medium",children:j.reynolds_number>4e3?"Turbulent":j.reynolds_number>2300?"Transitoire":"Laminaire"})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Rendements"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Rendement pompe:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(i=j.pump_efficiency)||void 0===i?void 0:i.toFixed(1),"%"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Rendement moteur:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(s=j.motor_efficiency)||void 0===s?void 0:s.toFixed(1),"%"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,xc.jsx)("span",{className:"font-semibold",children:"Rendement global:"}),(0,xc.jsxs)("span",{className:"font-bold",children:[null===(a=j.overall_efficiency)||void 0===a?void 0:a.toFixed(1),"%"]})]})]})]})]}),j.alerts&&j.alerts.length>0&&(0,xc.jsxs)("div",{className:"mt-4 bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,xc.jsx)("h4",{className:"font-medium text-orange-800 mb-2",children:"\ud83d\udd14 Alertes Techniques"}),(0,xc.jsx)("ul",{className:"text-sm text-orange-700 space-y-1",children:j.alerts.map(((e,t)=>(0,xc.jsxs)("li",{children:["\u2022 ",e]},t)))})]}),(0,xc.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Calculs \xc9lectriques"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Courant nominal:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(o=j.nominal_current)||void 0===o?void 0:o.toFixed(1)," A"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Courant d\xe9marrage:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(l=j.starting_current)||void 0===l?void 0:l.toFixed(1)," A"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Section de c\xe2ble:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(c=j.recommended_cable_section)||void 0===c?void 0:c.toFixed(1)," mm\xb2"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"M\xe9thode d\xe9marrage:"}),(0,xc.jsx)("span",{className:"font-medium",children:"star_delta"===(null===(u=j.electrical_data)||void 0===u?void 0:u.starting_method)?"\xc9toile-Triangle":"Direct"})]})]})]}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 border-b pb-2",children:"Puissances"}),(0,xc.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Puissance hydraulique:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(h=j.power_calculations)||void 0===h||null===(m=h.hydraulic_power)||void 0===m?void 0:m.toFixed(2)," kW"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Puissance absorb\xe9e:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(f=j.power_calculations)||void 0===f||null===(p=f.absorbed_power)||void 0===p?void 0:p.toFixed(2)," kW"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Tension:"}),(0,xc.jsxs)("span",{className:"font-medium",children:[null===(g=j.electrical_data)||void 0===g?void 0:g.voltage," V"]})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{children:"Facteur de puissance:"}),(0,xc.jsx)("span",{className:"font-medium",children:null===(x=j.electrical_data)||void 0===x?void 0:x.power_factor})]})]})]})]})]}),j.performance_curves&&j.performance_curves.best_operating_point&&(0,xc.jsxs)("div",{className:"mt-6 pt-4 border-t",children:[(0,xc.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"\ud83c\udfaf Point de Fonctionnement (Valeurs Saisies)"}),(0,xc.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,xc.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-blue-800",children:_.flow_rate}),(0,xc.jsx)("div",{className:"text-blue-600",children:"D\xe9bit (m\xb3/h)"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-blue-800",children:_.hmt}),(0,xc.jsx)("div",{className:"text-blue-600",children:"HMT (m)"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-blue-800",children:_.pump_efficiency}),(0,xc.jsx)("div",{className:"text-blue-600",children:"Rendement (%)"})]}),(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"font-bold text-blue-800",children:null===(b=j.performance_curves.best_operating_point.power)||void 0===b?void 0:b.toFixed(2)}),(0,xc.jsx)("div",{className:"text-blue-600",children:"Puissance (kW)"})]})]}),(0,xc.jsx)("div",{className:"mt-3 text-center text-xs text-blue-600",children:"Calcul\xe9 avec formule P2 = ((Q \xd7 HMT) / (\u03b7 \xd7 367)) \xd7 100 et pertes Darcy-Weisbach"})]})]}),(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Courbes de Performance Hydraulique"}),(0,xc.jsx)("canvas",{ref:C,className:"w-full h-96"})]}),(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Courbe de Puissance Absorb\xe9e"}),(0,xc.jsx)("canvas",{ref:E,className:"w-full h-64"})]})]})]})};const Lc=function(){const[e,t]=(0,r.useState)("npshd"),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)([]);(0,r.useEffect)((()=>{u()}),[]);const u=async()=>{console.log("\ud83d\udd04 Chargement des donn\xe9es...",{BACKEND_URL:vc,API:_c});try{var e,t,n,r;const[s,o,c,u]=await Promise.all([Rt.get("".concat(_c,"/fluids")),Rt.get("".concat(_c,"/pipe-materials")),Rt.get("".concat(_c,"/fittings")),Rt.get("".concat(_c,"/history"))]);console.log("\u2705 Donn\xe9es re\xe7ues:",{fluids:(null===(e=s.data.fluids)||void 0===e?void 0:e.length)||0,materials:(null===(t=o.data.materials)||void 0===t?void 0:t.length)||0,fittings:(null===(n=c.data.fittings)||void 0===n?void 0:n.length)||0,history:(null===(r=u.data)||void 0===r?void 0:r.length)||0}),i(s.data.fluids||[]),a(o.data.materials||[]),l(c.data.fittings||[]),d(u.data||[])}catch(c){var s,o;console.error("\u274c Erreur chargement donn\xe9es:",c),console.error("\u274c D\xe9tails erreur:",null===(s=c.response)||void 0===s?void 0:s.status,null===(o=c.response)||void 0===o?void 0:o.data)}};return(0,xc.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,xc.jsx)("header",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-indigo-900 shadow-2xl border-b border-blue-700",children:(0,xc.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,xc.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-blue-700/30",children:[(0,xc.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xc.jsx)("div",{className:"bg-white/10 p-2 rounded-full",children:(0,xc.jsx)("svg",{className:"w-8 h-8 text-blue-200",fill:"currentColor",viewBox:"0 0 24 24",children:(0,xc.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V19A2 2 0 0 0 5 21H19A2 2 0 0 0 21 19V9Z"})})}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"ECO-PUMP AFRIK"}),(0,xc.jsx)("p",{className:"text-blue-200 text-sm font-medium",children:"Calculateur Hydraulique Professionnel"})]})]}),(0,xc.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xc.jsx)("div",{className:"bg-green-500/20 px-3 py-1 rounded-full",children:(0,xc.jsx)("span",{className:"text-green-200 text-xs font-medium",children:"\u25cf ACTIF"})}),(0,xc.jsx)("div",{className:"text-blue-200 text-sm",children:"v3.0 PRO"})]})]}),(0,xc.jsx)("nav",{className:"px-6 py-2",children:(0,xc.jsxs)("div",{className:"flex items-center space-x-1 overflow-x-auto",children:[(0,xc.jsxs)("button",{onClick:()=>t("npshd"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("npshd"===e?"bg-blue-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83d\udd37"}),(0,xc.jsx)("span",{children:"NPSHd"})]}),(0,xc.jsxs)("button",{onClick:()=>t("hmt"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("hmt"===e?"bg-emerald-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83d\udd36"}),(0,xc.jsx)("span",{children:"HMT"})]}),(0,xc.jsxs)("button",{onClick:()=>t("performance"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("performance"===e?"bg-yellow-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83d\udcca"}),(0,xc.jsx)("span",{children:"Performance"})]}),(0,xc.jsxs)("button",{onClick:()=>t("formulas"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("formulas"===e?"bg-purple-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83d\udcda"}),(0,xc.jsx)("span",{children:"Formules"})]}),(0,xc.jsxs)("button",{onClick:()=>t("chemical_compatibility"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("chemical_compatibility"===e?"bg-teal-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83e\uddea"}),(0,xc.jsx)("span",{children:"Compatibilit\xe9"})]}),(0,xc.jsxs)("button",{onClick:()=>t("audit"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("audit"===e?"bg-indigo-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83d\udd27"}),(0,xc.jsx)("span",{children:"Audit"})]}),(0,xc.jsxs)("button",{onClick:()=>t("expert"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("expert"===e?"bg-violet-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83c\udfaf"}),(0,xc.jsx)("span",{children:"Expert"})]}),(0,xc.jsxs)("button",{onClick:()=>t("solar"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("solar"===e?"bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-gradient-to-r hover:from-orange-600 hover:to-yellow-600 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\u2600\ufe0f"}),(0,xc.jsx)("span",{children:"Expert Solaire"})]}),(0,xc.jsxs)("button",{onClick:()=>t("history"),className:"flex items-center space-x-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-200 whitespace-nowrap ".concat("history"===e?"bg-slate-600 text-white shadow-lg transform scale-105":"text-blue-200 hover:bg-blue-700/50 hover:text-white"),children:[(0,xc.jsx)("span",{className:"text-lg",children:"\ud83d\udccb"}),(0,xc.jsx)("span",{children:"Historique"})]})]})})]})}),(0,xc.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(()=>{switch(e){case"npshd":return(0,xc.jsx)(Dc,{fluids:n,pipeMaterials:s,fittings:o});case"hmt":return(0,xc.jsx)(Tc,{fluids:n,pipeMaterials:s,fittings:o});case"performance":return(0,xc.jsx)(Fc,{fluids:n,pipeMaterials:s});case"formulas":return(0,xc.jsx)(Ac,{});case"chemical_compatibility":return(0,xc.jsx)(Mc,{});case"audit":return(0,xc.jsx)(Pc,{});case"expert":return(0,xc.jsx)(Rc,{fluids:n,pipeMaterials:s,fittings:o});case"solar":return(0,xc.jsx)(Ec,{});case"history":return(0,xc.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,xc.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Historique des Calculs"}),0===c.length?(0,xc.jsx)("div",{className:"text-gray-500 text-center py-8",children:"Aucun calcul sauvegard\xe9 pour le moment."}):(0,xc.jsx)("div",{className:"space-y-4",children:c.map((e=>(0,xc.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:(0,xc.jsx)("div",{className:"flex justify-between items-start",children:(0,xc.jsxs)("div",{className:"flex-1",children:[(0,xc.jsx)("h3",{className:"font-medium text-gray-900",children:e.project_name}),(0,xc.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString()})]})})},e.id)))})]});default:return null}})()})]})};s.createRoot(document.getElementById("root")).render((0,xc.jsx)(r.StrictMode,{children:(0,xc.jsx)(Lc,{})}))})();
//# sourceMappingURL=main.82b44b33.js.map